{"version":3,"file":"misago.js","mappings":"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pD,QAAQ,CACb,2DAA2D,EAC3D,4DAA4D,EAC5DopD,SAAS,CACV;EACH,CAAC;EACD,OAAO55B,SAAS,CAAC45B,SAAS,EAAEhsD,OAAO,CAAC;AACtC;AAEO,SAASyY,eAAe,GAAG;EAChC,OAAO,UAAU5iB,KAAK,EAAE;IACtB,IAAI,CAACg2D,QAAQ,CAAC7B,IAAI,CAAC1wD,CAAC,CAACrE,IAAI,CAACY,KAAK,CAAC,CAAC,EAAE;MACjC,OAAO1C,OAAO,CACZ,8DAA8D,CAC/D;IACH;EACF,CAAC;AACH;AAEO,SAAS2xC,iBAAiB,CAAClS,UAAU,EAAE;EAC5C,OAAO,UAAU/8B,KAAK,EAAE;IACtB,IAAMV,MAAM,GAAGU,KAAK,CAACV,MAAM;IAE3B,IAAIA,MAAM,GAAGy9B,UAAU,EAAE;MACvB,IAAMk5B,aAAa,GAAGlpD,QAAQ,CAC5B,iEAAiE,EACjE,kEAAkE,EAClEgwB,UAAU,CACX;MAED,OAAOl3B,WAAW,CAChBowD,aAAa,EACb;QACEj5B,WAAW,EAAED,UAAU;QACvBE,UAAU,EAAE39B;MACd,CAAC,EACD,IAAI,CACL;IACH;EACF,CAAC;AACH;;;;;;;;;;;;ACzIA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCnSA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;WACA;;;;;WCVA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,4CAA4C,mBAAmB;WAC/D;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA,2DAA2D,oEAAoE;WAC/H;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM;WACN;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEvFA;UACA;UACA;UACA,0DAA0D,+CAA+C;UACzG,0DAA0D,2DAA2D;UACrH,0DAA0D,gEAAgE;UAC1H,0DAA0D,2DAA2D;UACrH,0DAA0D,8DAA8D;UACxH,0DAA0D,kFAAkF;UAC5I,0DAA0D,8EAA8E;UACxI,0DAA0D,6EAA6E;UACvI,0DAA0D,4EAA4E;UACtI,0DAA0D,yEAAyE;UACnI,0DAA0D,yEAAyE;UACnI,0DAA0D,yFAAyF;UACnJ,0DAA0D,wFAAwF;UAClJ,0DAA0D,qFAAqF;UAC/I,0DAA0D,wEAAwE;UAClI,0DAA0D,0EAA0E;UACpI,0DAA0D,6EAA6E;UACvI,0DAA0D,wEAAwE;UAClI,0DAA0D,yEAAyE;UACnI,0DAA0D,2EAA2E;UACrI,0DAA0D,uEAAuE;UACjI,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,6EAA6E;UACvI,0DAA0D,4DAA4D;UACtH,0DAA0D,oEAAoE;UAC9H,0DAA0D,iEAAiE;UAC3H,0DAA0D,4DAA4D;UACtH,0DAA0D,8DAA8D;UACxH,0DAA0D,oEAAoE;UAC9H,0DAA0D,4EAA4E;UACtI,0DAA0D,oEAAoE;UAC9H,0DAA0D,qEAAqE;UAC/H,0DAA0D,+EAA+E;UACzI,0DAA0D,+EAA+E;UACzI,0DAA0D,uEAAuE;UACjI,0DAA0D,sEAAsE;UAChI,0DAA0D,yEAAyE;UACnI,0DAA0D,wEAAwE;UAClI,0DAA0D,sEAAsE;UAChI,0DAA0D,uEAAuE;UACjI,0DAA0D,oEAAoE;UAC9H,0DAA0D,gFAAgF;UAC1I,0DAA0D,qEAAqE;UAC/H,0DAA0D,+DAA+D;UACzH,0DAA0D,4DAA4D;UACtH,0DAA0D,iEAAiE;UAC3H,oFAAoF,6DAA6D;UACjJ","sources":["webpack://misago/./src/components/Breadcrumbs/Breadcrumbs.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsCategory.jsx","webpack://misago/./src/components/Breadcrumbs/BreadcrumbsRootCategory.jsx","webpack://misago/./src/components/Breadcrumbs/index.js","webpack://misago/./src/components/FlexRow/FlexRow.jsx","webpack://misago/./src/components/FlexRow/FlexRowCol.jsx","webpack://misago/./src/components/FlexRow/FlexRowSection.jsx","webpack://misago/./src/components/FlexRow/index.js","webpack://misago/./src/components/MarkupEditor/MarkupAttachmentModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupCodeModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditor.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorAttachment.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorAttachments.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorButton.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorFooter.jsx","webpack://misago/./src/components/MarkupEditor/MarkupEditorToolbar.jsx","webpack://misago/./src/components/MarkupEditor/MarkupFormattingHelpModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupImageModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupLinkModal.jsx","webpack://misago/./src/components/MarkupEditor/MarkupQuoteModal.jsx","webpack://misago/./src/components/MarkupEditor/index.js","webpack://misago/./src/components/MarkupEditor/operations.js","webpack://misago/./src/components/MarkupEditor/uploadFile.js","webpack://misago/./src/components/PageContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeader.jsx","webpack://misago/./src/components/PageHeader/PageHeaderBanner.jsx","webpack://misago/./src/components/PageHeader/PageHeaderContainer.jsx","webpack://misago/./src/components/PageHeader/PageHeaderDetails.jsx","webpack://misago/./src/components/PageHeader/PageHeaderHTMLMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderMessage.jsx","webpack://misago/./src/components/PageHeader/PageHeaderPlain.jsx","webpack://misago/./src/components/PageHeader/index.js","webpack://misago/./src/components/RegisterLegalFootnote.js","webpack://misago/./src/components/StartSocialAuth.js","webpack://misago/./src/components/ThreadFlags.jsx","webpack://misago/./src/components/ThreadReplies.jsx","webpack://misago/./src/components/ThreadStarterCard.jsx","webpack://misago/./src/components/ThreadsList/ThreadsList.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListEmpty.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItem.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemActivity.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCategory.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemCheckbox.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemIcon.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemLastPoster.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscription.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListItemSubscriptionOptions.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListLoader.jsx","webpack://misago/./src/components/ThreadsList/ThreadsListUpdatePrompt.jsx","webpack://misago/./src/components/ThreadsList/index.js","webpack://misago/./src/components/Toolbar/Toolbar.jsx","webpack://misago/./src/components/Toolbar/ToolbarItem.jsx","webpack://misago/./src/components/Toolbar/ToolbarSection.jsx","webpack://misago/./src/components/Toolbar/ToolbarSpacer.jsx","webpack://misago/./src/components/Toolbar/index.js","webpack://misago/./src/components/UIPreview/UIPreviewText.js","webpack://misago/./src/components/UIPreview/index.js","webpack://misago/./src/components/accept-agreement.js","webpack://misago/./src/components/add-participant.js","webpack://misago/./src/components/auth-message.js","webpack://misago/./src/components/avatar.js","webpack://misago/./src/components/banned-page.js","webpack://misago/./src/components/button.js","webpack://misago/./src/components/categories/blankslate.js","webpack://misago/./src/components/categories/categories-list.js","webpack://misago/./src/components/categories/category/index.js","webpack://misago/./src/components/categories/category/list-item/description.js","webpack://misago/./src/components/categories/category/list-item/icon.js","webpack://misago/./src/components/categories/category/list-item/index.js","webpack://misago/./src/components/categories/category/list-item/last-thread.js","webpack://misago/./src/components/categories/category/list-item/main.js","webpack://misago/./src/components/categories/category/list-item/stats.js","webpack://misago/./src/components/categories/category/list-item/subcategories/index.js","webpack://misago/./src/components/categories/category/list-item/subcategories/list-item.js","webpack://misago/./src/components/categories/index.js","webpack://misago/./src/components/category-select.js","webpack://misago/./src/components/change-avatar/crop.js","webpack://misago/./src/components/change-avatar/gallery.js","webpack://misago/./src/components/change-avatar/index.js","webpack://misago/./src/components/change-avatar/root.js","webpack://misago/./src/components/change-avatar/upload.js","webpack://misago/./src/components/edit-details/blankslate.js","webpack://misago/./src/components/edit-details/field-input.js","webpack://misago/./src/components/edit-details/fieldset.js","webpack://misago/./src/components/edit-details/form.js","webpack://misago/./src/components/edit-details/index.js","webpack://misago/./src/components/edit-details/loader.js","webpack://misago/./src/components/form-group.js","webpack://misago/./src/components/form.js","webpack://misago/./src/components/li.js","webpack://misago/./src/components/loader.js","webpack://misago/./src/components/merge-conflict.js","webpack://misago/./src/components/misago-markup.js","webpack://misago/./src/components/modal-loader.js","webpack://misago/./src/components/modal-message.js","webpack://misago/./src/components/navbar-search/clean-results.js","webpack://misago/./src/components/navbar-search/dropdown/constants.js","webpack://misago/./src/components/navbar-search/dropdown/dropdown-menu.js","webpack://misago/./src/components/navbar-search/dropdown/empty.js","webpack://misago/./src/components/navbar-search/dropdown/flatten-results.js","webpack://misago/./src/components/navbar-search/dropdown/index.js","webpack://misago/./src/components/navbar-search/dropdown/input.js","webpack://misago/./src/components/navbar-search/dropdown/loader.js","webpack://misago/./src/components/navbar-search/dropdown/result/footer.js","webpack://misago/./src/components/navbar-search/dropdown/result/header.js","webpack://misago/./src/components/navbar-search/dropdown/result/index.js","webpack://misago/./src/components/navbar-search/dropdown/result/result.js","webpack://misago/./src/components/navbar-search/dropdown/result/thread.js","webpack://misago/./src/components/navbar-search/dropdown/result/user.js","webpack://misago/./src/components/navbar-search/index.js","webpack://misago/./src/components/options/change-username/form-loading.js","webpack://misago/./src/components/options/change-username/form-locked.js","webpack://misago/./src/components/options/change-username/form.js","webpack://misago/./src/components/options/change-username/root.js","webpack://misago/./src/components/options/delete-account.js","webpack://misago/./src/components/options/download-data.js","webpack://misago/./src/components/options/edit-details.js","webpack://misago/./src/components/options/forum-options.js","webpack://misago/./src/components/options/navs.js","webpack://misago/./src/components/options/root.js","webpack://misago/./src/components/options/sign-in-credentials/UnusablePasswordMessage.js","webpack://misago/./src/components/options/sign-in-credentials/change-email.js","webpack://misago/./src/components/options/sign-in-credentials/change-password.js","webpack://misago/./src/components/options/sign-in-credentials/root.js","webpack://misago/./src/components/page-lead.js","webpack://misago/./src/components/panel-loader.js","webpack://misago/./src/components/panel-message.js","webpack://misago/./src/components/participants/add-participant.js","webpack://misago/./src/components/participants/cards-list/actions.js","webpack://misago/./src/components/participants/cards-list/card.js","webpack://misago/./src/components/participants/cards-list/index.js","webpack://misago/./src/components/participants/cards-list/make-owner.js","webpack://misago/./src/components/participants/cards-list/remove.js","webpack://misago/./src/components/participants/index.js","webpack://misago/./src/components/participants/utils.js","webpack://misago/./src/components/password-strength.js","webpack://misago/./src/components/poll/form/choices-control.js","webpack://misago/./src/components/poll/form/index.js","webpack://misago/./src/components/poll/index.js","webpack://misago/./src/components/poll/info.js","webpack://misago/./src/components/poll/poll.js","webpack://misago/./src/components/poll/results/chart.js","webpack://misago/./src/components/poll/results/index.js","webpack://misago/./src/components/poll/results/modal.js","webpack://misago/./src/components/poll/results/options.js","webpack://misago/./src/components/poll/voting/help.js","webpack://misago/./src/components/poll/voting/index.js","webpack://misago/./src/components/poll/voting/select.js","webpack://misago/./src/components/poll/voting/utils.js","webpack://misago/./src/components/post-changelog/diff.js","webpack://misago/./src/components/post-changelog/footer.js","webpack://misago/./src/components/post-changelog/index.js","webpack://misago/./src/components/post-changelog/toolbar.js","webpack://misago/./src/components/post-changelog/utils.js","webpack://misago/./src/components/post-feed/index.js","webpack://misago/./src/components/post-feed/post/body.js","webpack://misago/./src/components/post-feed/post/header.js","webpack://misago/./src/components/post-feed/post/index.js","webpack://misago/./src/components/post-feed/post/post-side/anonymous.js","webpack://misago/./src/components/post-feed/post/post-side/button.js","webpack://misago/./src/components/post-feed/post/post-side/index.js","webpack://misago/./src/components/post-feed/post/post-side/registered.js","webpack://misago/./src/components/post-feed/post/post-side/user-title.js","webpack://misago/./src/components/post-feed/preview.js","webpack://misago/./src/components/post-likes.js","webpack://misago/./src/components/posting/PostingDialog.jsx","webpack://misago/./src/components/posting/PostingDialogBody.jsx","webpack://misago/./src/components/posting/PostingDialogError.jsx","webpack://misago/./src/components/posting/PostingDialogHeader.jsx","webpack://misago/./src/components/posting/PostingQuoteSelection.jsx","webpack://misago/./src/components/posting/PostingThreadOptions.jsx","webpack://misago/./src/components/posting/edit.js","webpack://misago/./src/components/posting/getQuoteMarkup.js","webpack://misago/./src/components/posting/globalState.js","webpack://misago/./src/components/posting/index.js","webpack://misago/./src/components/posting/reply.js","webpack://misago/./src/components/posting/start-private.js","webpack://misago/./src/components/posting/start.js","webpack://misago/./src/components/posting/utils/attachments.js","webpack://misago/./src/components/posting/utils/usernames.js","webpack://misago/./src/components/posting/utils/validators.js","webpack://misago/./src/components/posts-list/event/controls.js","webpack://misago/./src/components/posts-list/event/icon.js","webpack://misago/./src/components/posts-list/event/index.js","webpack://misago/./src/components/posts-list/event/info.js","webpack://misago/./src/components/posts-list/event/message.js","webpack://misago/./src/components/posts-list/event/unread-label.js","webpack://misago/./src/components/posts-list/index.js","webpack://misago/./src/components/posts-list/post/attachments/attachment.js","webpack://misago/./src/components/posts-list/post/attachments/index.js","webpack://misago/./src/components/posts-list/post/body.js","webpack://misago/./src/components/posts-list/post/controls/actions.js","webpack://misago/./src/components/posts-list/post/controls/dropdown.js","webpack://misago/./src/components/posts-list/post/controls/index.js","webpack://misago/./src/components/posts-list/post/controls/move.js","webpack://misago/./src/components/posts-list/post/controls/split.js","webpack://misago/./src/components/posts-list/post/flags.js","webpack://misago/./src/components/posts-list/post/footer.js","webpack://misago/./src/components/posts-list/post/header.js","webpack://misago/./src/components/posts-list/post/index.js","webpack://misago/./src/components/posts-list/post/post-side/anonymous.js","webpack://misago/./src/components/posts-list/post/post-side/has-visible-title.js","webpack://misago/./src/components/posts-list/post/post-side/index.js","webpack://misago/./src/components/posts-list/post/post-side/registered.js","webpack://misago/./src/components/posts-list/post/post-side/user-postcount.js","webpack://misago/./src/components/posts-list/post/post-side/user-status.js","webpack://misago/./src/components/posts-list/post/post-side/user-title.js","webpack://misago/./src/components/posts-list/post/preview.js","webpack://misago/./src/components/posts-list/post/select.js","webpack://misago/./src/components/posts-list/waypoint.js","webpack://misago/./src/components/profile/ProfileDataList.jsx","webpack://misago/./src/components/profile/ProfileHeader.jsx","webpack://misago/./src/components/profile/ProfileNav.js","webpack://misago/./src/components/profile/ban-details.js","webpack://misago/./src/components/profile/details/empty-message.js","webpack://misago/./src/components/profile/details/field-value.js","webpack://misago/./src/components/profile/details/field.js","webpack://misago/./src/components/profile/details/form.js","webpack://misago/./src/components/profile/details/group.js","webpack://misago/./src/components/profile/details/groups-list.js","webpack://misago/./src/components/profile/details/header.js","webpack://misago/./src/components/profile/details/index.js","webpack://misago/./src/components/profile/feed/index.js","webpack://misago/./src/components/profile/feed/route.js","webpack://misago/./src/components/profile/follow-button.js","webpack://misago/./src/components/profile/followers.js","webpack://misago/./src/components/profile/follows.js","webpack://misago/./src/components/profile/message-button.js","webpack://misago/./src/components/profile/moderation/avatar-controls.js","webpack://misago/./src/components/profile/moderation/change-username.js","webpack://misago/./src/components/profile/moderation/delete-account.js","webpack://misago/./src/components/profile/moderation/nav.js","webpack://misago/./src/components/profile/root.js","webpack://misago/./src/components/profile/username-history.js","webpack://misago/./src/components/quick-search.js","webpack://misago/./src/components/register-button.js","webpack://misago/./src/components/register.js","webpack://misago/./src/components/request-activation-link.js","webpack://misago/./src/components/request-password-reset.js","webpack://misago/./src/components/reset-password-form.js","webpack://misago/./src/components/search/form.js","webpack://misago/./src/components/search/index.js","webpack://misago/./src/components/search/page.js","webpack://misago/./src/components/search/sidenav.js","webpack://misago/./src/components/search/threads/index.js","webpack://misago/./src/components/search/threads/results.js","webpack://misago/./src/components/search/users/index.js","webpack://misago/./src/components/select.js","webpack://misago/./src/components/sign-in.js","webpack://misago/./src/components/snackbar.js","webpack://misago/./src/components/social-auth/complete.js","webpack://misago/./src/components/social-auth/header.js","webpack://misago/./src/components/social-auth/index.js","webpack://misago/./src/components/social-auth/register.js","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeader.jsx","webpack://misago/./src/components/thread/ThreadHeader/ThreadHeaderBreadcrumbs.jsx","webpack://misago/./src/components/thread/ThreadHeader/index.js","webpack://misago/./src/components/thread/ThreadModeration.jsx","webpack://misago/./src/components/thread/ThreadPagination.jsx","webpack://misago/./src/components/thread/ThreadPollButton.jsx","webpack://misago/./src/components/thread/ThreadPostsLeft.jsx","webpack://misago/./src/components/thread/ThreadPostsModeration.jsx","webpack://misago/./src/components/thread/ThreadReplyButton.jsx","webpack://misago/./src/components/thread/ThreadShortcutsButton.jsx","webpack://misago/./src/components/thread/ThreadSubscriptionButton.jsx","webpack://misago/./src/components/thread/ThreadToolbarBottom.jsx","webpack://misago/./src/components/thread/ThreadToolbarTop.jsx","webpack://misago/./src/components/thread/moderation/posts/actions.js","webpack://misago/./src/components/thread/moderation/posts/dropdown.js","webpack://misago/./src/components/thread/moderation/posts/errors-list.js","webpack://misago/./src/components/thread/moderation/posts/index.js","webpack://misago/./src/components/thread/moderation/posts/move.js","webpack://misago/./src/components/thread/moderation/posts/split.js","webpack://misago/./src/components/thread/moderation/thread/ThreadChangeTitleModal.jsx","webpack://misago/./src/components/thread/moderation/thread/controls.js","webpack://misago/./src/components/thread/moderation/thread/index.js","webpack://misago/./src/components/thread/moderation/thread/merge.js","webpack://misago/./src/components/thread/moderation/thread/move.js","webpack://misago/./src/components/thread/root.js","webpack://misago/./src/components/thread/route.js","webpack://misago/./src/components/threads/ThreadsCategoryPicker.jsx","webpack://misago/./src/components/threads/ThreadsListPicker.jsx","webpack://misago/./src/components/threads/ThreadsToolbar.jsx","webpack://misago/./src/components/threads/ThreadsToolbarModeration.jsx","webpack://misago/./src/components/threads/compare.js","webpack://misago/./src/components/threads/container.js","webpack://misago/./src/components/threads/moderation/controls.js","webpack://misago/./src/components/threads/moderation/errors-list.js","webpack://misago/./src/components/threads/moderation/merge.js","webpack://misago/./src/components/threads/moderation/move.js","webpack://misago/./src/components/threads/root.js","webpack://misago/./src/components/threads/route.js","webpack://misago/./src/components/threads/utils.js","webpack://misago/./src/components/user-menu/guest-nav.js","webpack://misago/./src/components/user-menu/root.js","webpack://misago/./src/components/user-menu/user-nav.js","webpack://misago/./src/components/user-status.js","webpack://misago/./src/components/username-history/change-preview.js","webpack://misago/./src/components/username-history/change.js","webpack://misago/./src/components/username-history/list-empty.js","webpack://misago/./src/components/username-history/list-preview.js","webpack://misago/./src/components/username-history/list-ready.js","webpack://misago/./src/components/username-history/root.js","webpack://misago/./src/components/users-list/card/index.js","webpack://misago/./src/components/users-list/card/stats.js","webpack://misago/./src/components/users-list/card/user-title.js","webpack://misago/./src/components/users-list/index.js","webpack://misago/./src/components/users-list/preview/card.js","webpack://misago/./src/components/users-list/preview/index.js","webpack://misago/./src/components/users/UsersNav.js","webpack://misago/./src/components/users/active-posters/list-empty.js","webpack://misago/./src/components/users/active-posters/list-item-preview.js","webpack://misago/./src/components/users/active-posters/list-item.js","webpack://misago/./src/components/users/active-posters/list-preview.js","webpack://misago/./src/components/users/active-posters/list-ready.js","webpack://misago/./src/components/users/active-posters/root.js","webpack://misago/./src/components/users/rank/RankUsersLeft.jsx","webpack://misago/./src/components/users/rank/RankUsersList.js","webpack://misago/./src/components/users/rank/RankUsersListLoader.js","webpack://misago/./src/components/users/rank/RankUsersPagination.jsx","webpack://misago/./src/components/users/rank/RankUsersToolbar.jsx","webpack://misago/./src/components/users/rank/root.js","webpack://misago/./src/components/users/root.js","webpack://misago/./src/components/with-dropdown.js","webpack://misago/./src/components/yes-no-switch.js","webpack://misago/./src/data/profile-details.js","webpack://misago/./src/index.js","webpack://misago/./src/initializers/ajax.js","webpack://misago/./src/initializers/auth-sync.js","webpack://misago/./src/initializers/auth.js","webpack://misago/./src/initializers/captcha.js","webpack://misago/./src/initializers/components/accept-agreement.js","webpack://misago/./src/initializers/components/auth-message.js","webpack://misago/./src/initializers/components/banned-page.js","webpack://misago/./src/initializers/components/categories.js","webpack://misago/./src/initializers/components/options.js","webpack://misago/./src/initializers/components/profile.js","webpack://misago/./src/initializers/components/request-activation-link.js","webpack://misago/./src/initializers/components/request-password-reset.js","webpack://misago/./src/initializers/components/reset-password-form.js","webpack://misago/./src/initializers/components/search.js","webpack://misago/./src/initializers/components/snackbar.js","webpack://misago/./src/initializers/components/social-auth.js","webpack://misago/./src/initializers/components/thread.js","webpack://misago/./src/initializers/components/threads.js","webpack://misago/./src/initializers/components/user-menu.js","webpack://misago/./src/initializers/components/users.js","webpack://misago/./src/initializers/include.js","webpack://misago/./src/initializers/local-storage.js","webpack://misago/./src/initializers/mobile-navbar-dropdown.js","webpack://misago/./src/initializers/modal.js","webpack://misago/./src/initializers/moment-locale.js","webpack://misago/./src/initializers/page-title.js","webpack://misago/./src/initializers/polls.js","webpack://misago/./src/initializers/posting.js","webpack://misago/./src/initializers/reducers/auth.js","webpack://misago/./src/initializers/reducers/participants.js","webpack://misago/./src/initializers/reducers/poll.js","webpack://misago/./src/initializers/reducers/posts.js","webpack://misago/./src/initializers/reducers/profile-details.js","webpack://misago/./src/initializers/reducers/profile-hydrate.js","webpack://misago/./src/initializers/reducers/profile.js","webpack://misago/./src/initializers/reducers/search.js","webpack://misago/./src/initializers/reducers/selection.js","webpack://misago/./src/initializers/reducers/snackbar.js","webpack://misago/./src/initializers/reducers/thread.js","webpack://misago/./src/initializers/reducers/threads.js","webpack://misago/./src/initializers/reducers/tick.js","webpack://misago/./src/initializers/reducers/username-history.js","webpack://misago/./src/initializers/reducers/users.js","webpack://misago/./src/initializers/snackbar.js","webpack://misago/./src/initializers/store.js","webpack://misago/./src/initializers/tick-start.js","webpack://misago/./src/initializers/zxcvbn.js","webpack://misago/./src/reducers/auth.js","webpack://misago/./src/reducers/participants.js","webpack://misago/./src/reducers/poll.js","webpack://misago/./src/reducers/post.js","webpack://misago/./src/reducers/posts.js","webpack://misago/./src/reducers/profile-details.js","webpack://misago/./src/reducers/profile.js","webpack://misago/./src/reducers/search.js","webpack://misago/./src/reducers/selection.js","webpack://misago/./src/reducers/snackbar.js","webpack://misago/./src/reducers/thread.js","webpack://misago/./src/reducers/threads.js","webpack://misago/./src/reducers/tick.js","webpack://misago/./src/reducers/username-history.js","webpack://misago/./src/reducers/users.js","webpack://misago/./src/services/ajax.js","webpack://misago/./src/services/auth.js","webpack://misago/./src/services/captcha.js","webpack://misago/./src/services/include.js","webpack://misago/./src/services/local-storage.js","webpack://misago/./src/services/mobile-navbar-dropdown.js","webpack://misago/./src/services/modal.js","webpack://misago/./src/services/one-box.js","webpack://misago/./src/services/page-title.js","webpack://misago/./src/services/polls.js","webpack://misago/./src/services/posting.js","webpack://misago/./src/services/snackbar.js","webpack://misago/./src/services/store.js","webpack://misago/./src/services/zxcvbn.js","webpack://misago/./src/utils/banned-page.js","webpack://misago/./src/utils/batch.js","webpack://misago/./src/utils/concat-unique.js","webpack://misago/./src/utils/escape-html.js","webpack://misago/./src/utils/file-size.js","webpack://misago/./src/utils/is-url.js","webpack://misago/./src/utils/mount-component.js","webpack://misago/./src/utils/ordered-list.js","webpack://misago/./src/utils/random.js","webpack://misago/./src/utils/routed-component.js","webpack://misago/./src/utils/sets.js","webpack://misago/./src/utils/string-count.js","webpack://misago/./src/utils/validators.js","webpack://misago/./src/style/index.less?9070","webpack://misago/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://misago/webpack/bootstrap","webpack://misago/webpack/runtime/chunk loaded","webpack://misago/webpack/runtime/compat get default export","webpack://misago/webpack/runtime/define property getters","webpack://misago/webpack/runtime/ensure chunk","webpack://misago/webpack/runtime/get javascript chunk filename","webpack://misago/webpack/runtime/get mini-css chunk filename","webpack://misago/webpack/runtime/global","webpack://misago/webpack/runtime/harmony module decorator","webpack://misago/webpack/runtime/hasOwnProperty shorthand","webpack://misago/webpack/runtime/load script","webpack://misago/webpack/runtime/make namespace object","webpack://misago/webpack/runtime/node module decorator","webpack://misago/webpack/runtime/publicPath","webpack://misago/webpack/runtime/jsonp chunk loading","webpack://misago/webpack/before-startup","webpack://misago/webpack/startup","webpack://misago/webpack/after-startup"],"sourcesContent":["import classnames from \"classnames\"\nimport React from \"react\"\n\nconst Breadcrumbs = ({ children, className }) => (\n  <ul className={classnames(\"breadcrumbs\", className)}>{children}</ul>\n)\n\nexport default Breadcrumbs\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span\n        className=\"material-icon\"\n        style={{ color: category.color || \"inherit\" }}\n      >\n        label\n      </span>\n      {!!category.short_name && (\n        <span\n          className=\"breadcrumbs-item-name hidden-sm hidden-md hidden-lg\"\n          title={category.name}\n        >\n          {category.short_name}\n        </span>\n      )}\n      {!!category.short_name && (\n        <span className=\"breadcrumbs-item-name hidden-xs\">{category.name}</span>\n      )}\n      {!category.short_name && (\n        <span className=\"breadcrumbs-item-name\">{category.name}</span>\n      )}\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsCategory\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst BreadcrumbsRootCategory = ({ category, className }) => (\n  <li className={classnames(\"breadcrumbs-item\", className)}>\n    <a href={category.url.index}>\n      <span className=\"material-icon\">chevron_right</span>\n      <span className=\"breadcrumbs-item-name\">\n        {category.special_role === \"root_category\"\n          ? gettext(\"Threads\")\n          : gettext(\"Private threads\")}\n      </span>\n    </a>\n  </li>\n)\n\nexport default BreadcrumbsRootCategory\n","import Breadcrumbs from \"./Breadcrumbs\"\nimport BreadcrumbsCategory from \"./BreadcrumbsCategory\"\nimport BreadcrumbsRootCategory from \"./BreadcrumbsRootCategory\"\n\nexport { Breadcrumbs, BreadcrumbsCategory, BreadcrumbsRootCategory }\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRow = ({ children, className }) => (\n  <div className={classnames(\"flex-row\", className)}>{children}</div>\n)\n\nexport default FlexRow\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowCol = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"flex-row-col\", className, {\n      \"flex-row-col-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowCol\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst FlexRowSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"flex-row-section\",\n      { \"flex-row-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default FlexRowSection\n","import FlexRow from \"./FlexRow\"\nimport FlexRowCol from \"./FlexRowCol\"\nimport FlexRowSection from \"./FlexRowSection\"\n\nexport { FlexRow, FlexRowCol, FlexRowSection }\n","import React from \"react\"\nimport formatFilesize from \"../../utils/file-size\"\n\nexport default function MarkupAttachmentModal({ attachment }) {\n  return (\n    <div className=\"modal-dialog modal-lg\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"markup editor\", \"Attachment details\")}\n          </h4>\n        </div>\n        <div className=\"modal-body\">\n          {!!attachment.is_image && (\n            <div className=\"markup-editor-attachment-modal-preview\">\n              <a href={attachment.url.index + \"?shva=1\"} target=\"_blank\">\n                <img src={attachment.url.index + \"?shva=1\"} alt=\"\" />\n              </a>\n            </div>\n          )}\n          <div className=\"markup-editor-attachment-modal-filename\">\n            {attachment.filename}\n          </div>\n          <div className=\"row markup-editor-attachment-modal-details\">\n            <div className=\"col-xs-12 col-md-3\">\n              <strong>\n                {attachment.filetype + \", \" + formatFilesize(attachment.size)}\n              </strong>\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Type and size\")}</small>\n              </div>\n            </div>\n            <div className=\"col-xs-12 col-md-4\">\n              <strong>\n                <abbr title={attachment.uploaded_on.format(\"LLL\")}>\n                  {attachment.uploaded_on.fromNow()}\n                </abbr>\n              </strong>\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Uploaded at\")}</small>\n              </div>\n            </div>\n            <div className=\"col-xs-12 col-md-3\">\n              {attachment.url.uploader ? (\n                <a\n                  href={attachment.url.uploader}\n                  target=\"_blank\"\n                  className=\"item-title\"\n                >\n                  {attachment.uploader_name}\n                </a>\n              ) : (\n                <span className=\"item-title\">{attachment.uploader_name}</span>\n              )}\n              <div className=\"text-muted\">\n                <small>{pgettext(\"markup editor\", \"Uploader\")}</small>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal\", \"Close\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupCodeModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      syntax: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const syntax = this.state.syntax.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    replaceSelection(\n      Object.assign({}, selection, { text }),\n      update,\n      prefix + \"```\" + syntax + \"\\n\" + text + \"\\n```\\n\\n\"\n    )\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Code\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_code_syntax\"\n                label={pgettext(\"markup editor\", \"Syntax highlighting\")}\n              >\n                <select\n                  id=\"markup_code_syntax\"\n                  className=\"form-control\"\n                  value={this.state.syntax}\n                  onChange={(event) =>\n                    this.setState({ syntax: event.target.value })\n                  }\n                >\n                  <option value=\"\">\n                    {pgettext(\"markup editor\", \"No syntax highlighting\")}\n                  </option>\n                  {LANGUAGES.map(({ value, name }) => (\n                    <option key={value} value={value}>\n                      {name}\n                    </option>\n                  ))}\n                </select>\n              </FormGroup>\n              <FormGroup\n                for=\"markup_code_text\"\n                label={pgettext(\"markup editor\", \"Code to insert\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_code_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert code\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst LANGUAGES = [\n  { value: \"bash\", name: \"Bash\" },\n  { value: \"c\", name: \"C\" },\n  { value: \"c#\", name: \"C#\" },\n  { value: \"c++\", name: \"C++\" },\n  { value: \"css\", name: \"CSS\" },\n  { value: \"diff\", name: \"Diff\" },\n  { value: \"go\", name: \"Go\" },\n  { value: \"graphql\", name: \"GraphQL\" },\n  { value: \"html,\", name: \"HTML\" },\n  { value: \"xml\", name: \"XML\" },\n  { value: \"json\", name: \"JSON\" },\n  { value: \"java\", name: \"Java\" },\n  { value: \"javascript\", name: \"JavaScript\" },\n  { value: \"kotlin\", name: \"Kotlin\" },\n  { value: \"less\", name: \"Less\" },\n  { value: \"lua\", name: \"Lua\" },\n  { value: \"makefile\", name: \"Makefile\" },\n  { value: \"markdown\", name: \"Markdown\" },\n  { value: \"objective-C\", name: \"Objective-C\" },\n  { value: \"php\", name: \"PHP\" },\n  { value: \"perl\", name: \"Perl\" },\n  { value: \"plain\", name: \"Plain\" },\n  { value: \"text\", name: \"text\" },\n  { value: \"python\", name: \"Python\" },\n  { value: \"repl\", name: \"REPL\" },\n  { value: \"r\", name: \"R\" },\n  { value: \"ruby\", name: \"Ruby\" },\n  { value: \"rust\", name: \"Rust\" },\n  { value: \"scss\", name: \"SCSS\" },\n  { value: \"sql\", name: \"SQL\" },\n  { value: \"shell\", name: \"Shell Session\" },\n  { value: \"swift\", name: \"Swift\" },\n  { value: \"toml\", name: \"TOML\" },\n  { value: \"ini\", name: \"INI\" },\n  { value: \"typescript\", name: \"TypeScript\" },\n  { value: \"visualbasic\", name: \"Visual Basic .NET\" },\n  { value: \"webassembly\", name: \"WebAssembly\" },\n  { value: \"yaml\", name: \"YAML\" },\n]\n\nexport default MarkupCodeModal\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport MisagoMarkup from \"../misago-markup\"\nimport MarkupEditorAttachments from \"./MarkupEditorAttachments\"\nimport MarkupEditorFooter from \"./MarkupEditorFooter\"\nimport MarkupEditorToolbar from \"./MarkupEditorToolbar\"\nimport uploadFile from \"./uploadFile\"\n\nclass MarkupEditor extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      element: null,\n      focused: false,\n      loading: false,\n      preview: false,\n      parsed: null,\n    }\n  }\n\n  showPreview = () => {\n    if (this.state.loading) return\n\n    this.setState({ loading: true, preview: true, element: null })\n\n    ajax.post(misago.get(\"PARSE_MARKUP_API\"), { post: this.props.value }).then(\n      (data) => {\n        this.setState({ loading: false, parsed: data.parsed })\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        this.setState({ loading: false, preview: false })\n      }\n    )\n  }\n\n  closePreview = () => {\n    this.setState({ loading: false, preview: false })\n  }\n\n  onDrop = (event) => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    if (!event.dataTransfer.files) return\n\n    const { onAttachmentsChange: setState } = this.props\n\n    if (misago.get(\"user\").acl.max_attachment_size) {\n      for (let i = 0; i < event.dataTransfer.files.length; i++) {\n        const file = event.dataTransfer.files[i]\n        uploadFile(file, setState)\n      }\n    }\n  }\n\n  onPaste = (event) => {\n    const { onAttachmentsChange: setState } = this.props\n\n    const files = []\n    for (let i = 0; i < event.clipboardData.items.length; i++) {\n      const item = event.clipboardData.items[i]\n      if (item.kind === \"file\") {\n        files.push(item.getAsFile())\n      }\n    }\n\n    if (files.length) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (misago.get(\"user\").acl.max_attachment_size) {\n        for (let i = 0; i < files.length; i++) {\n          uploadFile(files[i], setState)\n        }\n      }\n    }\n  }\n\n  render = () => (\n    <div\n      className={classnames(\"markup-editor\", {\n        \"markup-editor-focused\": this.state.focused && !this.state.preview,\n      })}\n    >\n      <MarkupEditorToolbar\n        disabled={this.props.disabled || this.state.preview}\n        element={this.state.element}\n        update={(value) => this.props.onChange({ target: { value } })}\n        updateAttachments={this.props.onAttachmentsChange}\n      />\n      {this.state.preview ? (\n        <div className=\"markup-editor-preview\">\n          {this.state.loading ? (\n            <div className=\"markup-editor-preview-loading\">\n              <div className=\"ui-preview\">\n                <span className=\"ui-preview-text\" style={{ width: \"240px\" }} />\n              </div>\n            </div>\n          ) : (\n            <MisagoMarkup\n              className=\"markup-editor-preview-contents\"\n              markup={this.state.parsed}\n            />\n          )}\n        </div>\n      ) : (\n        <textarea\n          className=\"markup-editor-textarea form-control\"\n          placeholder={this.props.placeholder}\n          value={this.props.value}\n          disabled={this.props.disabled || this.state.loading}\n          rows={6}\n          ref={(element) => {\n            if (element && this.state.element !== element) {\n              this.setState({ element })\n              setMentions(this.props, element)\n            }\n          }}\n          onChange={this.props.onChange}\n          onDrop={this.onDrop}\n          onFocus={() => this.setState({ focused: true })}\n          onPaste={this.onPaste}\n          onBlur={() => this.setState({ focused: false })}\n        />\n      )}\n      {this.props.attachments.length > 0 && (\n        <MarkupEditorAttachments\n          attachments={this.props.attachments}\n          disabled={this.props.disabled || this.state.preview}\n          element={this.state.element}\n          setState={this.props.onAttachmentsChange}\n          update={(value) => this.props.onChange({ target: { value } })}\n        />\n      )}\n      <MarkupEditorFooter\n        preview={this.state.preview}\n        canProtect={this.props.canProtect}\n        isProtected={this.props.isProtected}\n        disabled={this.props.disabled}\n        empty={\n          this.props.value.trim().length <\n            misago.get(\"SETTINGS\").post_length_min || this.state.loading\n        }\n        enableProtection={this.props.enableProtection}\n        disableProtection={this.props.disableProtection}\n        showPreview={this.showPreview}\n        closePreview={this.closePreview}\n        submitText={this.props.submitText}\n      />\n    </div>\n  )\n}\n\nfunction setMentions(props, element) {\n  $(element).atwho({\n    at: \"@\",\n    displayTpl: '<li><img src=\"${avatar}\" alt=\"\">${username}</li>',\n    insertTpl: \"@${username}\",\n    searchKey: \"username\",\n    callbacks: {\n      remoteFilter: function (query, callback) {\n        $.getJSON(misago.get(\"MENTION_API\"), { q: query }, callback)\n      },\n    },\n  })\n\n  $(element).on(\"inserted.atwho\", (event, _storage, source, controller) => {\n    const { query } = controller\n    const username = source.target.innerText.trim()\n    const prefix = event.target.value.substr(0, query.headPos)\n    const suffix = event.target.value.substr(query.endPos)\n\n    event.target.value = prefix + username + suffix\n    props.onChange(event)\n\n    const caret = query.headPos + username.length\n    event.target.setSelectionRange(caret, caret)\n    event.target.focus()\n  })\n}\n\nexport default MarkupEditor\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport snackbar from \"../../services/snackbar\"\nimport formatFilesize from \"../../utils/file-size\"\nimport MarkupAttachmentModal from \"./MarkupAttachmentModal\"\nimport { getSelection, replaceSelection } from \"./operations\"\n\nconst MarkupEditorAttachment = ({\n  attachment,\n  disabled,\n  element,\n  setState,\n  update,\n}) => (\n  <div className=\"markup-editor-attachments-item\">\n    <div className=\"markup-editor-attachment\">\n      <div className=\"markup-editor-attachment-details\">\n        {attachment.id ? (\n          <a\n            className=\"item-title\"\n            href={attachment.url.index + \"?shva=1\"}\n            target=\"_blank\"\n            onClick={(event) => {\n              event.preventDefault()\n              modal.show(<MarkupAttachmentModal attachment={attachment} />)\n            }}\n          >\n            {attachment.filename}\n          </a>\n        ) : (\n          <strong className=\"item-title\">{attachment.filename}</strong>\n        )}\n        <div className=\"text-muted\">\n          <ul className=\"list-unstyled list-inline\">\n            {!attachment.id && <li>{attachment.progress + \"%\"}</li>}\n            {!!attachment.filetype && <li>{attachment.filetype}</li>}\n            {attachment.size > 0 && <li>{formatFilesize(attachment.size)}</li>}\n          </ul>\n        </div>\n      </div>\n      {!!attachment.id && (\n        <div className=\"markup-editor-attachment-buttons\">\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Insert into message\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              const markup = getAttachmentMarkup(attachment)\n              const selection = getSelection(element)\n              replaceSelection(selection, update, markup)\n            }}\n          >\n            <span className=\"material-icon\">flip_to_front</span>\n          </button>\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Remove attachment\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              setState(({ attachments }) => {\n                const confirm = window.confirm(\n                  pgettext(\"markup editor\", \"Remove this attachment?\")\n                )\n\n                if (confirm) {\n                  return {\n                    attachments: attachments.filter(\n                      ({ id }) => id !== attachment.id\n                    ),\n                  }\n                }\n              })\n            }}\n          >\n            <span className=\"material-icon\">close</span>\n          </button>\n        </div>\n      )}\n      {!attachment.id && !!attachment.key && (\n        <div className=\"markup-editor-attachment-buttons\">\n          {attachment.error && (\n            <button\n              className=\"btn btn-markup-editor-attachment btn-icon\"\n              title={pgettext(\"markup editor\", \"See error\")}\n              type=\"button\"\n              onClick={() => {\n                snackbar.error(\n                  interpolate(\n                    pgettext(\"markup editor\", \"%(filename)s: %(error)s\"),\n                    { filename: attachment.filename, error: attachment.error },\n                    true\n                  )\n                )\n              }}\n            >\n              <span className=\"material-icon\">warning</span>\n            </button>\n          )}\n          <button\n            className=\"btn btn-markup-editor-attachment btn-icon\"\n            title={pgettext(\"markup editor\", \"Remove attachment\")}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => {\n              setState(({ attachments }) => {\n                return {\n                  attachments: attachments.filter(\n                    ({ key }) => key !== attachment.key\n                  ),\n                }\n              })\n            }}\n          >\n            <span className=\"material-icon\">close</span>\n          </button>\n        </div>\n      )}\n    </div>\n  </div>\n)\n\nexport default MarkupEditorAttachment\n\nfunction getAttachmentMarkup(attachment) {\n  let markup = \"[\"\n\n  if (attachment.is_image) {\n    markup += \"![\" + attachment.filename + \"]\"\n    markup += \"(\" + (attachment.url.thumb || attachment.url.index) + \"?shva=1)\"\n  } else {\n    markup += attachment.filename\n  }\n\n  markup += \"](\" + attachment.url.index + \"?shva=1)\"\n  return markup\n}\n","import React from \"react\"\nimport MarkupEditorAttachment from \"./MarkupEditorAttachment\"\n\nconst MarkupEditorAttachments = ({\n  attachments,\n  disabled,\n  element,\n  setState,\n  update,\n}) => (\n  <div className=\"markup-editor-attachments\">\n    <div className=\"markup-editor-attachments-container\">\n      {attachments.map((attachment) => (\n        <MarkupEditorAttachment\n          key={attachment.key || attachment.id}\n          attachment={attachment}\n          disabled={disabled}\n          element={element}\n          setState={setState}\n          update={update}\n        />\n      ))}\n    </div>\n  </div>\n)\n\nexport default MarkupEditorAttachments\n","import React from \"react\"\n\nconst MarkupEditorButton = ({ disabled, icon, title, onClick }) => (\n  <button\n    className=\"btn btn-markup-editor\"\n    title={title}\n    type=\"button\"\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">{icon}</span>\n  </button>\n)\n\nexport default MarkupEditorButton\n","import React from \"react\"\nimport Button from \"../button\"\n\nconst MarkupEditorFooter = ({\n  canProtect,\n  disabled,\n  empty,\n  preview,\n  isProtected,\n  submitText,\n  showPreview,\n  closePreview,\n  enableProtection,\n  disableProtection,\n}) => (\n  <div className=\"markup-editor-footer\">\n    {!!canProtect && (\n      <Button\n        className=\"btn-default btn-icon hidden-sm hidden-md hidden-lg\"\n        title={\n          isProtected\n            ? pgettext(\"markup editor\", \"Protected\")\n            : pgettext(\"markup editor\", \"Protect\")\n        }\n        type=\"button\"\n        disabled={disabled}\n        onClick={() => {\n          if (isProtected) {\n            disableProtection()\n          } else {\n            enableProtection()\n          }\n        }}\n      >\n        <span className=\"material-icon\">\n          {isProtected ? \"lock\" : \"lock_open\"}\n        </span>\n      </Button>\n    )}\n    {!!canProtect && (\n      <div>\n        <Button\n          className=\"btn-default hidden-xs\"\n          type=\"button\"\n          disabled={disabled}\n          onClick={() => {\n            if (isProtected) {\n              disableProtection()\n            } else {\n              enableProtection()\n            }\n          }}\n        >\n          <span className=\"material-icon\">\n            {isProtected ? \"lock\" : \"lock_open\"}\n          </span>\n          {isProtected\n            ? pgettext(\"markup editor\", \"Protected\")\n            : pgettext(\"markup editor\", \"Protect\")}\n        </Button>\n      </div>\n    )}\n    <div className=\"markup-editor-spacer\" />\n    {preview ? (\n      <Button\n        className=\"btn-default btn-auto\"\n        type=\"button\"\n        onClick={closePreview}\n      >\n        {pgettext(\"markup editor\", \"Edit\")}\n      </Button>\n    ) : (\n      <Button\n        className=\"btn-default btn-auto\"\n        disabled={disabled || empty}\n        type=\"button\"\n        onClick={showPreview}\n      >\n        {pgettext(\"markup editor\", \"Preview\")}\n      </Button>\n    )}\n    <Button className=\"btn-primary btn-auto\" disabled={disabled || empty}>\n      {submitText || gettext(\"Post\")}\n    </Button>\n  </div>\n)\n\nexport default MarkupEditorFooter\n","import React from \"react\"\nimport misago from \"../../\"\nimport modal from \"../../services/modal\"\nimport MarkupCodeModal from \"./MarkupCodeModal\"\nimport MarkupFormattingHelpModal from \"./MarkupFormattingHelpModal\"\nimport MarkupImageModal from \"./MarkupImageModal\"\nimport MarkupLinkModal from \"./MarkupLinkModal\"\nimport MarkupQuoteModal from \"./MarkupQuoteModal\"\nimport MarkupEditorButton from \"./MarkupEditorButton\"\nimport { getSelection, replaceSelection, wrapSelection } from \"./operations\"\nimport uploadFile from \"./uploadFile\"\n\nconst MarkupEditorToolbar = ({\n  disabled,\n  element,\n  update,\n  updateAttachments,\n}) => {\n  const actions = [\n    {\n      name: pgettext(\"markup editor\", \"Strong\"),\n      icon: \"format_bold\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"**\",\n          \"**\",\n          pgettext(\"example markup\", \"Strong text\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Emphasis\"),\n      icon: \"format_italic\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"*\",\n          \"*\",\n          pgettext(\"example markup\", \"Text with emphasis\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Strikethrough\"),\n      icon: \"format_strikethrough\",\n      onClick: () => {\n        wrapSelection(\n          getSelection(element),\n          update,\n          \"~~\",\n          \"~~\",\n          pgettext(\"example markup\", \"Text with strikethrough\")\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Horizontal ruler\"),\n      icon: \"remove\",\n      onClick: () => {\n        replaceSelection(getSelection(element), update, \"\\n\\n- - -\\n\\n\")\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Link\"),\n      icon: \"insert_link\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupLinkModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Image\"),\n      icon: \"insert_photo\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupImageModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Quote\"),\n      icon: \"format_quote\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupQuoteModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Spoiler\"),\n      icon: \"visibility_off\",\n      onClick: () => {\n        insertSpoiler(element, update)\n      },\n    },\n    {\n      name: pgettext(\"markup editor\", \"Code\"),\n      icon: \"code\",\n      onClick: () => {\n        const selection = getSelection(element)\n        modal.show(\n          <MarkupCodeModal\n            selection={selection}\n            element={element}\n            update={update}\n          />\n        )\n      },\n    },\n  ]\n\n  if (misago.get(\"user\").acl.max_attachment_size) {\n    actions.push({\n      name: pgettext(\"markup editor\", \"Upload file\"),\n      icon: \"file_upload\",\n      onClick: () => uploadFiles(updateAttachments),\n    })\n  }\n\n  return (\n    <div className=\"markup-editor-toolbar\">\n      <div className=\"markup-editor-toolbar-left\">\n        {actions.map(({ name, icon, onClick }) => (\n          <MarkupEditorButton\n            key={icon}\n            title={name}\n            icon={icon}\n            disabled={disabled || !element}\n            onClick={onClick}\n          />\n        ))}\n      </div>\n      <div className=\"markup-editor-toolbar-right\">\n        <div className=\"markup-editor-controls-dropdown\">\n          <button\n            type=\"button\"\n            className=\"btn btn-markup-editor dropdown-toggle\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n            disabled={disabled || !element}\n          >\n            <span className=\"material-icon\">more_vert</span>\n          </button>\n          <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n            {actions.map(({ name, icon, onClick }) => (\n              <li key={icon}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  disabled={disabled || !element}\n                  onClick={onClick}\n                >\n                  <span className=\"material-icon\">{icon}</span>\n                  {name}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n        <MarkupEditorButton\n          title={pgettext(\"markup editor\", \"Formatting help\")}\n          icon=\"help_outline\"\n          onClick={() => {\n            modal.show(<MarkupFormattingHelpModal />)\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst insertSpoiler = (element, update) => {\n  const selection = getSelection(element)\n  const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n  wrapSelection(\n    selection,\n    update,\n    prefix + \"[spoiler]\\n\",\n    \"\\n[/spoiler]\\n\\n\",\n    pgettext(\"markup editor\", \"Spoiler text\")\n  )\n}\n\nconst uploadFiles = (setState) => {\n  const input = document.createElement(\"input\")\n  input.type = \"file\"\n  input.multiple = \"multiple\"\n\n  input.addEventListener(\"change\", function () {\n    for (let i = 0; i < input.files.length; i++) {\n      uploadFile(input.files[i], setState)\n    }\n  })\n\n  input.click()\n}\n\nexport default MarkupEditorToolbar\n","import React from \"react\"\nimport formatFilesize from \"../../utils/file-size\"\n\nexport default function MarkupFormattingHelpModal() {\n  return (\n    <div className=\"modal-dialog modal-lg\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {pgettext(\"markup help\", \"Formatting help\")}\n          </h4>\n        </div>\n        <div className=\"modal-body formatting-help\">\n          <h4>{pgettext(\"markup help\", \"Emphasis text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"_This text will have emphasis_\")}\n            result={\n              <p>\n                <em>\n                  {pgettext(\"markup help\", \"This text will have emphasis\")}\n                </em>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Bold text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"**This text will be bold**\")}\n            result={\n              <p>\n                <strong>\n                  {pgettext(\"markup help\", \"This text will be bold\")}\n                </strong>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Removed text\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"~~This text will be removed~~\")}\n            result={\n              <p>\n                <del>\n                  {pgettext(\"markup help\", \"This text will be removed\")}\n                </del>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Bold text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"[b]This text will be bold[/b]\")}\n            result={\n              <p>\n                <b>{pgettext(\"markup help\", \"This text will be bold\")}</b>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Underlined text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\n              \"markup help\",\n              \"[u]This text will be underlined[/u]\"\n            )}\n            result={\n              <p>\n                <u>{pgettext(\"markup help\", \"This text will be underlined\")}</u>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Italics text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\n              \"markup help\",\n              \"[i]This text will be in italics[/i]\"\n            )}\n            result={\n              <p>\n                <i>{pgettext(\"markup help\", \"This text will be in italics\")}</i>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link\")}</h4>\n          <ExampleFormatting\n            markup=\"<http://example.com>\"\n            result={\n              <p>\n                <a href=\"#\">example.com</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link with text\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[\" +\n              pgettext(\"markup help\", \"Link text\") +\n              \"](http://example.com)\"\n            }\n            result={\n              <p>\n                <a href=\"#\">{pgettext(\"markup help\", \"Link text\")}</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup=\"[url]http://example.com[/url]\"\n            result={\n              <p>\n                <a href=\"#\">example.com</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Link with text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[url=http://example.com]\" +\n              pgettext(\"markup help\", \"Link text\") +\n              \"[/url]\"\n            }\n            result={\n              <p>\n                <a href=\"#\">{pgettext(\"markup help\", \"Link text\")}</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image\")}</h4>\n          <ExampleFormatting\n            markup=\"!(http://placekitten.com/38/38)\"\n            result={\n              <p>\n                <img alt=\"\" src=\"http://placekitten.com/38/38\" />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image with alternate text\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"![\" +\n              pgettext(\"markup help\", \"Image text\") +\n              \"](http://placekitten.com/38/38)\"\n            }\n            result={\n              <p>\n                <img\n                  alt={pgettext(\"markup help\", \"Image text\")}\n                  src=\"http://placekitten.com/38/38\"\n                />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Image (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup=\"[img]http://placekitten.com/38/38[/img]\"\n            result={\n              <p>\n                <img alt=\"\" src=\"http://placekitten.com/38/38\" />\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Mention user by their name\")}</h4>\n          <ExampleFormatting\n            markup=\"@username\"\n            result={\n              <p>\n                <a href=\"#\">@username</a>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 1\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"# First level heading\")}\n            result={<h1>{pgettext(\"markup help\", \"First level heading\")}</h1>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 2\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"## Second level heading\")}\n            result={<h2>{pgettext(\"markup help\", \"Second level heading\")}</h2>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 3\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"### Third level heading\")}\n            result={<h3>{pgettext(\"markup help\", \"Third level heading\")}</h3>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 4\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"#### Fourth level heading\")}\n            result={<h4>{pgettext(\"markup help\", \"Fourth level heading\")}</h4>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Heading 5\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"##### Fifth level heading\")}\n            result={<h5>{pgettext(\"markup help\", \"Fifth level heading\")}</h5>}\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Unordered list\")}</h4>\n          <ExampleFormatting\n            markup={\"- Lorem ipsum\\n- Dolor met\\n- Vulputate lectus\"}\n            result={\n              <ul>\n                <li>Lorem ipsum</li>\n                <li>Dolor met</li>\n                <li>Vulputate lectus</li>\n              </ul>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Ordered list\")}</h4>\n          <ExampleFormatting\n            markup={\"1. Lorem ipsum\\n2. Dolor met\\n3. Vulputate lectus\"}\n            result={\n              <ol>\n                <li>Lorem ipsum</li>\n                <li>Dolor met</li>\n                <li>Vulputate lectus</li>\n              </ol>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text\")}</h4>\n          <ExampleFormatting\n            markup={\"> \" + pgettext(\"markup help\", \"Quoted text\")}\n            result={\n              <blockquote>\n                <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n              </blockquote>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[quote]\\n\" +\n              pgettext(\"markup help\", \"Quoted text\") +\n              \"\\n[/quote]\"\n            }\n            result={\n              <aside className=\"quote-block\">\n                <div className=\"quote-heading\">\n                  {gettext(\"Quoted message:\")}\n                </div>\n                <blockquote className=\"quote-body\">\n                  <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n                </blockquote>\n              </aside>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Quote text with title (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\n              '[quote=\"' +\n              pgettext(\"markup help\", \"Quote title\") +\n              '\"]\\n' +\n              pgettext(\"markup help\", \"Quoted text\") +\n              \"\\n[/quote]\"\n            }\n            result={\n              <aside className=\"quote-block\">\n                <div className=\"quote-heading\">\n                  {gettext(\"Quote title has written:\")}\n                </div>\n                <blockquote className=\"quote-body\">\n                  <p>{pgettext(\"markup help\", \"Quoted text\")}</p>\n                </blockquote>\n              </aside>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Spoiler\")}</h4>\n          <ExampleFormatting\n            markup={\n              \"[spoiler]\\n\" +\n              pgettext(\"markup help\", \"Secret text\") +\n              \"\\n[/spoiler]\"\n            }\n            result={\n              <ExampleFormattingSpoiler>\n                {pgettext(\"markup help\", \"Secret text\")}\n              </ExampleFormattingSpoiler>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Inline code\")}</h4>\n          <ExampleFormatting\n            markup={pgettext(\"markup help\", \"`Inline code`\")}\n            result={\n              <p>\n                <code>{pgettext(\"markup help\", \"Inline code\")}</code>\n              </p>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Code block\")}</h4>\n          <ExampleFormatting\n            markup={\"```\\nalert\" + '(\"Hello world!\");' + \"\\n```\"}\n            result={\n              <pre>\n                <code className=\"hljs\">alert(\"Hello world!\");</code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>\n            {pgettext(\"markup help\", \"Code block with syntax highlighting\")}\n          </h4>\n          <ExampleFormatting\n            markup={\"```python\\nprint\" + '(\"Hello world!\");' + \"\\n```\"}\n            result={\n              <pre>\n                <code className=\"hljs language-python\">\n                  <span className=\"hljs-built_in\">print</span>(\"Hello world!\");\n                </code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Code block (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\"[code]\\nalert\" + '(\"Hello world!\");' + \"\\n[/code]\"}\n            result={\n              <pre>\n                <code className=\"hljs\">alert(\"Hello world!\");</code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>\n            {pgettext(\n              \"markup help\",\n              \"Code block with syntax highlighting (BBCode)\"\n            )}\n          </h4>\n          <ExampleFormatting\n            markup={\n              '[code=\"python\"]\\nprint' + '(\"Hello world!\");' + \"\\n[/code]\"\n            }\n            result={\n              <pre>\n                <code className=\"hljs language-python\">\n                  <span className=\"hljs-built_in\">print</span>(\"Hello world!\");\n                </code>\n              </pre>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Horizontal rule\")}</h4>\n          <ExampleFormatting\n            markup={\"Lorem ipsum\\n- - -\\nDolor met\"}\n            result={\n              <div>\n                <p>Lorem ipsum</p>\n                <hr />\n                <p>Dolor met</p>\n              </div>\n            }\n          />\n\n          <hr />\n\n          <h4>{pgettext(\"markup help\", \"Horizontal rule (BBCode)\")}</h4>\n          <ExampleFormatting\n            markup={\"Lorem ipsum\\n[hr]\\nDolor met\"}\n            result={\n              <div>\n                <p>Lorem ipsum</p>\n                <hr />\n                <p>Dolor met</p>\n              </div>\n            }\n          />\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {pgettext(\"modal\", \"Close\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction ExampleFormatting({ markup, result }) {\n  return (\n    <div className=\"formatting-help-item\">\n      <div className=\"formatting-help-item-markup\">\n        <pre>\n          <code>{markup}</code>\n        </pre>\n      </div>\n      <div className=\"formatting-help-item-preview\">\n        <article className=\"misago-markup\">{result}</article>\n      </div>\n    </div>\n  )\n}\n\nclass ExampleFormattingSpoiler extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      reveal: false,\n    }\n  }\n\n  render() {\n    return (\n      <aside\n        className={\n          this.state.reveal ? \"spoiler-block revealed\" : \"spoiler-block\"\n        }\n      >\n        <blockquote className=\"spoiler-body\">\n          <p>{this.props.children}</p>\n        </blockquote>\n        {!this.state.reveal && (\n          <div className=\"spoiler-overlay\">\n            <button\n              className=\"spoiler-reveal\"\n              type=\"button\"\n              onClick={() => {\n                this.setState({ reveal: true })\n              }}\n            >\n              {gettext(\"Reveal spoiler\")}\n            </button>\n          </div>\n        )}\n      </aside>\n    )\n  }\n}\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport isUrl from \"../../utils/is-url\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupImageModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (!isUrl(url)) {\n      this.setState({ error: gettext(\"Enter a valid address.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"![\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"!(\" + url + \")\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Image\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Image description\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional but recommended . Will be displayed instead of image when it fails to load.\"\n                )}\n              >\n                <input\n                  id=\"markup_link_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Image address\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_link_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert image\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupImageModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport isUrl from \"../../utils/is-url\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupLinkModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    const text = props.selection.text.trim()\n    const textUrl = isUrl(text)\n\n    this.state = {\n      error: null,\n      text: textUrl ? \"\" : text,\n      url: textUrl ? text : \"\",\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const text = this.state.text.trim()\n    const url = this.state.url.trim()\n\n    if (url.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    if (!isUrl(url)) {\n      this.setState({ error: gettext(\"Enter a valid address.\") })\n      return false\n    }\n\n    if (text.length > 0) {\n      replaceSelection(selection, update, \"[\" + text + \"](\" + url + \")\")\n    } else {\n      replaceSelection(selection, update, \"<\" + url + \">\")\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{pgettext(\"markup editor\", \"Link\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link text\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  \"Optional. Will be displayed instead of link's address.\"\n                )}\n              >\n                <input\n                  id=\"markup_link_text\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_link_url\"\n                label={pgettext(\"markup editor\", \"Link address\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <input\n                  id=\"markup_link_url\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.url}\n                  onChange={(event) =>\n                    this.setState({ url: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert link\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupLinkModal\n","import React from \"react\"\nimport modal from \"../../services/modal\"\nimport FormGroup from \"../form-group\"\nimport { replaceSelection } from \"./operations\"\n\nclass MarkupQuoteModal extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      error: null,\n      author: \"\",\n      text: props.selection.text,\n    }\n  }\n\n  handleSubmit = (ev) => {\n    ev.preventDefault()\n\n    const { selection, update } = this.props\n    const author = this.state.author.trim()\n    const text = this.state.text.trim()\n\n    if (text.length === 0) {\n      this.setState({ error: gettext(\"This field is required.\") })\n      return false\n    }\n\n    const prefix = selection.prefix.trim().length ? \"\\n\\n\" : \"\"\n\n    if (author) {\n      replaceSelection(\n        selection,\n        update,\n        prefix + '[quote=\"' + author + '\"]\\n' + text + \"\\n[/quote]\\n\\n\"\n      )\n    } else {\n      replaceSelection(\n        selection,\n        update,\n        prefix + \"[quote]\\n\" + text + \"\\n[/quote]\\n\\n\"\n      )\n    }\n\n    modal.hide()\n\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"markup editor\", \"Quote\")}\n            </h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"markup_quote_author\"\n                label={pgettext(\"markup editor\", \"Quote's author or source\")}\n                helpText={pgettext(\n                  \"markup editor\",\n                  'Optional. If it\\'s username, put \"@\" before it (\"@JohnDoe\").'\n                )}\n              >\n                <input\n                  id=\"markup_quote_author\"\n                  className=\"form-control\"\n                  type=\"text\"\n                  value={this.state.author}\n                  onChange={(event) =>\n                    this.setState({ author: event.target.value })\n                  }\n                />\n              </FormGroup>\n              <FormGroup\n                for=\"markup_quote_text\"\n                label={pgettext(\"markup editor\", \"Quoted text\")}\n                validation={!!this.state.error ? [this.state.error] : undefined}\n              >\n                <textarea\n                  id=\"markup_quote_text\"\n                  className=\"form-control\"\n                  rows=\"8\"\n                  value={this.state.text}\n                  onChange={(event) =>\n                    this.setState({ text: event.target.value })\n                  }\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button className=\"btn btn-primary\">\n                {pgettext(\"markup editor\", \"Insert quote\")}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MarkupQuoteModal\n","import MarkupEditor from \"./MarkupEditor\"\n\nexport default MarkupEditor\n","const wrapSelection = (selection, update, prefix, suffix, def) => {\n  const text = selection.text || def || \"\"\n  let newValue = selection.prefix\n  newValue += prefix + text + suffix\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    focus(selection.textarea)\n\n    const caret = selection.start + prefix.length\n    selection.textarea.setSelectionRange(caret, caret + text.length)\n  }, 250)\n}\n\nconst replaceSelection = (selection, update, text) => {\n  let newValue = selection.prefix\n  newValue += text\n  newValue += selection.suffix\n  update(newValue)\n\n  window.setTimeout(() => {\n    focus(selection.textarea)\n\n    const caret = selection.end + text.length\n    selection.textarea.setSelectionRange(caret, caret)\n  }, 250)\n}\n\nconst getSelection = (textarea) => {\n  if (document.selection) {\n    textarea.focus()\n    const range = document.selection.createRange()\n    const length = range.text.length\n    range.moveStart(\"character\", -textarea.value.length)\n    return createRange(textarea, range.text.length - length, range.text.length)\n  }\n\n  if (textarea.selectionStart || textarea.selectionStart == \"0\") {\n    return createRange(textarea, textarea.selectionStart, textarea.selectionEnd)\n  }\n}\n\nconst createRange = (textarea, start, end) => {\n  return {\n    textarea: textarea,\n    start: start,\n    end: end,\n    text: textarea.value.substring(start, end),\n    prefix: textarea.value.substring(0, start),\n    suffix: textarea.value.substring(end),\n  }\n}\n\nexport function focus(textarea) {\n  const scroll = textarea.scrollTop\n  textarea.focus()\n  textarea.scrollTop = scroll\n}\n\nexport { getSelection, replaceSelection, wrapSelection }\n","import moment from \"moment\"\nimport misago from \"../../\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport formatFilesize from \"../../utils/file-size\"\n\nconst ID_LEN = 32\n\nconst uploadFile = (file, setState) => {\n  const maxSize = misago.get(\"user\").acl.max_attachment_size * 1024\n\n  if (file.size > maxSize) {\n    snackbar.error(\n      interpolate(\n        pgettext(\n          \"markup editor\",\n          \"File %(filename)s is bigger than %(limit)s.\"\n        ),\n        { filename: file.name, limit: formatFilesize(maxSize) },\n        true\n      )\n    )\n\n    return\n  }\n\n  let upload = {\n    id: null,\n    key: getRandomString(ID_LEN),\n    error: null,\n    uploaded_on: null,\n    progress: 0,\n    filename: file.name,\n    filetype: null,\n    is_image: false,\n    size: file.size,\n    url: null,\n    uploader_name: null,\n  }\n\n  setState(({ attachments }) => {\n    return { attachments: [upload].concat(attachments) }\n  })\n\n  const refreshState = () => {\n    setState(({ attachments }) => {\n      return { attachments: attachments.concat() }\n    })\n  }\n\n  const data = new FormData()\n  data.append(\"upload\", file)\n\n  ajax\n    .upload(misago.get(\"ATTACHMENTS_API\"), data, (progress) => {\n      upload.progress = progress\n      refreshState()\n    })\n    .then(\n      (data) => {\n        Object.assign(upload, data, { uploaded_on: moment(data.uploaded_on) })\n        refreshState()\n      },\n      (rejection) => {\n        if (rejection.status === 400 || rejection.status === 413) {\n          upload.error = rejection.detail\n          snackbar.error(rejection.detail)\n          refreshState()\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n}\n\nconst ALPHA = \"12345678990abcdefghijklmnopqrstuvwxyz\"\nconst ALPHA_LEN = ALPHA.length\n\nconst getRandomString = (len) => {\n  const chars = []\n  for (let i = 0; i < len; i++) {\n    const index = Math.floor(Math.random() * ALPHA_LEN)\n    chars.push(ALPHA[index])\n  }\n  return chars.join(\"\")\n}\n\nexport default uploadFile\n","import React from \"react\"\n\nconst PageContainer = ({ children }) => (\n  <div className=\"container page-container\">{children}</div>\n)\n\nexport default PageContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeader = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header\",\n      className,\n      styleName && \"page-header-\" + styleName\n    )}\n  >\n    <div className=\"page-header-bg-image\">\n      <div className=\"page-header-bg-overlay\">\n        <div className=\"page-header-image\" />\n        {children}\n      </div>\n    </div>\n  </div>\n)\n\nexport default PageHeader\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderBanner = ({ children, className, styleName }) => (\n  <div\n    className={classnames(\n      \"page-header-banner\",\n      className,\n      styleName && \"page-header-banner-\" + styleName\n    )}\n  >\n    <div className=\"page-header-banner-bg-image\">\n      <div className=\"page-header-banner-bg-overlay\">{children}</div>\n    </div>\n  </div>\n)\n\nexport default PageHeaderBanner\n","import React from \"react\"\n\nconst PageHeaderContainer = ({ children }) => (\n  <div className=\"container page-header-container\">{children}</div>\n)\n\nexport default PageHeaderContainer\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderDetails = ({ children, className }) => (\n  <div className={classnames(\"page-header-details\", className)}>{children}</div>\n)\n\nexport default PageHeaderDetails\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderHTMLMessage = ({ className, message }) => (\n  <div\n    className={classnames(\"page-header-message\", className)}\n    dangerouslySetInnerHTML={{ __html: message }}\n  />\n)\n\nexport default PageHeaderHTMLMessage\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst PageHeaderMessage = ({ children, className }) => (\n  <div className={classnames(\"page-header-message\", className)}>{children}</div>\n)\n\nexport default PageHeaderMessage\n","import React from \"react\"\nimport PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\n\nconst PageHeaderPlain = ({ styleName, header, message }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <h1>{header}</h1>\n      </PageHeaderBanner>\n      {message && (\n        <PageHeaderDetails styleName={styleName}>{message}</PageHeaderDetails>\n      )}\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nexport default PageHeaderPlain\n","import PageHeader from \"./PageHeader\"\nimport PageHeaderBanner from \"./PageHeaderBanner\"\nimport PageHeaderContainer from \"./PageHeaderContainer\"\nimport PageHeaderDetails from \"./PageHeaderDetails\"\nimport PageHeaderHTMLMessage from \"./PageHeaderHTMLMessage\"\nimport PageHeaderMessage from \"./PageHeaderMessage\"\nimport PageHeaderPlain from \"./PageHeaderPlain\"\n\nexport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst AGREEMENT_URL = '<a href=\"%(url)s\" target=\"_blank\">%(agreement)s</a>'\n\nconst RegisterLegalFootnote = (props) => {\n  const {\n    errors,\n    privacyPolicy,\n    termsOfService,\n    onPrivacyPolicyChange,\n    onTermsOfServiceChange,\n  } = props\n\n  const termsOfServiceId = misago.get(\"TERMS_OF_SERVICE_ID\")\n  const termsOfServiceUrl = misago.get(\"TERMS_OF_SERVICE_URL\")\n\n  const privacyPolicyId = misago.get(\"PRIVACY_POLICY_ID\")\n  const privacyPolicyUrl = misago.get(\"PRIVACY_POLICY_URL\")\n\n  if (!termsOfServiceId && !privacyPolicyId) return null\n\n  return (\n    <div>\n      <LegalAgreement\n        agreement={gettext(\"the terms of service\")}\n        checked={termsOfService !== null}\n        errors={errors.termsOfService}\n        url={termsOfServiceUrl}\n        value={termsOfServiceId}\n        onChange={onTermsOfServiceChange}\n      />\n      <LegalAgreement\n        agreement={gettext(\"the privacy policy\")}\n        checked={privacyPolicy !== null}\n        errors={errors.privacyPolicy}\n        url={privacyPolicyUrl}\n        value={privacyPolicyId}\n        onChange={onPrivacyPolicyChange}\n      />\n    </div>\n  )\n}\n\nconst LegalAgreement = (props) => {\n  const { agreement, checked, errors, url, value, onChange } = props\n\n  if (!url) return null\n\n  const agreementHtml = interpolate(\n    AGREEMENT_URL,\n    { agreement: escapeHtml(agreement), url: escapeHtml(url) },\n    true\n  )\n  const label = interpolate(\n    gettext(\"I have read and accept %(agreement)s.\"),\n    { agreement: agreementHtml },\n    true\n  )\n\n  return (\n    <div className=\"checkbox legal-footnote\">\n      <label>\n        <input\n          checked={checked}\n          type=\"checkbox\"\n          value={value}\n          onChange={onChange}\n        />\n        <span dangerouslySetInnerHTML={{ __html: label }} />\n      </label>\n      {errors &&\n        errors.map((error, i) => (\n          <div className=\"help-block errors\" key={i}>\n            {error}\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default RegisterLegalFootnote\n","import React from \"react\"\nimport misago from \"misago\"\n\nconst StartSocialAuth = (props) => {\n  const { buttonClassName, buttonLabel, formLabel, header, labelClassName } =\n    props\n  const socialAuth = misago.get(\"SOCIAL_AUTH\")\n\n  if (socialAuth.length === 0) return null\n\n  return (\n    <div className=\"form-group form-social-auth\">\n      <FormHeader className={labelClassName} text={header} />\n      <div className=\"row\">\n        {socialAuth.map(({ id, name, button_text, button_color, url }) => {\n          const className = \"btn btn-block btn-default btn-social-\" + id\n          const style = button_color ? { color: button_color } : null\n          const finalButtonLabel =\n            button_text || interpolate(buttonLabel, { site: name }, true)\n\n          return (\n            <div className={buttonClassName || \"col-xs-12\"} key={id}>\n              <a className={className} style={style} href={url}>\n                {finalButtonLabel}\n              </a>\n            </div>\n          )\n        })}\n      </div>\n      <hr />\n      <FormHeader className={labelClassName} text={formLabel} />\n    </div>\n  )\n}\n\nconst FormHeader = ({ className, text }) => {\n  if (!text) return null\n  return <h5 className={className || \"\"}>{text}</h5>\n}\n\nexport default StartSocialAuth\n","import React from \"react\"\n\nconst ThreadFlags = ({ thread }) => (\n  <ul className=\"thread-flags\">\n    {thread.weight == 2 && (\n      <li\n        className=\"thread-flag-pinned-globally\"\n        title={gettext(\"Pinned globally\")}\n      >\n        <span className=\"material-icon\">bookmark</span>\n      </li>\n    )}\n    {thread.weight == 1 && (\n      <li\n        className=\"thread-flag-pinned-locally\"\n        title={gettext(\"Pinned in category\")}\n      >\n        <span className=\"material-icon\">bookmark_outline</span>\n      </li>\n    )}\n    {thread.best_answer && (\n      <li className=\"thread-flag-answered\" title={gettext(\"Answered\")}>\n        <span className=\"material-icon\">check_circle</span>\n      </li>\n    )}\n    {thread.has_poll && (\n      <li className=\"thread-flag-poll\" title={gettext(\"Poll\")}>\n        <span className=\"material-icon\">poll</span>\n      </li>\n    )}\n    {(thread.is_unapproved || thread.has_unapproved_posts) && (\n      <li\n        className=\"thread-flag-unapproved\"\n        title={\n          thread.is_unapproved\n            ? gettext(\"Awaiting approval\")\n            : gettext(\"Has unapproved posts\")\n        }\n      >\n        <span className=\"material-icon\">visibility</span>\n      </li>\n    )}\n    {thread.is_closed && (\n      <li className=\"thread-flag-closed\" title={gettext(\"Closed\")}>\n        <span className=\"material-icon\">lock</span>\n      </li>\n    )}\n    {thread.is_hidden && (\n      <li className=\"thread-flag-hidden\" title={gettext(\"Hidden\")}>\n        <span className=\"material-icon\">visibility_off</span>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ThreadFlags\n","import React from \"react\"\n\nconst ThreadReplies = ({ thread }) => (\n  <span\n    className=\"threads-replies\"\n    title={interpolate(\n      ngettext(\"%(replies)s reply\", \"%(replies)s replies\", thread.replies),\n      { replies: thread.replies },\n      true\n    )}\n  >\n    <span className=\"material-icon\">chat_bubble_outline</span>\n    {thread.replies > 980\n      ? Math.round(thread.replies / 1000) + \"K\"\n      : thread.replies}\n  </span>\n)\n\nexport default ThreadReplies\n","import React from \"react\"\nimport Avatar from \"./avatar\"\n\nconst ThreadStarterCard = ({ thread }) => (\n  <div className=\"thread-user-card\">\n    <div className=\"thread-user-card-media\">\n      {thread.starter ? (\n        <a href={thread.url.starter}>\n          <Avatar size={40} user={thread.starter} />\n        </a>\n      ) : (\n        <Avatar size={40} />\n      )}\n    </div>\n    <div className=\"thread-user-card-body\">\n      <div className=\"thread-user-card-header\">\n        {thread.starter ? (\n          <a\n            className=\"item-title\"\n            href={thread.url.starter}\n            title={gettext(\"Thread author\")}\n          >\n            {thread.starter.username}\n          </a>\n        ) : (\n          <span className=\"item-title\" title={gettext(\"Thread author\")}>\n            {thread.starter_name}\n          </span>\n        )}\n      </div>\n      <div>\n        <span\n          className=\"text-muted\"\n          title={interpolate(\n            gettext(\"Started on: %(timestamp)s\"),\n            {\n              timestamp: thread.started_on.format(\"LLL\"),\n            },\n            true\n          )}\n        >\n          {thread.started_on.fromNow()}\n        </span>\n      </div>\n    </div>\n  </div>\n)\n\nexport default ThreadStarterCard\n","import React from \"react\"\nimport ThreadsListEmpty from \"./ThreadsListEmpty\"\nimport ThreadsListItem from \"./ThreadsListItem\"\nimport ThreadsListLoader from \"./ThreadsListLoader\"\nimport ThreadsListUpdatePrompt from \"./ThreadsListUpdatePrompt\"\n\nconst ThreadsList = ({\n  list,\n  categories,\n  category,\n  threads,\n  busyThreads,\n  selection,\n  isLoaded,\n  showOptions,\n  updatedThreads,\n  applyUpdate,\n  emptyMessage,\n}) => {\n  if (!isLoaded) {\n    return <ThreadsListLoader showOptions={showOptions} />\n  }\n\n  return (\n    <div className=\"threads-list\">\n      {threads.length > 0 ? (\n        <ul className=\"list-group\">\n          {updatedThreads > 0 && (\n            <ThreadsListUpdatePrompt\n              threads={updatedThreads}\n              onClick={applyUpdate}\n            />\n          )}\n          {threads.map((thread) => (\n            <ThreadsListItem\n              key={thread.id}\n              activeCategory={category}\n              categories={categories}\n              thread={thread}\n              showOptions={showOptions}\n              showSubscription={showOptions && list.type === \"subscribed\"}\n              isBusy={busyThreads.indexOf(thread.id) >= 0}\n              isSelected={selection.indexOf(thread.id) >= 0}\n            />\n          ))}\n        </ul>\n      ) : (\n        <ul className=\"list-group\">\n          {updatedThreads > 0 && (\n            <ThreadsListUpdatePrompt\n              threads={updatedThreads}\n              onClick={applyUpdate}\n            />\n          )}\n          <ThreadsListEmpty\n            category={category}\n            list={list}\n            message={emptyMessage}\n          />\n        </ul>\n      )}\n    </div>\n  )\n}\n\nexport default ThreadsList\n","import React from \"react\"\n\nconst ThreadsListEmpty = ({ category, list, message }) => {\n  if (list.type === \"all\") {\n    if (message) {\n      return (\n        <li className=\"list-group-item empty-message\">\n          <p className=\"lead\">{message}</p>\n          <p>{gettext(\"Why not start one yourself?\")}</p>\n        </li>\n      )\n    }\n\n    return (\n      <li className=\"list-group-item empty-message\">\n        <p className=\"lead\">\n          {category.special_role\n            ? gettext(\"There are no threads on this forum... yet!\")\n            : gettext(\"There are no threads in this category.\")}\n        </p>\n        <p>{gettext(\"Why not start one yourself?\")}</p>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"list-group-item empty-message\">\n      <p className=\"lead\">\n        {gettext(\"No threads matching specified criteria were found.\")}\n      </p>\n    </li>\n  )\n}\n\nexport default ThreadsListEmpty\n","import React from \"react\"\nimport ThreadFlags from \"../ThreadFlags\"\nimport ThreadReplies from \"../ThreadReplies\"\nimport ThreadsListItemActivity from \"./ThreadsListItemActivity\"\nimport ThreadsListItemCategory from \"./ThreadsListItemCategory\"\nimport ThreadsListItemCheckbox from \"./ThreadsListItemCheckbox\"\nimport ThreadsListItemIcon from \"./ThreadsListItemIcon\"\nimport ThreadsListItemLastPoster from \"./ThreadsListItemLastPoster\"\nimport ThreadsListItemSubscription from \"./ThreadsListItemSubscription\"\n\nconst ThreadsListItem = ({\n  activeCategory,\n  categories,\n  showOptions,\n  showSubscription,\n  thread,\n  isBusy,\n  isSelected,\n}) => {\n  let parent = null\n  let category = null\n\n  if (activeCategory.id !== thread.category) {\n    category = categories[thread.category]\n\n    if (\n      category.parent &&\n      category.parent !== activeCategory.id &&\n      categories[category.parent] &&\n      !categories[category.parent].special_role\n    ) {\n      parent = categories[category.parent]\n    }\n  }\n\n  const hasFlags =\n    thread.is_closed ||\n    thread.is_hidden ||\n    thread.is_unapproved ||\n    thread.weight > 0 ||\n    thread.best_answer ||\n    thread.has_poll ||\n    thread.has_unapproved_posts\n\n  const isNew = showOptions ? thread.is_new : false\n\n  return (\n    <li\n      className={\n        \"list-group-item threads-list-item\" +\n        (isBusy ? \" threads-list-item-is-busy\" : \"\")\n      }\n    >\n      <div className=\"threads-list-item-top-row\">\n        {showOptions && (\n          <div className=\"threads-list-item-col-icon\">\n            <ThreadsListItemIcon thread={thread} />\n          </div>\n        )}\n        <div className=\"threads-list-item-col-title\">\n          <a href={thread.url.index} className=\"threads-list-item-title\">\n            {thread.title}\n          </a>\n          <a\n            href={isNew ? thread.url.new_post : thread.url.index}\n            className={\n              \"threads-list-item-title-sm\" +\n              (isNew ? \" threads-list-item-title-new\" : \"\")\n            }\n          >\n            {thread.title}\n          </a>\n        </div>\n        {showOptions && thread.moderation.length > 0 && (\n          <div className=\"threads-list-item-col-checkbox-sm\">\n            <ThreadsListItemCheckbox\n              checked={isSelected}\n              disabled={isBusy}\n              thread={thread}\n            />\n          </div>\n        )}\n      </div>\n      <div className=\"threads-list-item-bottom-row\">\n        {hasFlags && (\n          <div className=\"threads-list-item-col-flags\">\n            <ThreadFlags thread={thread} />\n          </div>\n        )}\n        {!!category && (\n          <div className=\"threads-list-item-col-category\">\n            <ThreadsListItemCategory parent={parent} category={category} />\n          </div>\n        )}\n        <div className=\"threads-list-item-col-spacer-xs\" />\n        <div className=\"threads-list-item-col-replies\">\n          <ThreadReplies thread={thread} />\n        </div>\n        <div className=\"threads-list-item-col-last-poster\">\n          <ThreadsListItemLastPoster thread={thread} />\n        </div>\n        <div className=\"threads-list-item-col-last-activity\">\n          <ThreadsListItemActivity thread={thread} />\n        </div>\n        {showOptions && showSubscription && (\n          <div className=\"threads-list-item-col-subscription\">\n            <ThreadsListItemSubscription disabled={isBusy} thread={thread} />\n          </div>\n        )}\n        {showOptions && thread.moderation.length > 0 && (\n          <div className=\"threads-list-item-col-checkbox\">\n            <ThreadsListItemCheckbox\n              checked={isSelected}\n              disabled={isBusy}\n              thread={thread}\n            />\n          </div>\n        )}\n      </div>\n    </li>\n  )\n}\n\nexport default ThreadsListItem\n","import React from \"react\"\n\nconst ThreadsListItemActivity = ({ thread }) => (\n  <a\n    href={thread.url.last_post}\n    className=\"threads-list-item-last-activity\"\n    title={interpolate(\n      gettext(\"Last activity: %(timestamp)s\"),\n      {\n        timestamp: thread.last_post_on.format(\"LLL\"),\n      },\n      true\n    )}\n  >\n    {thread.last_post_on.fromNow(true)}\n  </a>\n)\n\nexport default ThreadsListItemActivity\n","import React from \"react\"\n\nconst ThreadsListItemCategory = ({ parent, category }) => (\n  <span>\n    {parent && (\n      <a\n        href={parent.url.index}\n        className={getClassName(parent) + \" threads-list-item-parent-category\"}\n        style={parent.color ? { \"--label-color\": parent.color } : null}\n        title={!!parent.short_name ? parent.name : null}\n      >\n        {parent.short_name || parent.name}\n      </a>\n    )}\n    <a\n      href={category.url.index}\n      className={getClassName(category)}\n      style={category.color ? { \"--label-color\": category.color } : null}\n      title={!!category.short_name ? category.name : null}\n    >\n      {category.short_name || category.name}\n    </a>\n  </span>\n)\n\nconst getClassName = (category) => {\n  let className = \"threads-list-item-category threads-list-category-label\"\n\n  if (category.color) {\n    className += \" threads-list-category-label-color\"\n  }\n\n  return className\n}\n\nexport default ThreadsListItemCategory\n","import React from \"react\"\nimport * as select from \"../../reducers/selection\"\nimport store from \"../../services/store\"\n\nconst ThreadsListItemCheckbox = ({ checked, disabled, thread }) => (\n  <button\n    className=\"btn btn-default btn-icon\"\n    type=\"button\"\n    disabled={disabled}\n    onClick={() => store.dispatch(select.item(thread.id))}\n  >\n    <span className=\"material-icon\">\n      {checked ? \"check_box\" : \"check_box_outline_blank\"}\n    </span>\n  </button>\n)\n\nexport default ThreadsListItemCheckbox\n","import React from \"react\"\n\nconst ThreadsListItemIcon = ({ thread }) => {\n  let className = \"threads-list-icon\"\n  if (!thread.is_read) className += \" threads-list-icon-new\"\n\n  return (\n    <a\n      title={thread.is_read ? gettext(\"No new posts\") : gettext(\"New posts\")}\n      href={thread.is_read ? thread.url.last_post : thread.url.new_post}\n      className={className}\n    >\n      <span className=\"material-icon\">\n        {thread.is_read ? \"chat_bubble_outline\" : \"chat_bubble\"}\n      </span>\n    </a>\n  )\n}\n\nexport default ThreadsListItemIcon\n","import React from \"react\"\nimport Avatar from \"../avatar\"\n\nconst ThreadsListItemLastPoster = ({ thread }) =>\n  !!thread.last_poster ? (\n    <a\n      href={thread.url.last_poster}\n      className=\"threads-list-item-last-poster\"\n      title={interpolate(\n        gettext(\"Last post by: %(poster)s\"),\n        { poster: thread.last_poster.username },\n        true\n      )}\n    >\n      <Avatar size={32} user={thread.last_poster} />\n    </a>\n  ) : (\n    <span\n      className=\"threads-list-item-last-poster\"\n      title={interpolate(\n        gettext(\"Last post by: %(poster)s\"),\n        { poster: thread.last_poster_name },\n        true\n      )}\n    >\n      <Avatar size={32} />\n    </span>\n  )\n\nexport default ThreadsListItemLastPoster\n","import React from \"react\"\nimport ThreadsListItemSubscriptionOptions from \"./ThreadsListItemSubscriptionOptions\"\n\nconst ThreadsListItemSubscription = ({ disabled, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-icon\"\n      type=\"button\"\n      title={getSubscriptionTitle(thread.subscription)}\n      disabled={disabled}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      <span className=\"material-icon\">\n        {getSubscriptionIcon(thread.subscription)}\n      </span>\n    </button>\n    <ThreadsListItemSubscriptionOptions disabled={disabled} thread={thread} />\n  </div>\n)\n\nconst getSubscriptionTitle = (subscription) => {\n  if (subscription === true) return gettext(\"Subscribed to e-mails\")\n  if (subscription === false) return gettext(\"Subscribed to alerts\")\n  return gettext(\"Not subscribed\")\n}\n\nconst getSubscriptionIcon = (subscription) => {\n  if (subscription === true) return \"star\"\n  if (subscription === false) return \"star_half\"\n  return \"star_border\"\n}\n\nexport default ThreadsListItemSubscription\n","import React from \"react\"\nimport { patch } from \"../../reducers/threads\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport store from \"../../services/store\"\n\nconst SUBSCRIPTION = {\n  unsubscribe: null,\n  notify: false,\n  email: true,\n}\n\nclass ThreadsListItemSubscriptionOptions extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: false,\n    }\n  }\n\n  update = (value) => {\n    const { thread } = this.props\n\n    this.setState({ loading: true })\n    store.dispatch(patch(thread, { subscription: SUBSCRIPTION[value] }))\n\n    ajax\n      .patch(thread.api.index, [{ op: \"replace\", path: \"subscription\", value }])\n      .then(\n        () => {},\n        (rejection) => {\n          store.dispatch(\n            patch(thread, {\n              subscription: SUBSCRIPTION[thread.subscription],\n            })\n          )\n          snackbar.apiError(rejection)\n        }\n      )\n      .then(() => this.setState({ loading: false }))\n  }\n\n  render = () => {\n    const { loading } = this.state\n    const { disabled, thread } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\">\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === null}\n            onClick={() => this.update(\"unsubscribe\")}\n          >\n            <span className=\"material-icon\">star_border</span>\n            {gettext(\"Unsubscribe\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === false}\n            onClick={() => this.update(\"notify\")}\n          >\n            <span className=\"material-icon\">star_half</span>\n            {gettext(\"Subscribe with alert\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            disabled={disabled || loading || thread.subscription === true}\n            onClick={() => this.update(\"email\")}\n          >\n            <span className=\"material-icon\">star</span>\n            {gettext(\"Subscribe with e-mail\")}\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport default ThreadsListItemSubscriptionOptions\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { UIPreviewText } from \"../UIPreview\"\n\nconst ThreadsListLoader = ({ showOptions }) => (\n  <div className=\"threads-list threads-list-loader\">\n    <ul className=\"list-group\">\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"90\" /> <UIPreviewText width=\"40\" />{\" \"}\n              <UIPreviewText width=\"120\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"90\" /> <UIPreviewText width=\"40\" />{\" \"}\n              <UIPreviewText width=\"120\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"70\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"50\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"50\" />\n            </span>\n          </div>\n        </div>\n      </li>\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"120\" /> <UIPreviewText width=\"30\" />{\" \"}\n              <UIPreviewText width=\"60\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"120\" /> <UIPreviewText width=\"30\" />{\" \"}\n              <UIPreviewText width=\"60\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"55\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"60\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"70\" />\n            </span>\n          </div>\n        </div>\n      </li>\n      <li className=\"list-group-item threads-list-item\">\n        <div className=\"threads-list-item-top-row\">\n          {showOptions && (\n            <div className=\"threads-list-item-col-icon\">\n              <span className=\"threads-list-icon ui-preview-img\"></span>\n            </div>\n          )}\n          <div className=\"threads-list-item-col-title\">\n            <span className=\"threads-list-item-title\">\n              <UIPreviewText width=\"40\" /> <UIPreviewText width=\"120\" />{\" \"}\n              <UIPreviewText width=\"80\" />\n            </span>\n            <span className=\"threads-list-item-title-sm\">\n              <UIPreviewText width=\"40\" /> <UIPreviewText width=\"120\" />{\" \"}\n              <UIPreviewText width=\"80\" />\n            </span>\n          </div>\n        </div>\n        <div className=\"threads-list-item-bottom-row\">\n          <div className=\"threads-list-item-col-category\">\n            <UIPreviewText width=\"75\" />\n          </div>\n          <div className=\"threads-list-item-col-replies\">\n            <UIPreviewText width=\"40\" />\n          </div>\n          <div className=\"threads-list-item-col-last-poster\">\n            <span className=\"threads-list-item-last-poster\">\n              <Avatar size={32} />\n            </span>\n          </div>\n          <div className=\"threads-list-item-col-last-activity\">\n            <span className=\"threads-list-item-last-activity\">\n              <UIPreviewText width=\"60\" />\n            </span>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadsListLoader\n","import React from \"react\"\n\nconst ThreadsListUpdatePrompt = ({ threads, onClick }) => (\n  <li className=\"list-group-item threads-list-update-prompt\">\n    <button\n      type=\"button\"\n      className=\"btn btn-block threads-list-update-prompt-btn\"\n      onClick={onClick}\n    >\n      <span className=\"material-icon\">cached</span>\n      <span className=\"threads-list-update-prompt-message\">\n        {interpolate(\n          ngettext(\n            \"There is %(threads)s new or updated thread. Click here to show it.\",\n            \"There are %(threads)s new or updated threads. Click here to show them.\",\n            threads\n          ),\n          { threads },\n          true\n        )}\n      </span>\n    </button>\n  </li>\n)\n\nexport default ThreadsListUpdatePrompt\n","import ThreadsList from \"./ThreadsList\"\n\nexport default ThreadsList\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst Toolbar = ({ children, className }) => (\n  <nav className={classnames(\"toolbar\", className)}>{children}</nav>\n)\n\nexport default Toolbar\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarItem = ({ children, className, shrink }) => (\n  <div\n    className={classnames(\"toolbar-item\", className, {\n      \"toolbar-item-shrink\": shrink,\n    })}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarItem\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSection = ({ auto, children, className }) => (\n  <div\n    className={classnames(\n      \"toolbar-section\",\n      { \"toolbar-section-auto\": auto },\n      className\n    )}\n  >\n    {children}\n  </div>\n)\n\nexport default ToolbarSection\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ToolbarSpacer = ({ className }) => (\n  <div className={classnames(\"toolbar-spacer\", className)} />\n)\n\nexport default ToolbarSpacer\n","import Toolbar from \"./Toolbar\"\nimport ToolbarItem from \"./ToolbarItem\"\nimport ToolbarSection from \"./ToolbarSection\"\nimport ToolbarSpacer from \"./ToolbarSpacer\"\n\nexport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer }\n","import React from \"react\"\n\nconst UIPreviewText = ({ width }) => (\n  <span className=\"ui-preview-text\" style={{ width: width + \"px\" }}>\n    &nbsp;\n  </span>\n)\n\nexport default UIPreviewText\n","import UIPreviewText from \"./UIPreviewText\"\n\nexport { UIPreviewText }\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class AcceptAgreement extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { submiting: false }\n  }\n\n  handleDecline = () => {\n    if (this.state.submiting) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Declining will result in immediate deactivation and deletion of your account. This action is not reversible.\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: false }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  handleAccept = () => {\n    if (this.state.submiting) return\n\n    this.setState({ submiting: true })\n\n    ajax.post(this.props.api, { accept: true }).then(() => {\n      window.location.reload(true)\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          className=\"btn btn-default\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleDecline}\n        >\n          {gettext(\"Decline\")}\n        </button>\n        <button\n          className=\"btn btn-primary\"\n          disabled={this.state.submiting}\n          type=\"buton\"\n          onClick={this.handleAccept}\n        >\n          {gettext(\"Accept and continue\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"./form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n    }\n  }\n\n  onUsernameChange = (event) => {\n    this.changeValue(\"username\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.username.trim().length) {\n      snackbar.error(gettext(\"You have to enter user name.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"add\", path: \"participants\", value: this.state.username },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n  }\n\n  handleSuccess(data) {\n    store.dispatch(updateAcl(data))\n    store.dispatch(participants.replace(data.participants))\n\n    snackbar.success(gettext(\"New participant has been added to thread.\"))\n\n    modal.hide()\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup for=\"id_username\" label={gettext(\"User to add\")}>\n                <input\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onUsernameChange}\n                  type=\"text\"\n                  value={this.state.username}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-block btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Add participant\")}\n              </button>\n              <button\n                className=\"btn btn-block btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Add participant\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  refresh() {\n    window.location.reload()\n  }\n\n  getMessage() {\n    if (this.props.signedIn) {\n      return interpolate(\n        gettext(\n          \"You have signed in as %(username)s. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.signedIn.username },\n        true\n      )\n    } else if (this.props.signedOut) {\n      return interpolate(\n        gettext(\n          \"%(username)s, you have been signed out. Please refresh the page before continuing.\"\n        ),\n        { username: this.props.user.username },\n        true\n      )\n    }\n  }\n\n  render() {\n    let className = \"auth-message\"\n    if (this.props.signedIn || this.props.signedOut) {\n      className += \" show\"\n    }\n\n    return (\n      <div className={className}>\n        <div className=\"container\">\n          <p className=\"lead\">{this.getMessage()}</p>\n          <p>\n            <button\n              className=\"btn btn-default\"\n              type=\"button\"\n              onClick={this.refresh}\n            >\n              {gettext(\"Reload page\")}\n            </button>\n            <span className=\"hidden-xs hidden-sm\">\n              {\" \" + gettext(\"or press F5 key.\")}\n            </span>\n          </p>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n    signedIn: state.auth.signedIn,\n    signedOut: state.auth.signedOut,\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\n\nexport default function (props) {\n  const size = props.size || 100\n  const size2x = props.size2x || size\n\n  return (\n    <img\n      alt=\"\"\n      className={props.className || \"user-avatar\"}\n      src={getSrc(props.user, size)}\n      srcSet={getSrc(props.user, size2x)}\n      width={size}\n      height={size}\n    />\n  )\n}\n\nexport function getSrc(user, size) {\n  if (user && user.id) {\n    // just avatar hash, size and user id\n    return resolveAvatarForSize(user.avatars, size).url\n  } else {\n    // just append avatar size to file to produce no-avatar placeholder\n    return misago.get(\"BLANK_AVATAR_URL\")\n  }\n}\n\nexport function resolveAvatarForSize(avatars, size) {\n  let avatar = avatars[0]\n  avatars.forEach((av) => {\n    if (av.size >= size) {\n      avatar = av\n    }\n  })\n  return avatar\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default class extends React.Component {\n  getReasonMessage() {\n    if (this.props.message.html) {\n      return (\n        <div\n          className=\"lead\"\n          dangerouslySetInnerHTML={{\n            __html: this.props.message.html,\n          }}\n        />\n      )\n    } else {\n      return <p className=\"lead\">{this.props.message.plain}</p>\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.props.expires) {\n      if (this.props.expires.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.props.expires.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return gettext(\"This ban is permanent.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-error page-error-banned\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">highlight_off</span>\n            </div>\n            <div className=\"message-body\">\n              {this.getReasonMessage()}\n              <p className=\"message-footnote\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"./loader\"\n\nexport default class Button extends React.Component {\n  render() {\n    let className = \"btn \" + this.props.className\n    let disabled = this.props.disabled\n\n    if (this.props.loading) {\n      className += \" btn-loading\"\n      disabled = true\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={disabled}\n        onClick={this.props.onClick}\n        type={this.props.onClick ? \"button\" : \"submit\"}\n      >\n        {this.props.children}\n        {this.props.loading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n\nButton.defaultProps = {\n  className: \"btn-default\",\n\n  type: \"submit\",\n\n  loading: false,\n  disabled: false,\n\n  onClick: null,\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"categories-list\">\n      <ul className=\"list-group\">\n        <li className=\"list-group-item empty-message\">\n          <p className=\"lead\">\n            {gettext(\n              \"No categories exist or you don't have permission to see them.\"\n            )}\n          </p>\n        </li>\n      </ul>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Category from \"./category\"\n\nexport default function ({ categories }) {\n  return (\n    <div className=\"categories-list\">\n      {categories.map((category) => {\n        return <Category category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function ({ category }) {\n  let className = \"list-group list-group-category\"\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-category-\" + category.css_class\n  }\n\n  return (\n    <ul className={className}>\n      <ListItem category={category} isFirst={true} />\n      {category.subcategories.map((category) => {\n        return (\n          <ListItem category={category} isFirst={false} key={category.id} />\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  if (!category.description) return null\n\n  return (\n    <div\n      className=\"category-description\"\n      dangerouslySetInnerHTML={{\n        __html: category.description.html,\n      }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  return (\n    <div className={getClassName(category)} title={getTitle(category)}>\n      <span className=\"material-icon\">{getIcon(category)}</span>\n    </div>\n  )\n}\n\nexport function getClassName(category) {\n  if (category.is_read) {\n    return \"read-status item-read\"\n  }\n\n  return \"read-status item-new\"\n}\n\nexport function getTitle(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return gettext(\"This category has no new posts. (closed)\")\n    }\n\n    return gettext(\"This category has new posts. (closed)\")\n  }\n\n  if (category.is_read) {\n    return gettext(\"This category has no new posts.\")\n  }\n\n  return gettext(\"This category has new posts.\")\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import React from \"react\"\nimport Main from \"./main\"\nimport LastThread from \"./last-thread\"\nimport Stats from \"./stats\"\nimport Subcategories from \"./subcategories\"\n\nexport default function ({ category, isFirst }) {\n  let className = \"list-group-item\"\n\n  if (category.description) {\n    className += \" list-group-category-has-description\"\n  } else {\n    className += \" list-group-category-no-description\"\n  }\n\n  if (isFirst) {\n    className += \" list-group-item-first\"\n  }\n  if (category.css_class) {\n    className += \" list-group-category-has-flavor\"\n    className += \" list-group-item-category-\" + category.css_class\n  }\n\n  return (\n    <li className={className}>\n      <div className=\"row\">\n        <Main category={category} />\n        <Stats category={category} />\n        <LastThread category={category} />\n      </div>\n      <Subcategories category={category} isFirst={isFirst} />\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-4 category-last-thread\">\n      <LastThread category={category} />\n      <Empty category={category} />\n      <Private category={category} />\n      <Protected category={category} />\n    </div>\n  )\n}\n\nexport function LastThread({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (!category.last_thread_title) return null\n\n  return (\n    <div className=\"media\">\n      <div className=\"media-left hidden-xs\">\n        <LastPosterAvatar category={category} />\n      </div>\n      <div className=\"media-body\">\n        <div className=\"media-heading\">\n          <a\n            className=\"item-title thread-title\"\n            href={category.url.last_thread_new}\n            title={category.last_thread_title}\n          >\n            {category.last_thread_title}\n          </a>\n        </div>\n        <ul className=\"list-inline\">\n          <li className=\"category-last-thread-poster\">\n            <LastPosterName category={category} />\n          </li>\n          <li className=\"divider\">&#8212;</li>\n          <li className=\"category-last-thread-date\">\n            <a href={category.url.last_post}>\n              {category.last_post_on.fromNow()}\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function LastPosterAvatar({ category }) {\n  if (category.last_poster) {\n    return (\n      <a\n        className=\"last-poster-avatar\"\n        href={category.last_poster.url}\n        title={category.last_poster_name}\n      >\n        <Avatar\n          className=\"media-object\"\n          size={40}\n          user={category.last_poster}\n        />\n      </a>\n    )\n  }\n\n  return (\n    <span className=\"last-poster-avatar\" title={category.last_poster_name}>\n      <Avatar className=\"media-object\" size={40} />\n    </span>\n  )\n}\n\nexport function LastPosterName({ category }) {\n  if (category.last_poster) {\n    return (\n      <a className=\"item-title\" href={category.last_poster.url}>\n        {category.last_poster_name}\n      </a>\n    )\n  }\n\n  return <span className=\"item-title\">{category.last_poster_name}</span>\n}\n\nexport function Empty({ category }) {\n  if (!category.acl.can_browse) return null\n  if (!category.acl.can_see_all_threads) return null\n  if (category.last_thread_title) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is empty. No threads were posted within it so far.\"\n      )}\n    />\n  )\n}\n\nexport function Private({ category }) {\n  if (!category.acl.can_browse) return null\n  if (category.acl.can_see_all_threads) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is private. You can see only your own threads within it.\"\n      )}\n    />\n  )\n}\n\nexport function Protected({ category }) {\n  if (category.acl.can_browse) return null\n\n  return (\n    <Message\n      message={gettext(\n        \"This category is protected. You can't browse its contents.\"\n      )}\n    />\n  )\n}\n\nexport function Message({ message }) {\n  return (\n    <div className=\"media category-thread-message\">\n      <div className=\"media-left\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"media-body\">\n        <p>{message}</p>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Description from \"./description\"\nimport Icon from \"./icon\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-xs-12 col-sm-6 col-md-6 category-main\">\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <Icon category={category} />\n        </div>\n        <div className=\"media-body\">\n          <h4 className=\"media-heading\">\n            <a href={category.url.index}>{category.name}</a>\n          </h4>\n          <Description category={category} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ category }) {\n  return (\n    <div className=\"col-md-2 hidden-xs hidden-sm\">\n      <ul className=\"list-unstyled category-stats\">\n        <Threads threads={category.threads} />\n        <Posts posts={category.posts} />\n      </ul>\n    </div>\n  )\n}\n\nexport function Threads({ threads }) {\n  const message = ngettext(\"%(threads)s thread\", \"%(threads)s threads\", threads)\n\n  return (\n    <li className=\"category-stat-threads\">\n      {interpolate(\n        message,\n        {\n          threads: threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Posts({ posts }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", posts)\n\n  return (\n    <li className=\"category-stat-posts\">\n      {interpolate(\n        message,\n        {\n          posts: posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n","import React from \"react\"\nimport ListItem from \"./list-item\"\n\nexport default function ({ category, isFirst }) {\n  if (isFirst) return null\n  if (category.subcategories.length === 0) return null\n\n  return (\n    <div className=\"row subcategories-list\">\n      {category.subcategories.map((category) => {\n        return <ListItem category={category} key={category.id} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ category }) {\n  let className = \"btn btn-default btn-block btn-sm btn-subcategory\"\n  if (!category.is_read) {\n    className += \" btn-subcategory-new\"\n  }\n\n  return (\n    <div className=\"col-xs-12 col-sm-4 col-md-3\">\n      <a className={className} href={category.url.index}>\n        <span className=\"material-icon\">{getIcon(category)}</span>\n        <span className=\"icon-text\">{category.name}</span>\n      </a>\n    </div>\n  )\n}\n\nexport function getIcon(category) {\n  if (category.is_closed) {\n    if (category.is_read) {\n      return \"lock_outline\"\n    }\n\n    return \"lock\"\n  }\n\n  if (category.is_read) {\n    return \"chat_bubble_outline\"\n  }\n\n  return \"chat_bubble\"\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport CategoriesList from \"./categories-list\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\n\nconst hydrate = function (category) {\n  return Object.assign({}, category, {\n    last_post_on: category.last_post_on ? moment(category.last_post_on) : null,\n    subcategories: category.subcategories.map(hydrate),\n  })\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      categories: misago.get(\"CATEGORIES\").map(hydrate),\n    }\n\n    this.startPolling(misago.get(\"CATEGORIES_API\"))\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"categories\",\n      url: api,\n      frequency: 180 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    this.setState({\n      categories: data.map(hydrate),\n    })\n  }\n\n  render() {\n    const { categories } = this.state\n\n    if (categories.length === 0) {\n      return <Blankslate />\n    }\n\n    return <CategoriesList categories={categories} />\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <select\n      className={props.className || \"form-control\"}\n      disabled={props.disabled || false}\n      id={props.id || null}\n      onChange={props.onChange}\n      value={props.value}\n    >\n      {props.choices.map((item) => {\n        return (\n          <option\n            disabled={item.disabled || false}\n            key={item.value}\n            value={item.value}\n          >\n            {\"- - \".repeat(item.level) + item.label}\n          </option>\n        )\n      })}\n    </select>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      deviceRatio: 1,\n    }\n  }\n\n  getAvatarSize() {\n    if (this.props.upload) {\n      return this.props.options.crop_tmp.size\n    } else {\n      return this.props.options.crop_src.size\n    }\n  }\n\n  getImagePath() {\n    if (this.props.upload) {\n      return this.props.dataUrl\n    } else {\n      return this.props.options.crop_src.url\n    }\n  }\n\n  componentDidMount() {\n    let cropit = $(\".crop-form\")\n    let cropperWidth = this.getAvatarSize()\n\n    const initialWidth = cropit.width()\n    while (initialWidth < cropperWidth) {\n      cropperWidth = cropperWidth / 2\n    }\n\n    const deviceRatio = this.getAvatarSize() / cropperWidth\n\n    cropit.width(cropperWidth)\n\n    cropit.cropit({\n      width: cropperWidth,\n      height: cropperWidth,\n      exportZoom: deviceRatio,\n      imageState: {\n        src: this.getImagePath(),\n      },\n      onImageLoaded: () => {\n        if (this.props.upload) {\n          // center uploaded image\n          let zoomLevel = cropit.cropit(\"zoom\")\n          let imageSize = cropit.cropit(\"imageSize\")\n\n          // is it wider than taller?\n          if (imageSize.width > imageSize.height) {\n            let displayedWidth = imageSize.width * zoomLevel\n            let offsetX = (displayedWidth - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: offsetX,\n              y: 0,\n            })\n          } else if (imageSize.width < imageSize.height) {\n            let displayedHeight = imageSize.height * zoomLevel\n            let offsetY = (displayedHeight - this.getAvatarSize()) / -2\n\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: offsetY,\n            })\n          } else {\n            cropit.cropit(\"offset\", {\n              x: 0,\n              y: 0,\n            })\n          }\n        } else {\n          // use preserved crop\n          let crop = this.props.options.crop_src.crop\n\n          if (crop) {\n            cropit.cropit(\"zoom\", crop.zoom)\n            cropit.cropit(\"offset\", {\n              x: crop.x,\n              y: crop.y,\n            })\n          }\n        }\n      },\n    })\n  }\n\n  componentWillUnmount() {\n    $(\".crop-form\").cropit(\"disable\")\n  }\n\n  cropAvatar = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    let avatarType = this.props.upload ? \"crop_tmp\" : \"crop_src\"\n    let cropit = $(\".crop-form\")\n\n    const deviceRatio = cropit.cropit(\"exportZoom\")\n    const cropitOffset = cropit.cropit(\"offset\")\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n        crop: {\n          offset: {\n            x: cropitOffset.x * deviceRatio,\n            y: cropitOffset.y * deviceRatio,\n          },\n          zoom: cropit.cropit(\"zoom\") * deviceRatio,\n        },\n      })\n      .then(\n        (data) => {\n          this.props.onComplete(data)\n          snackbar.success(data.detail)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-crop\">\n          <div className=\"crop-form\">\n            <div className=\"cropit-preview\" />\n            <input type=\"range\" className=\"cropit-image-zoom-input\" />\n          </div>\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.cropAvatar}\n              loading={this.state.isLoading}\n              className=\"btn-primary btn-block\"\n            >\n              {this.props.upload\n                ? gettext(\"Set avatar\")\n                : gettext(\"Crop image\")}\n            </Button>\n\n            <Button\n              onClick={this.props.showIndex}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport batch from \"misago/utils/batch\"\n\nexport class GalleryItem extends React.Component {\n  select = () => {\n    this.props.select(this.props.id)\n  }\n\n  getClassName() {\n    if (this.props.selection === this.props.id) {\n      if (this.props.disabled) {\n        return \"btn btn-avatar btn-disabled avatar-selected\"\n      } else {\n        return \"btn btn-avatar avatar-selected\"\n      }\n    } else if (this.props.disabled) {\n      return \"btn btn-avatar btn-disabled\"\n    } else {\n      return \"btn btn-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={this.getClassName()}\n        disabled={this.props.disabled}\n        onClick={this.select}\n      >\n        <img src={this.props.url} />\n      </button>\n    )\n  }\n}\n\nexport class Gallery extends React.Component {\n  render() {\n    return (\n      <div className=\"avatars-gallery\">\n        <h3>{this.props.name}</h3>\n\n        <div className=\"avatars-gallery-images\">\n          {batch(this.props.images, 4, null).map((row, i) => {\n            return (\n              <div className=\"row\" key={i}>\n                {row.map((item, i) => {\n                  return (\n                    <div className=\"col-xs-3\" key={i}>\n                      {item ? (\n                        <GalleryItem\n                          disabled={this.props.disabled}\n                          select={this.props.select}\n                          selection={this.props.selection}\n                          {...item}\n                        />\n                      ) : (\n                        <div className=\"blank-avatar\" />\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      selection: null,\n      isLoading: false,\n    }\n  }\n\n  select = (image) => {\n    this.setState({\n      selection: image,\n    })\n  }\n\n  save = () => {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: \"galleries\",\n        image: this.state.selection,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n          this.props.showIndex()\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"modal-body modal-avatar-gallery\">\n          {this.props.options.galleries.map((item, i) => {\n            return (\n              <Gallery\n                name={item.name}\n                images={item.images}\n                selection={this.state.selection}\n                disabled={this.state.isLoading}\n                select={this.select}\n                key={i}\n              />\n            )\n          })}\n        </div>\n        <div className=\"modal-footer\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <Button\n                onClick={this.save}\n                loading={this.state.isLoading}\n                disabled={!this.state.selection}\n                className=\"btn-primary btn-block\"\n              >\n                {this.state.selection\n                  ? gettext(\"Save choice\")\n                  : gettext(\"Select avatar\")}\n              </Button>\n\n              <Button\n                onClick={this.props.showIndex}\n                disabled={this.state.isLoading}\n                className=\"btn-default btn-block\"\n              >\n                {gettext(\"Cancel\")}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Button from \"misago/components/button\"\nimport Loader from \"misago/components/loader\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  callApi(avatarType) {\n    if (this.state.isLoading) {\n      return false\n    }\n\n    this.setState({\n      isLoading: true,\n    })\n\n    ajax\n      .post(this.props.user.api.avatar, {\n        avatar: avatarType,\n      })\n      .then(\n        (response) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.success(response.detail)\n          this.props.onComplete(response)\n        },\n        (rejection) => {\n          if (rejection.status === 400) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  setGravatar = () => {\n    this.callApi(\"gravatar\")\n  }\n\n  setGenerated = () => {\n    this.callApi(\"generated\")\n  }\n\n  getGravatarButton() {\n    if (this.props.options.gravatar) {\n      return (\n        <Button\n          onClick={this.setGravatar}\n          disabled={this.state.isLoading}\n          className=\"btn-default btn-block btn-avatar-gravatar\"\n        >\n          {gettext(\"Download my Gravatar\")}\n        </Button>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getCropButton() {\n    if (!this.props.options.crop_src) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-crop\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showCrop}\n      >\n        {gettext(\"Re-crop uploaded image\")}\n      </Button>\n    )\n  }\n\n  getUploadButton() {\n    if (!this.props.options.upload) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-upload\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showUpload}\n      >\n        {gettext(\"Upload new image\")}\n      </Button>\n    )\n  }\n\n  getGalleryButton() {\n    if (!this.props.options.galleries) return null\n\n    return (\n      <Button\n        className=\"btn-default btn-block btn-avatar-gallery\"\n        disabled={this.state.isLoading}\n        onClick={this.props.showGallery}\n      >\n        {gettext(\"Pick avatar from gallery\")}\n      </Button>\n    )\n  }\n\n  getAvatarPreview() {\n    let userPeview = {\n      id: this.props.user.id,\n      avatars: this.props.options.avatars,\n    }\n\n    if (this.state.isLoading) {\n      return (\n        <div className=\"avatar-preview preview-loading\">\n          <Avatar size=\"200\" user={userPeview} />\n          <Loader />\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"avatar-preview\">\n        <Avatar size=\"200\" user={userPeview} />\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body modal-avatar-index\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">{this.getAvatarPreview()}</div>\n          <div className=\"col-md-7\">\n            {this.getGravatarButton()}\n\n            <Button\n              onClick={this.setGenerated}\n              disabled={this.state.isLoading}\n              className=\"btn-default btn-block btn-avatar-generate\"\n            >\n              {gettext(\"Generate my individual avatar\")}\n            </Button>\n\n            {this.getCropButton()}\n            {this.getUploadButton()}\n            {this.getGalleryButton()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AvatarIndex from \"misago/components/change-avatar/index\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport AvatarUpload from \"misago/components/change-avatar/upload\"\nimport AvatarGallery from \"misago/components/change-avatar/gallery\"\nimport Loader from \"misago/components/modal-loader\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport store from \"misago/services/store\"\n\nexport class ChangeAvatarError extends React.Component {\n  getErrorReason() {\n    if (this.props.reason) {\n      return <p dangerouslySetInnerHTML={{ __html: this.props.reason }} />\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">remove_circle_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getErrorReason()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  componentDidMount() {\n    ajax.get(this.props.user.api.avatar).then(\n      (options) => {\n        this.setState({\n          component: AvatarIndex,\n          options: options,\n          error: null,\n        })\n      },\n      (rejection) => {\n        this.showError(rejection)\n      }\n    )\n  }\n\n  showError = (error) => {\n    this.setState({\n      error,\n    })\n  }\n\n  showIndex = () => {\n    this.setState({\n      component: AvatarIndex,\n    })\n  }\n\n  showUpload = () => {\n    this.setState({\n      component: AvatarUpload,\n    })\n  }\n\n  showCrop = () => {\n    this.setState({\n      component: AvatarCrop,\n    })\n  }\n\n  showGallery = () => {\n    this.setState({\n      component: AvatarGallery,\n    })\n  }\n\n  completeFlow = (options) => {\n    store.dispatch(updateAvatar(this.props.user, options.avatars))\n\n    this.setState({\n      component: AvatarIndex,\n      options,\n    })\n  }\n\n  getBody() {\n    if (this.state) {\n      if (this.state.error) {\n        return (\n          <ChangeAvatarError\n            message={this.state.error.detail}\n            reason={this.state.error.reason}\n          />\n        )\n      } else {\n        return (\n          <this.state.component\n            options={this.state.options}\n            user={this.props.user}\n            onComplete={this.completeFlow}\n            showError={this.showError}\n            showIndex={this.showIndex}\n            showCrop={this.showCrop}\n            showUpload={this.showUpload}\n            showGallery={this.showGallery}\n          />\n        )\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state && this.state.error) {\n      return \"modal-dialog modal-message modal-change-avatar\"\n    } else {\n      return \"modal-dialog modal-change-avatar\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change your avatar\")}</h4>\n          </div>\n\n          {this.getBody()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n","import React from \"react\"\nimport AvatarCrop from \"misago/components/change-avatar/crop\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport fileSize from \"misago/utils/file-size\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      image: null,\n      preview: null,\n      progress: 0,\n      uploaded: null,\n      dataUrl: null,\n    }\n  }\n\n  validateFile(image) {\n    if (image.size > this.props.options.upload.limit) {\n      return interpolate(\n        gettext(\"Selected file is too big. (%(filesize)s)\"),\n        {\n          filesize: fileSize(image.size),\n        },\n        true\n      )\n    }\n\n    let invalidTypeMsg = gettext(\"Selected file type is not supported.\")\n    if (\n      this.props.options.upload.allowed_mime_types.indexOf(image.type) === -1\n    ) {\n      return invalidTypeMsg\n    }\n\n    let extensionFound = false\n    let loweredFilename = image.name.toLowerCase()\n    this.props.options.upload.allowed_extensions.map(function (extension) {\n      if (loweredFilename.substr(extension.length * -1) === extension) {\n        extensionFound = true\n      }\n    })\n\n    if (!extensionFound) {\n      return invalidTypeMsg\n    }\n\n    return false\n  }\n\n  pickFile = () => {\n    document.getElementById(\"avatar-hidden-upload\").click()\n  }\n\n  uploadFile = () => {\n    let image = document.getElementById(\"avatar-hidden-upload\").files[0]\n    if (!image) return\n\n    let validationError = this.validateFile(image)\n    if (validationError) {\n      snackbar.error(validationError)\n      return\n    }\n\n    this.setState({\n      image,\n      preview: URL.createObjectURL(image),\n      progress: 0,\n    })\n\n    let data = new FormData()\n    data.append(\"avatar\", \"upload\")\n    data.append(\"image\", image)\n\n    ajax\n      .upload(this.props.user.api.avatar, data, (progress) => {\n        this.setState({\n          progress,\n        })\n      })\n      .then(\n        (data) => {\n          this.setState({\n            options: data,\n            uploaded: data.detail,\n          })\n\n          snackbar.info(\n            gettext(\"Your image has been uploaded and you may now crop it.\")\n          )\n        },\n        (rejection) => {\n          if (rejection.status === 400 || rejection.status === 413) {\n            snackbar.error(rejection.detail)\n            this.setState({\n              isLoading: false,\n              image: null,\n              progress: 0,\n            })\n          } else {\n            this.props.showError(rejection)\n          }\n        }\n      )\n  }\n\n  getUploadRequirements(options) {\n    let extensions = options.allowed_extensions.map(function (extension) {\n      return extension.substr(1)\n    })\n\n    return interpolate(\n      gettext(\"%(files)s files smaller than %(limit)s\"),\n      {\n        files: extensions.join(\", \"),\n        limit: fileSize(options.limit),\n      },\n      true\n    )\n  }\n\n  getUploadButton() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <Button className=\"btn-pick-file\" onClick={this.pickFile}>\n          <div className=\"material-icon\">input</div>\n          {gettext(\"Select file\")}\n        </Button>\n        <p className=\"text-muted\">\n          {this.getUploadRequirements(this.props.options.upload)}\n        </p>\n      </div>\n    )\n  }\n\n  getUploadProgressLabel() {\n    return interpolate(\n      gettext(\"%(progress)s % complete\"),\n      {\n        progress: this.state.progress,\n      },\n      true\n    )\n  }\n\n  getUploadProgress() {\n    return (\n      <div className=\"modal-body modal-avatar-upload\">\n        <div className=\"upload-progress\">\n          <img src={this.state.preview} />\n\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar\"\n              role=\"progressbar\"\n              aria-valuenow=\"{this.state.progress}\"\n              aria-valuemin=\"0\"\n              aria-valuemax=\"100\"\n              style={{ width: this.state.progress + \"%\" }}\n            >\n              <span className=\"sr-only\">{this.getUploadProgressLabel()}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderUpload() {\n    return (\n      <div>\n        <input\n          type=\"file\"\n          id=\"avatar-hidden-upload\"\n          className=\"hidden-file-upload\"\n          onChange={this.uploadFile}\n        />\n        {this.state.image ? this.getUploadProgress() : this.getUploadButton()}\n        <div className=\"modal-footer\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <Button\n              onClick={this.props.showIndex}\n              disabled={!!this.state.image}\n              className=\"btn-default btn-block\"\n            >\n              {gettext(\"Cancel\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  renderCrop() {\n    return (\n      <AvatarCrop\n        options={this.state.options}\n        user={this.props.user}\n        upload={this.state.uploaded}\n        dataUrl={this.state.preview}\n        onComplete={this.props.onComplete}\n        showError={this.props.showError}\n        showIndex={this.props.showIndex}\n      />\n    )\n  }\n\n  render() {\n    if (this.state.uploaded) return this.renderCrop()\n\n    return this.renderUpload()\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <PanelMessage\n      helpText={gettext(\"No profile details are editable at this time.\")}\n      message={gettext(\"This option is currently unavailable.\")}\n    />\n  )\n}\n","import React from \"react\"\nimport Select from \"misago/components/select\"\n\nexport default class extends React.Component {\n  onChange = (ev) => {\n    const { field, onChange } = this.props\n    onChange(field.fieldname, ev.target.value)\n  }\n\n  render() {\n    const { disabled, field, value } = this.props\n    const { input } = field\n\n    if (input.type === \"select\") {\n      return (\n        <Select\n          choices={input.choices}\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"textarea\") {\n      return (\n        <textarea\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          rows=\"4\"\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    if (input.type === \"text\") {\n      return (\n        <input\n          className=\"form-control\"\n          disabled={disabled}\n          id={\"id_\" + field.fieldname}\n          onChange={this.onChange}\n          type=\"text\"\n          value={value}\n        />\n      )\n    }\n\n    return null\n  }\n}\n","import React from \"react\"\nimport FieldInput from \"./field-input\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport default function ({ disabled, errors, fields, name, onChange, value }) {\n  return (\n    <fieldset>\n      <legend>{name}</legend>\n      {fields.map((field) => {\n        return (\n          <FormGroup\n            for={\"id_\" + field.fieldname}\n            helpText={field.help_text}\n            key={field.fieldname}\n            label={field.label}\n            validation={errors[field.fieldname]}\n          >\n            <FieldInput\n              disabled={disabled}\n              field={field}\n              onChange={onChange}\n              value={value[field.fieldname]}\n            />\n          </FormGroup>\n        )\n      })}\n    </fieldset>\n  )\n}\n","import React from \"react\"\nimport Fieldset from \"./fieldset\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      errors: {},\n    }\n\n    const groups = props.groups.length\n    for (let i = 0; i < groups; i++) {\n      const group = props.groups[i]\n      const fields = group.fields.length\n      for (let f = 0; f < fields; f++) {\n        const fieldname = group.fields[f].fieldname\n        const initial = group.fields[f].initial\n        this.state[fieldname] = initial\n      }\n    }\n  }\n\n  send() {\n    const data = Object.assign({}, this.state, {\n      errors: null,\n      isLoading: null,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess(data) {\n    this.props.onSuccess(data)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({ errors: rejection })\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (name, value) => {\n    this.setState({\n      [name]: value,\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel-body\">\n          {this.props.groups.map((group, i) => {\n            return (\n              <Fieldset\n                disabled={this.state.isLoading}\n                errors={this.state.errors}\n                fields={group.fields}\n                name={group.name}\n                key={i}\n                onChange={this.onChange}\n                value={this.state}\n              />\n            )\n          })}\n        </div>\n        <div className=\"panel-footer text-right\">\n          <CancelButton\n            disabled={this.state.isLoading}\n            onCancel={this.props.onCancel}\n          />{\" \"}\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport function CancelButton({ onCancel, disabled }) {\n  if (!onCancel) return null\n\n  return (\n    <button\n      className=\"btn btn-default\"\n      disabled={disabled}\n      onClick={onCancel}\n      type=\"button\"\n    >\n      {gettext(\"Cancel\")}\n    </button>\n  )\n}\n","import React from \"react\"\nimport Blankslate from \"./blankslate\"\nimport Loader from \"./loader\"\nimport Form from \"./form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      loading: true,\n      groups: null,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.api).then(\n      (groups) => {\n        this.setState({\n          loading: false,\n\n          groups,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        if (this.props.cancel) {\n          this.props.cancel()\n        }\n      }\n    )\n  }\n\n  render() {\n    const { groups, loading } = this.state\n\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Edit details\")}</h3>\n        </div>\n        <Loader display={loading} />\n        <Blankslate display={!loading && !groups.length} />\n        <FormDisplay\n          api={this.props.api}\n          display={!loading && groups.length}\n          groups={groups}\n          onCancel={this.props.onCancel}\n          onSuccess={this.props.onSuccess}\n        />\n      </div>\n    )\n  }\n}\n\nexport function FormDisplay({ api, display, groups, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return (\n    <Form api={api} groups={groups} onCancel={onCancel} onSuccess={onSuccess} />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ display }) {\n  if (!display) return null\n\n  return (\n    <div className=\"panel-body\">\n      <Loader />\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isValidated() {\n    return typeof this.props.validation !== \"undefined\"\n  }\n\n  getClassName() {\n    let className = \"form-group\"\n    if (this.isValidated()) {\n      className += \" has-feedback\"\n      if (this.props.validation === null) {\n        className += \" has-success\"\n      } else {\n        className += \" has-error\"\n      }\n    }\n    return className\n  }\n\n  getFeedback() {\n    if (this.props.validation) {\n      return (\n        <div className=\"help-block errors\">\n          {this.props.validation.map((error, i) => {\n            return <p key={this.props.for + \"FeedbackItem\" + i}>{error}</p>\n          })}\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getFeedbackDescription() {\n    if (this.isValidated()) {\n      return (\n        <span id={this.props.for + \"_status\"} className=\"sr-only\">\n          {this.props.validation ? gettext(\"(error)\") : gettext(\"(success)\")}\n        </span>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <label\n          className={\"control-label \" + (this.props.labelClass || \"\")}\n          htmlFor={this.props.for || \"\"}\n        >\n          {this.props.label + \":\"}\n        </label>\n        <div className={this.props.controlClass || \"\"}>\n          {this.props.children}\n          {this.getFeedbackDescription()}\n          {this.getFeedback()}\n          {this.getHelpText()}\n          {this.props.extra || null}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { required } from \"misago/utils/validators\"\nimport snackbar from \"misago/services/snackbar\"\n\nlet validateRequired = required()\n\nexport default class extends React.Component {\n  validate() {\n    let errors = {}\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: this.state.validators.required || this.state.validators,\n      optional: this.state.validators.optional || {},\n    }\n\n    let validatedFields = []\n\n    // add required fields to validation\n    for (let name in validators.required) {\n      if (\n        validators.required.hasOwnProperty(name) &&\n        validators.required[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // add optional fields to validation\n    for (let name in validators.optional) {\n      if (\n        validators.optional.hasOwnProperty(name) &&\n        validators.optional[name]\n      ) {\n        validatedFields.push(name)\n      }\n    }\n\n    // validate fields values\n    for (let i in validatedFields) {\n      let name = validatedFields[i]\n      let fieldErrors = this.validateField(name, this.state[name])\n\n      if (fieldErrors === null) {\n        errors[name] = null\n      } else if (fieldErrors) {\n        errors[name] = fieldErrors\n      }\n    }\n\n    return errors\n  }\n\n  isValid() {\n    let errors = this.validate()\n    for (let field in errors) {\n      if (errors.hasOwnProperty(field)) {\n        if (errors[field] !== null) {\n          return false\n        }\n      }\n    }\n\n    return true\n  }\n\n  validateField(name, value) {\n    let errors = []\n    if (!this.state.validators) {\n      return errors\n    }\n\n    let validators = {\n      required: (this.state.validators.required || this.state.validators)[name],\n      optional: (this.state.validators.optional || {})[name],\n    }\n\n    let requiredError = validateRequired(value) || false\n\n    if (validators.required) {\n      if (requiredError) {\n        errors = [requiredError]\n      } else {\n        for (let i in validators.required) {\n          let validationError = validators.required[i](value)\n          if (validationError) {\n            errors.push(validationError)\n          }\n        }\n      }\n\n      return errors.length ? errors : null\n    } else if (requiredError === false && validators.optional) {\n      for (let i in validators.optional) {\n        let validationError = validators.optional[i](value)\n        if (validationError) {\n          errors.push(validationError)\n        }\n      }\n\n      return errors.length ? errors : null\n    }\n\n    return false // false === field wasn't validated\n  }\n\n  bindInput = (name) => {\n    return (event) => {\n      this.changeValue(name, event.target.value)\n    }\n  }\n\n  changeValue = (name, value) => {\n    let newState = {\n      [name]: value,\n    }\n\n    const formErrors = this.state.errors || {}\n    formErrors[name] = this.validateField(name, newState[name])\n    newState.errors = formErrors\n\n    this.setState(newState)\n  }\n\n  clean() {\n    return true\n  }\n\n  send() {\n    return null\n  }\n\n  handleSuccess(success) {\n    return\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    if (event) {\n      event.preventDefault()\n    }\n\n    if (this.state.isLoading) {\n      return\n    }\n\n    if (this.clean()) {\n      this.setState({ isLoading: true })\n      let promise = this.send()\n\n      if (promise) {\n        promise.then(\n          (success) => {\n            this.setState({ isLoading: false })\n            this.handleSuccess(success)\n          },\n          (rejection) => {\n            this.setState({ isLoading: false })\n            this.handleError(rejection)\n          }\n        )\n      } else {\n        this.setState({ isLoading: false })\n      }\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  isActive() {\n    if (this.props.isControlled) {\n      return this.props.isActive\n    } else {\n      if (this.props.path) {\n        return document.location.pathname.indexOf(this.props.path) === 0\n      } else {\n        return false\n      }\n    }\n  }\n\n  getClassName() {\n    if (this.isActive()) {\n      return (\n        (this.props.className || \"\") +\n        \" \" +\n        (this.props.activeClassName || \"active\")\n      )\n    } else {\n      return this.props.className || \"\"\n    }\n  }\n\n  render() {\n    return <li className={this.getClassName()}>{this.props.children}</li>\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className={props.className || \"loader\"}>\n      <div className=\"loader-spinning-wheel\" />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"./button\"\nimport Form from \"./form\"\nimport FormGroup from \"./form-group\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      bestAnswer: \"0\",\n      poll: \"0\",\n    }\n  }\n\n  clean() {\n    if (this.props.polls && this.state.poll === \"0\") {\n      const confirmation = window.confirm(\n        gettext(\"Are you sure you want to delete all polls?\")\n      )\n      return confirmation\n    }\n\n    return true\n  }\n\n  send() {\n    const data = Object.assign({}, this.props.data, {\n      best_answer: this.state.bestAnswer,\n      poll: this.state.poll,\n    })\n\n    return ajax.post(this.props.api, data)\n  }\n\n  handleSuccess = (success) => {\n    this.props.onSuccess(success)\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    this.props.onError(rejection)\n  }\n\n  onBestAnswerChange = (event) => {\n    this.changeValue(\"bestAnswer\", event.target.value)\n  }\n\n  onPollChange = (event) => {\n    this.changeValue(\"poll\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <BestAnswerSelect\n                choices={this.props.bestAnswers}\n                onChange={this.onBestAnswerChange}\n                value={this.state.bestAnswer}\n              />\n              <PollSelect\n                choices={this.props.polls}\n                onChange={this.onPollChange}\n                value={this.state.poll}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Merge threads\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function BestAnswerSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Best answer\")}\n      helpText={gettext(\n        \"Please select the best answer for your newly merged thread. No posts will be deleted during the merge.\"\n      )}\n      for=\"id_best_answer\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_best_answer\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n\nexport function PollSelect({ choices, onChange, value }) {\n  if (!choices) return null\n\n  return (\n    <FormGroup\n      label={gettext(\"Poll\")}\n      helpText={gettext(\n        \"Please select the poll for your newly merged thread. Rejected polls will be permanently deleted and cannot be recovered.\"\n      )}\n      for=\"id_poll\"\n    >\n      <select\n        className=\"form-control\"\n        id=\"id_poll\"\n        onChange={onChange}\n        value={value}\n      >\n        {choices.map((choice) => {\n          return (\n            <option value={choice[0]} key={choice[0]}>\n              {choice[1]}\n            </option>\n          )\n        })}\n      </select>\n    </FormGroup>\n  )\n}\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport onebox from \"misago/services/one-box\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    onebox.render(this.documentNode)\n    $(this.documentNode).find(\".spoiler-reveal\").click(revealSpoiler)\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return nextProps.markup !== this.props.markup\n  }\n\n  render() {\n    return (\n      <article\n        className={classnames(\"misago-markup\", this.props.className)}\n        dangerouslySetInnerHTML={{ __html: this.props.markup }}\n        data-author={this.props.author || undefined}\n        ref={(node) => {\n          this.documentNode = node\n        }}\n      />\n    )\n  }\n}\n\nfunction revealSpoiler(event) {\n  var btn = event.target\n  $(btn).parent().parent().addClass(\"revealed\")\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-body modal-loader\">\n        <Loader />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends PanelMessage {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","const MAX_RESULTS = 5\n\nexport default function (data) {\n  const filtered = data.filter((section) => {\n    return section.results.count > 0\n  })\n\n  return filtered.map((section) => {\n    return Object.assign({}, section, {\n      count: section.results.count,\n      results: section.results.results.slice(0, MAX_RESULTS),\n    })\n  })\n}\n","export const HEADER = \"HEADER\"\nexport const RESULT = \"RESULT\"\nexport const FOOTER = \"FOOTER\"\n","import React from \"react\"\nimport Input from \"./input\"\n\nexport default function ({ children, onChange, query }) {\n  return (\n    <ul className=\"dropdown-menu dropdown-search-results\" role=\"menu\">\n      <li className=\"form-group\">\n        <Input value={query} onChange={onChange} />\n      </li>\n      {children}\n    </ul>\n  )\n}\n","import React from \"react\"\n\nexport default function () {\n  return (\n    <li className=\"dropdown-search-message\">\n      {gettext(\"Search returned no results.\")}\n    </li>\n  )\n}\n","import { HEADER, RESULT, FOOTER } from \"./constants\"\n\nexport default function (results) {\n  const flatlist = []\n  flattenProviders(results, flatlist)\n  return flatlist\n}\n\nfunction flattenProviders(results, flatlist) {\n  const arrayLength = results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const provider = results[i]\n\n    flatlist.push({\n      provider,\n      type: HEADER,\n    })\n\n    flattenProvider(provider, flatlist)\n  }\n}\n\nfunction flattenProvider(provider, flatlist) {\n  const arrayLength = provider.results.length\n  for (var i = 0; i < arrayLength; i++) {\n    const result = provider.results[i]\n    flatlist.push({\n      provider,\n      result,\n      type: RESULT,\n    })\n  }\n\n  flatlist.push({\n    provider,\n    type: FOOTER,\n  })\n}\n","import React from \"react\"\nimport { RESULT } from \"./constants\"\nimport DropdownMenu from \"./dropdown-menu\"\nimport Empty from \"./empty\"\nimport Loader from \"./loader\"\nimport Result from \"./result\"\nimport flattenResults from \"./flatten-results\"\n\nexport default function ({ isLoading, onChange, results, query }) {\n  if (!query.trim().length) {\n    return <DropdownMenu onChange={onChange} query={query} />\n  }\n\n  if (results.length) {\n    const flatResults = flattenResults(results)\n\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        {flatResults.map((props) => {\n          const { type, provider, result } = props\n\n          if (type === RESULT) {\n            return (\n              <Result\n                key={[provider.id, type, result.id].join(\"_\")}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <Result\n              key={[provider.id, type].join(\"_\")}\n              query={query}\n              {...props}\n            />\n          )\n        })}\n      </DropdownMenu>\n    )\n  } else if (isLoading) {\n    return (\n      <DropdownMenu onChange={onChange} query={query}>\n        <Loader />\n      </DropdownMenu>\n    )\n  }\n\n  return (\n    <DropdownMenu onChange={onChange} query={query}>\n      <Empty />\n    </DropdownMenu>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ value, onChange }) {\n  return (\n    <input\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      aria-controls=\"dropdown-menu dropdown-search-results\"\n      autoComplete=\"off\"\n      className=\"form-control\"\n      value={value}\n      onChange={onChange}\n      placeholder={gettext(\"Search\")}\n      role=\"combobox\"\n      type=\"text\"\n    />\n  )\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({ message }) {\n  return (\n    <li className=\"dropdown-search-loader\">\n      <Loader />\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ provider, query }) {\n  const url = provider.url + \"?q=\" + encodeURI(query)\n  const label = ngettext(\n    'See full \"%(provider)s\" results page with %(count)s result.',\n    'See full \"%(provider)s\" results page with %(count)s results.',\n    provider.count\n  )\n\n  return (\n    <li className=\"dropdown-search-footer\">\n      <a href={url}>\n        {interpolate(\n          label,\n          {\n            count: provider.count,\n            provider: provider.name,\n          },\n          true\n        )}\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ provider }) {\n  return <li className=\"dropdown-search-header\">{provider.name}</li>\n}\n","import React from \"react\"\nimport { HEADER, FOOTER } from \"../constants\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport Result from \"./result\"\n\nexport default function ({ provider, result, type, query }) {\n  if (type === HEADER) {\n    return <Header provider={provider} />\n  } else if (type === FOOTER) {\n    return <Footer provider={provider} query={query} />\n  }\n\n  return <Result provider={provider} result={result} />\n}\n","import React from \"react\"\nimport Thread from \"./thread\"\nimport User from \"./user\"\n\nexport default function ({ provider, result }) {\n  if (provider.id === \"threads\") {\n    return <Thread result={result} />\n  }\n\n  return <User result={result} />\n}\n","import moment from \"moment\"\nimport React from \"react\"\n\nexport default function ({ result }) {\n  const { poster, thread } = result\n  const footer = gettext(\n    \"Posted by %(poster)s on %(posted_on)s in %(category)s.\"\n  )\n\n  return (\n    <li>\n      <a href={result.url.index} className=\"dropdown-search-thread\">\n        <h5>{thread.title}</h5>\n        <small className=\"dropdown-search-post-content\">\n          {$(result.content).text()}\n        </small>\n        <small className=\"dropdown-search-post-footer\">\n          {interpolate(\n            footer,\n            {\n              category: result.category.name,\n              posted_on: moment(result.posted_on).format(\"LL\"),\n              poster: result.poster_name,\n            },\n            true\n          )}\n        </small>\n      </a>\n    </li>\n  )\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function ({ result }) {\n  const { rank } = result\n\n  const detail = gettext(\"%(title)s, joined on %(joined_on)s\")\n  const title = result.title || rank.title || rank.name\n\n  return (\n    <li>\n      <a href={result.url} className=\"dropdown-search-user\">\n        <div className=\"media\">\n          <div className=\"media-left\">\n            <Avatar size={38} user={result} />\n          </div>\n          <div className=\"media-body\">\n            <h5 className=\"media-heading\">{result.username}</h5>\n            <small>\n              {interpolate(\n                detail,\n                {\n                  title,\n                  joined_on: moment(result.joined_on).format(\"LL\"),\n                },\n                true\n              )}\n            </small>\n          </div>\n        </div>\n      </a>\n    </li>\n  )\n}\n","import React from \"react\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport misago from \"misago\"\nimport cleanResults from \"./clean-results\"\nimport Dropdown from \"./dropdown\"\n\nexport default class extends React.Component {\n  constructor() {\n    super()\n\n    this.state = {\n      isLoading: false,\n      isOpen: false,\n      query: \"\",\n      results: [],\n    }\n\n    this.intervalId = null\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.addEventListener(\"keydown\", this.onEscape)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.onDocumentMouseDown)\n    document.removeEventListener(\"keydown\", this.onEscape)\n  }\n\n  onToggle = (ev) => {\n    this.setState((prevState, props) => {\n      if (!prevState.isOpen) {\n        window.setTimeout(() => {\n          this.container.querySelector(\"input\").focus()\n        }, 100)\n      }\n\n      return { isOpen: !prevState.isOpen }\n    })\n  }\n\n  onDocumentMouseDown = (ev) => {\n    let closeResults = true\n    let node = ev.target\n\n    while (node !== null && node !== document) {\n      if (node === this.container) {\n        closeResults = false\n        return\n      }\n\n      node = node.parentNode\n    }\n\n    if (closeResults) {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onEscape = (ev) => {\n    if (ev.key === \"Escape\") {\n      this.setState({ isOpen: false })\n    }\n  }\n\n  onChange = (ev) => {\n    const query = ev.target.value\n\n    this.setState({ query })\n    this.loadResults(query.trim())\n  }\n\n  loadResults(query) {\n    if (!query.length) return\n\n    const delay = 300 + Math.random() * 300\n\n    if (this.intervalId) {\n      window.clearTimeout(this.intervalId)\n    }\n\n    this.setState({ isLoading: true })\n\n    this.intervalId = window.setTimeout(() => {\n      ajax.get(misago.get(\"SEARCH_API\"), { q: query }).then(\n        (data) => {\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: cleanResults(data),\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          this.setState({\n            intervalId: null,\n            isLoading: false,\n            results: [],\n          })\n        }\n      )\n    }, delay)\n  }\n\n  render() {\n    let className = \"navbar-search dropdown\"\n    if (this.state.isOpen) className += \" open\"\n\n    return (\n      <div\n        className={className}\n        ref={(container) => (this.container = container)}\n      >\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"navbar-icon\"\n          data-toggle=\"dropdown\"\n          href={misago.get(\"SEARCH_URL\")}\n          onClick={this.onToggle}\n        >\n          <i className=\"material-icon\">search</i>\n        </a>\n        <Dropdown\n          isLoading={this.state.isLoading}\n          onChange={this.onChange}\n          results={this.state.results}\n          query={this.state.query}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\n\nexport default function () {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n      </div>\n      <PanelLoader />\n    </div>\n  )\n}\n","import React from \"react\"\nimport PanelMessage from \"misago/components/panel-message\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.options.next_on) {\n      return interpolate(\n        gettext(\"You will be able to change your username %(next_change)s.\"),\n        { next_change: this.props.options.next_on.fromNow() },\n        true\n      )\n    } else {\n      return gettext(\"You have used up available name changes.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel panel-default panel-form\">\n        <div className=\"panel-heading\">\n          <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n        </div>\n        <PanelMessage\n          helpText={this.getHelpText()}\n          message={gettext(\"You can't change your username at the moment.\")}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      username: \"\",\n\n      validators: {\n        username: [\n          validators.usernameContent(),\n          validators.usernameMinLength(props.options.length_min),\n          validators.usernameMaxLength(props.options.length_max),\n        ],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  getHelpText() {\n    let phrases = []\n\n    if (this.props.options.changes_left > 0) {\n      let message = ngettext(\n        \"You can change your username %(changes_left)s more time.\",\n        \"You can change your username %(changes_left)s more times.\",\n        this.props.options.changes_left\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            changes_left: this.props.options.changes_left,\n          },\n          true\n        )\n      )\n    }\n\n    if (this.props.user.acl.name_changes_expire > 0) {\n      let message = ngettext(\n        \"Used changes become available again after %(name_changes_expire)s day.\",\n        \"Used changes become available again after %(name_changes_expire)s days.\",\n        this.props.user.acl.name_changes_expire\n      )\n\n      phrases.push(\n        interpolate(\n          message,\n          {\n            name_changes_expire: this.props.user.acl.name_changes_expire,\n          },\n          true\n        )\n      )\n    }\n\n    return phrases.length ? phrases.join(\" \") : null\n  }\n\n  clean() {\n    let errors = this.validate()\n    if (errors.username) {\n      snackbar.error(errors.username[0])\n      return false\n    }\n    if (this.state.username.trim() === this.props.user.username) {\n      snackbar.info(gettext(\"Your new username is same as current one.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(success) {\n    this.setState({\n      username: \"\",\n    })\n\n    this.props.complete(success.username, success.slug, success.options)\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change username\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup\n              label={gettext(\"New username\")}\n              for=\"id_username\"\n              helpText={this.getHelpText()}\n            >\n              <input\n                type=\"text\"\n                id=\"id_username\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"username\")}\n                value={this.state.username}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change username\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import moment from \"moment\"\nimport React from \"react\"\nimport FormLoading from \"misago/components/options/change-username/form-loading\"\nimport FormLocked from \"misago/components/options/change-username/form-locked\"\nimport Form from \"misago/components/options/change-username/form\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      options: null,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change username\"),\n      parent: gettext(\"Change your options\"),\n    })\n\n    Promise.all([\n      ajax.get(this.props.user.api.username),\n      ajax.get(misago.get(\"USERNAME_CHANGES_API\"), {\n        user: this.props.user.id,\n      }),\n    ]).then((data) => {\n      store.dispatch(hydrate(data[1].results))\n\n      this.setState({\n        isLoaded: true,\n        options: {\n          changes_left: data[0].changes_left,\n          length_min: data[0].length_min,\n          length_max: data[0].length_max,\n          next_on: data[0].next_on ? moment(data[0].next_on) : null,\n        },\n      })\n    })\n  }\n\n  onComplete = (username, slug, options) => {\n    this.setState({\n      options,\n    })\n\n    store.dispatch(\n      addNameChange({ username, slug }, this.props.user, this.props.user)\n    )\n    store.dispatch(updateUsername(this.props.user, username, slug))\n\n    snackbar.success(gettext(\"Your username has been changed successfully.\"))\n  }\n\n  getChangeForm() {\n    if (!this.state.isLoaded) {\n      return <FormLoading />\n    }\n\n    if (this.state.options.changes_left === 0) {\n      return <FormLocked options={this.state.options} />\n    }\n\n    return (\n      <Form\n        complete={this.onComplete}\n        options={this.state.options}\n        user={this.props.user}\n      />\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        {this.getChangeForm()}\n        <UsernameHistory\n          changes={this.props[\"username-history\"]}\n          isLoaded={this.state.isLoaded}\n        />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      password: \"\",\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Delete account\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  onPasswordChange = (event) => {\n    this.setState({ password: event.target.value })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n\n    const { isLoading, password } = this.state\n    const { user } = this.props\n\n    if (password.length == 0) {\n      snackbar.error(\n        gettext(\"Enter your password to confirm account deletion.\")\n      )\n      return false\n    }\n\n    if (isLoading) return false\n    this.setState({ isLoading: true })\n\n    ajax.post(user.api.delete, { password }).then(\n      (success) => {\n        window.location.href = misago.get(\"MISAGO_PATH\")\n      },\n      (rejection) => {\n        this.setState({ isLoading: false })\n        if (rejection.password) {\n          snackbar.error(rejection.password[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-danger panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Delete account\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p className=\"lead\">\n              {gettext(\n                \"You are going to delete your account. This action is nonreversible, and will result in following data being deleted:\"\n              )}\n            </p>\n\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Stored IP addresses associated with content that you have posted will be deleted.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your username will become available for other user to rename to or for new user to register their account with.\"\n              )}\n            </p>\n            <p>\n              -{\" \"}\n              {gettext(\n                \"Your e-mail will become available for use in new account registration.\"\n              )}\n            </p>\n\n            <hr />\n\n            <p>\n              {gettext(\n                \"All your posted content will NOT be deleted, but username associated with it will be changed to one shared by all deleted accounts.\"\n              )}\n            </p>\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"input-group\">\n              <input\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                name=\"password-confirmation\"\n                type=\"password\"\n                placeholder={gettext(\n                  \"Enter your password to confirm account deletion.\"\n                )}\n                value={this.state.password}\n                onChange={this.onPasswordChange}\n              />\n              <span className=\"input-group-btn\">\n                <Button className=\"btn-danger\" loading={this.state.isLoading}>\n                  {gettext(\"Delete my account\")}\n                </Button>\n              </span>\n            </div>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Button from \"misago/components/button\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class DownloadData extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isSubmiting: false,\n      downloads: [],\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Download your data\"),\n      parent: gettext(\"Change your options\"),\n    })\n\n    this.handleLoadDownloads()\n  }\n\n  handleLoadDownloads = () => {\n    ajax.get(this.props.user.api.data_downloads).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n          downloads: data,\n        })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  handleRequestDataDownload = () => {\n    this.setState({ isSubmiting: true })\n    ajax.post(this.props.user.api.request_data_download).then(\n      () => {\n        this.handleLoadDownloads()\n        snackbar.success(\n          gettext(\"Your request for data download has been registered.\")\n        )\n        this.setState({ isSubmiting: false })\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n        this.setState({ isSubmiting: false })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Download your data\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <p>\n              {gettext(\n                'To download your data from the site, click the \"Request data download\" button. Depending on amount of data to be archived and number of users wanting to download their data at same time it may take up to few days for your download to be prepared. An e-mail with notification will be sent to you when your data is ready to be downloaded.'\n              )}\n            </p>\n\n            <p>\n              {gettext(\n                \"The download will only be available for limited amount of time, after which it will be deleted from the site and marked as expired.\"\n              )}\n            </p>\n          </div>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>{gettext(\"Requested on\")}</th>\n                <th className=\"col-md-4\">{gettext(\"Download\")}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.downloads.map((item) => {\n                return (\n                  <tr key={item.id}>\n                    <td style={rowStyle}>\n                      {moment(item.requested_on).fromNow()}\n                    </td>\n                    <td>\n                      <DownloadButton\n                        exportFile={item.file}\n                        status={item.status}\n                      />\n                    </td>\n                  </tr>\n                )\n              })}\n              {this.state.downloads.length == 0 ? (\n                <tr>\n                  <td colSpan=\"2\">{gettext(\"You have no data downloads.\")}</td>\n                </tr>\n              ) : null}\n            </tbody>\n          </table>\n          <div className=\"panel-footer text-right\">\n            <Button\n              className=\"btn-primary\"\n              loading={this.state.isSubmiting}\n              type=\"button\"\n              onClick={this.handleRequestDataDownload}\n            >\n              {gettext(\"Request data download\")}\n            </Button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst rowStyle = {\n  verticalAlign: \"middle\",\n}\n\nconst STATUS_PENDING = 0\nconst STATUS_PROCESSING = 1\n\nconst DownloadButton = ({ exportFile, status }) => {\n  if (status === STATUS_PENDING || status === STATUS_PROCESSING) {\n    return (\n      <Button\n        className=\"btn-info btn-sm btn-block\"\n        disabled={true}\n        type=\"button\"\n      >\n        {gettext(\"Download is being prepared\")}\n      </Button>\n    )\n  }\n\n  if (exportFile) {\n    return (\n      <a className=\"btn btn-success btn-sm btn-block\" href={exportFile}>\n        {gettext(\"Download your data\")}\n      </a>\n    )\n  }\n\n  return (\n    <Button\n      className=\"btn-default btn-sm btn-block\"\n      disabled={true}\n      type=\"button\"\n    >\n      {gettext(\"Download is expired\")}\n    </Button>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Edit details\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  onSuccess = () => {\n    snackbar.info(gettext(\"Your details have been updated.\"))\n  }\n\n  render() {\n    return (\n      <Form api={this.props.user.api.edit_details} onSuccess={this.onSuccess} />\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Select from \"misago/components/select\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      is_hiding_presence: props.user.is_hiding_presence,\n      limits_private_thread_invites_to:\n        props.user.limits_private_thread_invites_to,\n      subscribe_to_started_threads: props.user.subscribe_to_started_threads,\n      subscribe_to_replied_threads: props.user.subscribe_to_replied_threads,\n\n      errors: {},\n    }\n\n    this.privateThreadInvitesChoices = [\n      {\n        value: 0,\n        icon: \"help_outline\",\n        label: gettext(\"Everybody\"),\n      },\n      {\n        value: 1,\n        icon: \"done_all\",\n        label: gettext(\"Users I follow\"),\n      },\n      {\n        value: 2,\n        icon: \"highlight_off\",\n        label: gettext(\"Nobody\"),\n      },\n    ]\n\n    this.subscribeToChoices = [\n      {\n        value: 0,\n        icon: \"star_border\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"star_half\",\n        label: gettext(\"Notify\"),\n      },\n      {\n        value: 2,\n        icon: \"star\",\n        label: gettext(\"Notify with e-mail\"),\n      },\n    ]\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.options, {\n      is_hiding_presence: this.state.is_hiding_presence,\n      limits_private_thread_invites_to:\n        this.state.limits_private_thread_invites_to,\n      subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n      subscribe_to_replied_threads: this.state.subscribe_to_replied_threads,\n    })\n  }\n\n  handleSuccess() {\n    store.dispatch(\n      patch({\n        is_hiding_presence: this.state.is_hiding_presence,\n        limits_private_thread_invites_to:\n          this.state.limits_private_thread_invites_to,\n        subscribe_to_started_threads: this.state.subscribe_to_started_threads,\n        subscribe_to_replied_threads: this.state.subscribe_to_replied_threads,\n      })\n    )\n    snackbar.success(gettext(\"Your forum options have been changed.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(gettext(\"Please reload page and try again.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Forum options\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change forum options\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <fieldset>\n              <legend>{gettext(\"Privacy settings\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Hide my presence\")}\n                helpText={gettext(\n                  \"If you hide your presence, only members with permission to see hidden users will see when you are online.\"\n                )}\n                for=\"id_is_hiding_presence\"\n              >\n                <YesNoSwitch\n                  id=\"id_is_hiding_presence\"\n                  disabled={this.state.isLoading}\n                  iconOn=\"visibility_off\"\n                  iconOff=\"visibility\"\n                  labelOn={gettext(\"Hide my presence from other users\")}\n                  labelOff={gettext(\"Show my presence to other users\")}\n                  onChange={this.bindInput(\"is_hiding_presence\")}\n                  value={this.state.is_hiding_presence}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Private thread invitations\")}\n                for=\"id_limits_private_thread_invites_to\"\n              >\n                <Select\n                  id=\"id_limits_private_thread_invites_to\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"limits_private_thread_invites_to\")}\n                  value={this.state.limits_private_thread_invites_to}\n                  choices={this.privateThreadInvitesChoices}\n                />\n              </FormGroup>\n            </fieldset>\n\n            <fieldset>\n              <legend>{gettext(\"Automatic subscriptions\")}</legend>\n\n              <FormGroup\n                label={gettext(\"Threads I start\")}\n                for=\"id_subscribe_to_started_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_started_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_started_threads\")}\n                  value={this.state.subscribe_to_started_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Threads I reply to\")}\n                for=\"id_subscribe_to_replied_threads\"\n              >\n                <Select\n                  id=\"id_subscribe_to_replied_threads\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"subscribe_to_replied_threads\")}\n                  value={this.state.subscribe_to_replied_threads}\n                  choices={this.subscribeToChoices}\n                />\n              </FormGroup>\n            </fieldset>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Save changes\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nexport function SideNav(props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.options.map((option) => {\n        return (\n          <Link\n            to={props.baseUrl + option.component + \"/\"}\n            className=\"list-group-item\"\n            activeClassName=\"active\"\n            key={option.component}\n          >\n            <span className=\"material-icon\">{option.icon}</span>\n            {option.name}\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function CompactNav(props) {\n  return (\n    <ul className={props.className || \"dropdown-menu\"} role=\"menu\">\n      {props.options.map((option) => {\n        return (\n          <Li\n            path={props.baseUrl + option.component + \"/\"}\n            key={option.component}\n          >\n            <Link\n              to={props.baseUrl + option.component + \"/\"}\n              onClick={props.hideNav}\n            >\n              <span className=\"material-icon hidden-sm\">{option.icon}</span>\n              {option.name}\n            </Link>\n          </Li>\n        )\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport { SideNav, CompactNav } from \"misago/components/options/navs\"\nimport DeleteAccount from \"misago/components/options/delete-account\"\nimport EditDetails from \"misago/components/options/edit-details\"\nimport DownloadData from \"misago/components/options/download-data\"\nimport ChangeForumOptions from \"misago/components/options/forum-options\"\nimport ChangeUsername from \"misago/components/options/change-username/root\"\nimport ChangeSignInCredentials from \"misago/components/options/sign-in-credentials/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport PageContainer from \"../PageContainer\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    const page = misago.get(\"USER_OPTIONS\").filter((page) => {\n      const url = misago.get(\"USERCP_URL\") + page.component + \"/\"\n      return this.props.location.pathname.substr(0, url.length) === url\n    })[0]\n\n    return (\n      <div className=\"page page-options\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"options\">\n            <PageHeaderBanner styleName=\"options\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol auto>\n                    <h1>{gettext(\"Change your options\")}</h1>\n                  </FlexRowCol>\n                  <FlexRowCol className=\"hidden-xs hidden-md hidden-lg\" shrink>\n                    <div className=\"dropdown\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n                        title={gettext(\"Menu\")}\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                      >\n                        <span className=\"material-icon\">menu</span>\n                      </button>\n                      <CompactNav\n                        className=\"dropdown-menu dropdown-menu-right\"\n                        baseUrl={misago.get(\"USERCP_URL\")}\n                        options={misago.get(\"USER_OPTIONS\")}\n                      />\n                    </div>\n                  </FlexRowCol>\n                </FlexRowSection>\n                <FlexRowSection className=\"hidden-sm hidden-md hidden-lg\">\n                  <FlexRowCol>\n                    <div className=\"dropdown\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-default btn-outline btn-block dropdown-toggle\"\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\"\n                      >\n                        <span className=\"material-icon\">{page.icon}</span>\n                        {page.name}\n                      </button>\n                      <CompactNav\n                        className=\"dropdown-menu\"\n                        baseUrl={misago.get(\"USERCP_URL\")}\n                        options={misago.get(\"USER_OPTIONS\")}\n                      />\n                    </div>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        <PageContainer>\n          <div className=\"row\">\n            <div className=\"col-md-3 hidden-xs hidden-sm\">\n              <SideNav\n                baseUrl={misago.get(\"USERCP_URL\")}\n                options={misago.get(\"USER_OPTIONS\")}\n              />\n            </div>\n            <div className=\"col-md-9\">{this.props.children}</div>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nexport function paths() {\n  const paths = [\n    {\n      path: misago.get(\"USERCP_URL\") + \"forum-options/\",\n      component: connect(select)(ChangeForumOptions),\n    },\n    {\n      path: misago.get(\"USERCP_URL\") + \"edit-details/\",\n      component: connect(select)(EditDetails),\n    },\n  ]\n\n  const delegateAuth = misago.get(\"SETTINGS\").DELEGATE_AUTH\n  if (!delegateAuth) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"change-username/\",\n      component: connect(select)(ChangeUsername),\n    })\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"sign-in-credentials/\",\n      component: connect(select)(ChangeSignInCredentials),\n    })\n  }\n\n  if (misago.get(\"ENABLE_DOWNLOAD_OWN_DATA\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"download-data/\",\n      component: connect(select)(DownloadData),\n    })\n  }\n\n  if (!delegateAuth && misago.get(\"ENABLE_DELETE_OWN_ACCOUNT\")) {\n    paths.push({\n      path: misago.get(\"USERCP_URL\") + \"delete-account/\",\n      component: connect(select)(DeleteAccount),\n    })\n  }\n\n  return paths\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\n\nconst UnusablePasswordMessage = () => {\n  return (\n    <div className=\"panel panel-default panel-form\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{gettext(\"Change email or password\")}</h3>\n      </div>\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You need to set a password for your account to be able to change your username or email.\"\n            )}\n          </p>\n          <p className=\"help-block\">\n            <a\n              className=\"btn btn-primary\"\n              href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n            >\n              {gettext(\"Set password\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default UnusablePasswordMessage\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_email: \"\",\n      password: \"\",\n\n      validators: {\n        new_email: [validators.email()],\n        password: [],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_email.trim().length,\n      this.state.password.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_email) {\n      snackbar.error(errors.new_email[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_email, {\n      new_email: this.state.new_email,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_email: \"\",\n      password: \"\",\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_email) {\n        snackbar.error(rejection.new_email)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change e-mail address\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New e-mail\")} for=\"id_new_email\">\n              <input\n                type=\"text\"\n                id=\"id_new_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_email\")}\n                value={this.state.new_email}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_email\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_email\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change e-mail\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\",\n\n      validators: {\n        new_password: [],\n        repeat_password: [],\n        password: [],\n      },\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.new_password.trim().length,\n      this.state.repeat_password.trim().length,\n      this.state.password.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    if (errors.new_password) {\n      snackbar.error(errors.new_password[0])\n      return false\n    }\n\n    if (this.state.new_password !== this.state.repeat_password) {\n      snackbar.error(gettext(\"New passwords are different.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.user.api.change_password, {\n      new_password: this.state.new_password,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(response) {\n    this.setState({\n      new_password: \"\",\n      repeat_password: \"\",\n      password: \"\",\n    })\n\n    snackbar.success(response.detail)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.new_password) {\n        snackbar.error(rejection.new_password)\n      } else {\n        snackbar.error(rejection.password)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <input type=\"type\" style={{ display: \"none\" }} />\n        <input type=\"password\" style={{ display: \"none\" }} />\n        <div className=\"panel panel-default panel-form\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Change password\")}</h3>\n          </div>\n          <div className=\"panel-body\">\n            <FormGroup label={gettext(\"New password\")} for=\"id_new_password\">\n              <input\n                type=\"password\"\n                id=\"id_new_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"new_password\")}\n                value={this.state.new_password}\n              />\n            </FormGroup>\n\n            <FormGroup\n              label={gettext(\"Repeat password\")}\n              for=\"id_repeat_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_repeat_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"repeat_password\")}\n                value={this.state.repeat_password}\n              />\n            </FormGroup>\n\n            <hr />\n\n            <FormGroup\n              label={gettext(\"Your current password\")}\n              for=\"id_confirm_password\"\n            >\n              <input\n                type=\"password\"\n                id=\"id_confirm_password\"\n                className=\"form-control\"\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </FormGroup>\n          </div>\n          <div className=\"panel-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Change password\")}\n            </Button>\n          </div>\n        </div>\n      </form>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangeEmail from \"misago/components/options/sign-in-credentials/change-email\"\nimport ChangePassword from \"misago/components/options/sign-in-credentials/change-password\"\nimport misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\nimport UnusablePasswordMessage from \"./UnusablePasswordMessage\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Change email or password\"),\n      parent: gettext(\"Change your options\"),\n    })\n  }\n\n  render() {\n    if (!this.props.user.has_usable_password) {\n      return <UnusablePasswordMessage />\n    }\n\n    return (\n      <div>\n        <ChangeEmail user={this.props.user} />\n        <ChangePassword user={this.props.user} />\n\n        <p className=\"message-line\">\n          <span className=\"material-icon\">warning</span>\n          <a href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}>\n            {gettext(\"Change forgotten password\")}\n          </a>\n        </p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport stringCount from \"misago/utils/string-count\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.copy && this.props.copy.length) {\n      if (\n        stringCount(this.props.copy, \"<p\") === 1 &&\n        this.props.copy.indexOf(\"<br\") === -1\n      ) {\n        return \"page-lead lead\"\n      }\n    }\n\n    return \"page-lead\"\n  }\n\n  render() {\n    if (this.props.copy && this.props.copy.length) {\n      return (\n        <div\n          className={this.getClassName()}\n          dangerouslySetInnerHTML={{\n            __html: this.props.copy,\n          }}\n        />\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"panel-body panel-body-loading\">\n        <Loader className=\"loader loader-spaced\" />\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getHelpText() {\n    if (this.props.helpText) {\n      return <p className=\"help-block\">{this.props.helpText}</p>\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"panel-body panel-message-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">\n            {this.props.icon || \"info_outline\"}\n          </span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.props.message}</p>\n          {this.getHelpText()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipantModal from \"misago/components/add-participant\"\nimport modal from \"misago/services/modal\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    modal.show(<AddParticipantModal thread={this.props.thread} />)\n  }\n\n  render() {\n    if (!this.props.thread.acl.can_add_participants) return null\n\n    return (\n      <div className=\"col-xs-12 col-sm-3\">\n        <button\n          className=\"btn btn-default btn-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">person_add</span>\n          {gettext(\"Add participant\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import * as participants from \"misago/reducers/participants\"\nimport { updateAcl } from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function leave(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n    ])\n    .then(\n      () => {\n        snackbar.success(gettext(\"You have left this thread.\"))\n        window.setTimeout(() => {\n          window.location = misago.get(\"PRIVATE_THREADS_URL\")\n        }, 3 * 1000)\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function remove(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"remove\", path: \"participants\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been removed from this thread.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n\nexport function changeOwner(thread, participant) {\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"owner\", value: participant.id },\n      { op: \"add\", path: \"acl\", value: 1 },\n    ])\n    .then(\n      (data) => {\n        store.dispatch(updateAcl(data))\n        store.dispatch(participants.replace(data.participants))\n\n        const message = gettext(\"%(user)s has been made new thread owner.\")\n        snackbar.success(\n          interpolate(\n            message,\n            {\n              user: participant.username,\n            },\n            true\n          )\n        )\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n}\n","import React from \"react\"\nimport MakeOwner from \"./make-owner\"\nimport Remove from \"./remove\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default function (props) {\n  const participant = props.participant\n\n  let className = \"btn btn-default\"\n  if (participant.is_owner) {\n    className = \"btn btn-primary\"\n  }\n  className += \" btn-user btn-block\"\n\n  return (\n    <div className=\"col-xs-12 col-sm-3 col-md-2 participant-card\">\n      <div className=\"dropdown\">\n        <button\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className={className}\n          data-toggle=\"dropdown\"\n          type=\"button\"\n        >\n          <Avatar size=\"34\" user={participant} />\n          <span className=\"btn-text\">{participant.username}</span>\n        </button>\n        <ul className=\"dropdown-menu stick-to-bottom\">\n          <UserStatus isOwner={participant.is_owner} />\n          <li className=\"dropdown-header\" />\n          <li>\n            <a href={participant.url}>{gettext(\"See profile\")}</a>\n          </li>\n          <li role=\"separator\" className=\"divider\" />\n          <MakeOwner {...props} />\n          <Remove {...props} />\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport function UserStatus({ isOwner }) {\n  if (!isOwner) return null\n\n  return (\n    <li className=\"dropdown-header dropdown-header-owner\">\n      <span className=\"material-icon\">start</span>\n      <span className=\"icon-text\">{gettext(\"Thread owner\")}</span>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ participants, thread, user, userIsOwner }) {\n  return (\n    <div className=\"participants-cards\">\n      <div className=\"row\">\n        {participants.map((participant) => {\n          return (\n            <Card\n              key={participant.id}\n              participant={participant}\n              thread={thread}\n              user={user}\n              userIsOwner={userIsOwner}\n            />\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { changeOwner } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to take over this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to change thread owner to %(user)s?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    changeOwner(this.props.thread, this.props.participant)\n  }\n\n  render() {\n    if (this.props.participant.is_owner) return null\n    if (!this.props.thread.acl.can_change_owner) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {gettext(\"Make owner\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { remove, leave } from \"./actions\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.isUser = props.participant.id === props.user.id\n  }\n\n  onClick = () => {\n    let confirmed = false\n    if (this.isUser) {\n      confirmed = window.confirm(\n        gettext(\"Are you sure you want to leave this thread?\")\n      )\n    } else {\n      const message = gettext(\n        \"Are you sure you want to remove %(user)s from this thread?\"\n      )\n      confirmed = window.confirm(\n        interpolate(\n          message,\n          {\n            user: this.props.participant.username,\n          },\n          true\n        )\n      )\n    }\n\n    if (!confirmed) return\n\n    if (this.isUser) {\n      leave(this.props.thread, this.props.participant)\n    } else {\n      remove(this.props.thread, this.props.participant)\n    }\n  }\n\n  render() {\n    const isModerator = this.props.user.acl.can_moderate_private_threads\n\n    if (!(this.props.userIsOwner || this.isUser || isModerator)) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          {this.isUser ? gettext(\"Leave thread\") : gettext(\"Remove\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport AddParticipant from \"./add-participant\"\nimport CardsList from \"./cards-list\"\nimport * as utils from \"./utils\"\n\nexport default function (props) {\n  if (!props.participants.length) return null\n\n  return (\n    <div className=\"panel panel-default panel-participants\">\n      <div className=\"panel-body\">\n        <CardsList\n          userIsOwner={getUserIsOwner(props.user, props.participants)}\n          {...props}\n        />\n        <div className=\"row\">\n          <AddParticipant thread={props.thread} />\n          <div className=\"col-xs-12 col-sm-9\">\n            <p>{utils.getParticipantsCopy(props.participants)}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function getUserIsOwner(user, participants) {\n  return participants[0].id === user.id\n}\n","export function getParticipantsCopy(participants) {\n  const count = participants.length\n  const message = ngettext(\n    \"This thread has %(users)s participant.\",\n    \"This thread has %(users)s participants.\",\n    count\n  )\n\n  return interpolate(\n    message,\n    {\n      users: count,\n    },\n    true\n  )\n}\n","import React from \"react\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport const STYLES = [\n  \"progress-bar-danger\",\n  \"progress-bar-warning\",\n  \"progress-bar-warning\",\n  \"progress-bar-primary\",\n  \"progress-bar-success\",\n]\n\nexport const LABELS = [\n  gettext(\"Entered password is very weak.\"),\n  gettext(\"Entered password is weak.\"),\n  gettext(\"Entered password is average.\"),\n  gettext(\"Entered password is strong.\"),\n  gettext(\"Entered password is very strong.\"),\n]\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this._score = 0\n    this._password = null\n    this._inputs = []\n\n    this.state = {\n      loaded: false,\n    }\n  }\n\n  componentDidMount() {\n    zxcvbn.load().then(() => {\n      this.setState({ loaded: true })\n    })\n  }\n\n  getScore(password, inputs) {\n    let cacheStale = false\n\n    if (password !== this._password) {\n      cacheStale = true\n    }\n\n    if (inputs.length !== this._inputs.length) {\n      cacheStale = true\n    } else {\n      inputs.map((value, i) => {\n        if (value.trim() !== this._inputs[i]) {\n          cacheStale = true\n        }\n      })\n    }\n\n    if (cacheStale) {\n      this._score = zxcvbn.scorePassword(password, inputs)\n      this._password = password\n      this._inputs = inputs.map(function (value) {\n        return value.trim()\n      })\n    }\n\n    return this._score\n  }\n\n  render() {\n    if (!this.state.loaded) return null\n\n    let score = this.getScore(this.props.password, this.props.inputs)\n\n    return (\n      <div className=\"help-block password-strength\">\n        <div className=\"progress\">\n          <div\n            className={\"progress-bar \" + STYLES[score]}\n            style={{ width: 20 + 20 * score + \"%\" }}\n            role=\"progress-bar\"\n            aria-valuenow={score}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"4\"\n          >\n            <span className=\"sr-only\">{LABELS[score]}</span>\n          </div>\n        </div>\n        <p className=\"text-small\">{LABELS[score]}</p>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  onAdd = () => {\n    let choices = this.props.choices.slice()\n    choices.push({\n      hash: generateRandomHash(),\n      label: \"\",\n    })\n\n    this.props.setChoices(choices)\n  }\n\n  onChange = (hash, label) => {\n    const choices = this.props.choices.map((choice) => {\n      if (choice.hash === hash) {\n        choice.label = label\n      }\n\n      return choice\n    })\n    this.props.setChoices(choices)\n  }\n\n  onDelete = (hash) => {\n    const choices = this.props.choices.filter((choice) => {\n      return choice.hash !== hash\n    })\n    this.props.setChoices(choices)\n  }\n\n  render() {\n    return (\n      <div className=\"poll-choices-control\">\n        <ul className=\"list-group\">\n          {this.props.choices.map((choice) => {\n            return (\n              <PollChoice\n                canDelete={this.props.choices.length > 2}\n                choice={choice}\n                disabled={this.props.disabled}\n                key={choice.hash}\n                onChange={this.onChange}\n                onDelete={this.onDelete}\n              />\n            )\n          })}\n        </ul>\n        <button\n          className=\"btn btn-default btn-sm\"\n          disabled={this.props.disabled}\n          onClick={this.onAdd}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"Add choice\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport class PollChoice extends React.Component {\n  onChange = (event) => {\n    this.props.onChange(this.props.choice.hash, event.target.value)\n  }\n\n  onDelete = () => {\n    const deleteItem = window.confirm(\n      pgettext(\"thread poll\", \"Are you sure you want to remove this choice?\")\n    )\n    if (deleteItem) {\n      this.props.onDelete(this.props.choice.hash)\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\">\n        <button\n          className=\"btn\"\n          disabled={!this.props.canDelete || this.props.disabled}\n          onClick={this.onDelete}\n          title={pgettext(\"thread poll\", \"Remove this choice\")}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">close</span>\n        </button>\n        <input\n          disabled={this.props.disabled}\n          maxLength=\"255\"\n          placeholder={pgettext(\"thread poll\", \"Poll choice\")}\n          type=\"text\"\n          onChange={this.onChange}\n          value={this.props.choice.label}\n        />\n      </li>\n    )\n  }\n}\n\nexport function generateRandomHash() {\n  let randomHash = \"\"\n  while (randomHash.length != 12) {\n    randomHash = Math.random()\n      .toString(36)\n      .replace(/[^a-zA-Z0-9]+/g, \"\")\n      .substr(1, 12)\n  }\n  return randomHash\n}\n","import React from \"react\"\nimport ChoicesControl from \"./choices-control\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const poll = props.poll.id\n      ? props.poll\n      : {\n          question: \"\",\n          choices: [\n            {\n              hash: \"choice-10000\",\n              label: \"\",\n            },\n            {\n              hash: \"choice-20000\",\n              label: \"\",\n            },\n          ],\n          length: 0,\n          allowed_choices: 1,\n          allow_revotes: 0,\n          is_public: 0,\n        }\n\n    this.state = {\n      isLoading: false,\n      isEdit: !!poll.id,\n\n      question: poll.question,\n      choices: poll.choices,\n      length: poll.length,\n      allowed_choices: poll.allowed_choices,\n      allow_revotes: poll.allow_revotes,\n      is_public: poll.is_public,\n\n      validators: {\n        question: [],\n        choices: [],\n        length: [],\n        allowed_choices: [],\n      },\n\n      errors: {},\n    }\n  }\n\n  setChoices = (choices) => {\n    const errors = Object.assign({}, errors, { choices: null })\n\n    this.setState({\n      choices,\n      errors,\n    })\n  }\n\n  onCancel = () => {\n    let cancel = false\n\n    if (!!this.props.poll) {\n      cancel = window.confirm(\n        pgettext(\"thread poll\", \"Are you sure you want to discard changes?\")\n      )\n    } else {\n      cancel = window.confirm(\n        pgettext(\"thread poll\", \"Are you sure you want to discard new poll?\")\n      )\n    }\n\n    if (cancel) {\n      this.props.close()\n    }\n  }\n\n  send() {\n    const data = {\n      question: this.state.question,\n      choices: this.state.choices,\n      length: this.state.length,\n      allowed_choices: this.state.allowed_choices,\n      allow_revotes: this.state.allow_revotes,\n      is_public: this.state.is_public,\n    }\n\n    if (this.state.isEdit) {\n      return ajax.put(this.props.poll.api.index, data)\n    }\n\n    return ajax.post(this.props.thread.api.poll, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n\n    if (this.state.isEdit) {\n      snackbar.success(pgettext(\"thread poll\", \"Poll has been edited.\"))\n    } else {\n      snackbar.success(pgettext(\"thread poll\", \"Poll has been posted.\"))\n    }\n\n    this.props.close()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.non_field_errors) {\n        rejection.allowed_choices = rejection.non_field_errors\n      }\n\n      this.setState({\n        errors: Object.assign({}, rejection),\n      })\n\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"poll-form\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel panel-default panel-form\">\n            <div className=\"panel-heading\">\n              <h3 className=\"panel-title\">\n                {this.state.isEdit\n                  ? pgettext(\"thread poll\", \"Edit poll\")\n                  : pgettext(\"thread poll\", \"Add poll\")}\n              </h3>\n            </div>\n            <div className=\"panel-body\">\n              <fieldset>\n                <legend>\n                  {pgettext(\"thread poll\", \"Question and choices\")}\n                </legend>\n\n                <FormGroup\n                  label={pgettext(\"thread poll\", \"Poll question\")}\n                  for=\"id_questions\"\n                  validation={this.state.errors.question}\n                >\n                  <input\n                    className=\"form-control\"\n                    disabled={this.state.isLoading}\n                    id=\"id_questions\"\n                    onChange={this.bindInput(\"question\")}\n                    type=\"text\"\n                    maxLength=\"255\"\n                    value={this.state.question}\n                  />\n                </FormGroup>\n\n                <FormGroup\n                  label={pgettext(\"thread poll\", \"Available choices\")}\n                  validation={this.state.errors.choices}\n                >\n                  <ChoicesControl\n                    choices={this.state.choices}\n                    disabled={this.state.isLoading}\n                    setChoices={this.setChoices}\n                  />\n                </FormGroup>\n              </fieldset>\n\n              <fieldset>\n                <legend>{pgettext(\"thread poll\", \"Voting\")}</legend>\n\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Poll length\")}\n                      helpText={pgettext(\n                        \"thread poll\",\n                        \"Enter number of days for which voting in this poll should be possible or zero to run this poll indefinitely.\"\n                      )}\n                      for=\"id_length\"\n                      validation={this.state.errors.length}\n                    >\n                      <input\n                        className=\"form-control\"\n                        disabled={this.state.isLoading}\n                        id=\"id_length\"\n                        onChange={this.bindInput(\"length\")}\n                        type=\"text\"\n                        value={this.state.length}\n                      />\n                    </FormGroup>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Allowed choices\")}\n                      for=\"id_allowed_choices\"\n                      validation={this.state.errors.allowed_choices}\n                    >\n                      <input\n                        className=\"form-control\"\n                        disabled={this.state.isLoading}\n                        id=\"id_allowed_choices\"\n                        onChange={this.bindInput(\"allowed_choices\")}\n                        type=\"text\"\n                        maxLength=\"255\"\n                        value={this.state.allowed_choices}\n                      />\n                    </FormGroup>\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <PollPublicSwitch\n                    bindInput={this.bindInput}\n                    disabled={this.state.isLoading}\n                    isEdit={this.state.isEdit}\n                    value={this.state.is_public}\n                  />\n                  <div className=\"col-xs-12 col-sm-6\">\n                    <FormGroup\n                      label={pgettext(\"thread poll\", \"Allow vote changes\")}\n                      for=\"id_allow_revotes\"\n                    >\n                      <YesNoSwitch\n                        id=\"id_allow_revotes\"\n                        disabled={this.state.isLoading}\n                        iconOn=\"check\"\n                        iconOff=\"close\"\n                        labelOn={pgettext(\n                          \"thread poll\",\n                          \"Allow participants to change their vote\"\n                        )}\n                        labelOff={pgettext(\n                          \"thread poll\",\n                          \"Don't allow participants to change their vote\"\n                        )}\n                        onChange={this.bindInput(\"allow_revotes\")}\n                        value={this.state.allow_revotes}\n                      />\n                    </FormGroup>\n                  </div>\n                </div>\n              </fieldset>\n            </div>\n            <div className=\"panel-footer text-right\">\n              <button\n                className=\"btn btn-default\"\n                disabled={this.state.isLoading}\n                onClick={this.onCancel}\n                type=\"button\"\n              >\n                {pgettext(\"thread poll\", \"Cancel\")}\n              </button>{\" \"}\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {this.state.isEdit\n                  ? pgettext(\"thread poll\", \"Save changes\")\n                  : pgettext(\"thread poll\", \"Post poll\")}\n              </Button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function PollPublicSwitch(props) {\n  if (props.isEdit) return null\n\n  return (\n    <div className=\"col-xs-12 col-sm-6\">\n      <FormGroup\n        label={pgettext(\"thread poll\", \"Make voting public\")}\n        helpText={pgettext(\n          \"thread poll\",\n          \"Making voting public will allow everyone to access detailed list of votes, showing which users voted for which choices and at which times. This option can't be changed after poll's creation. Moderators may see voting details for all polls.\"\n        )}\n        for=\"id_is_public\"\n      >\n        <YesNoSwitch\n          id=\"id_is_public\"\n          disabled={props.disabled}\n          iconOn=\"visibility\"\n          iconOff=\"visibility_off\"\n          labelOn={pgettext(\"thread poll\", \"Votes are public\")}\n          labelOff={pgettext(\"thread poll\", \"Votes are hidden\")}\n          onChange={props.bindInput(\"is_public\")}\n          value={props.value}\n        />\n      </FormGroup>\n    </div>\n  )\n}\n","import Poll from \"./poll\"\nimport PollForm from \"./form\"\n\nexport { Poll, PollForm }\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-details\">\n      <PollVotes votes={props.poll.votes} />\n      <PollLength poll={props.poll} />\n      <PollIsPublic poll={props.poll} />\n      <PollCreation poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollCreation(props) {\n  const message = interpolate(\n    escapeHtml(pgettext(\"thread poll\", \"Started by %(poster)s %(posted_on)s.\")),\n    {\n      poster: getPoster(props.poll),\n      posted_on: getPostedOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-creation\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getPoster(poll) {\n  if (poll.url.poster) {\n    return interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(poll.url.poster),\n        user: escapeHtml(poll.poster_name),\n      },\n      true\n    )\n  }\n\n  return interpolate(\n    USER_SPAN,\n    {\n      user: escapeHtml(poll.poster_name),\n    },\n    true\n  )\n}\n\nexport function getPostedOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.posted_on.format(\"LLL\")),\n      relative: escapeHtml(poll.posted_on.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollLength(props) {\n  if (!props.poll.length) {\n    return null\n  }\n\n  const message = interpolate(\n    escapeHtml(pgettext(\"thread poll\", \"Voting ends %(ends_on)s.\")),\n    {\n      ends_on: getEndsOn(props.poll),\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"poll-info-ends-on\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function getEndsOn(poll) {\n  return interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(poll.endsOn.format(\"LLL\")),\n      relative: escapeHtml(poll.endsOn.fromNow()),\n    },\n    true\n  )\n}\n\nexport function PollVotes(props) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s vote.\",\n    \"%(votes)s votes.\",\n    props.votes\n  )\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <li className=\"poll-info-votes\">{label}</li>\n}\n\nexport function PollIsPublic(props) {\n  if (!props.poll.is_public) {\n    return null\n  }\n\n  return (\n    <li className=\"poll-info-public\">\n      {pgettext(\"thread poll\", \"Voting is public.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Results from \"./results\"\nimport Voting from \"./voting\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let showResults = true\n    if (props.user.id && !props.poll.hasSelectedChoices) {\n      showResults = false\n    }\n\n    this.state = {\n      showResults,\n    }\n  }\n\n  showResults = () => {\n    this.setState({\n      showResults: true,\n    })\n  }\n\n  showVoting = () => {\n    this.setState({\n      showResults: false,\n    })\n  }\n\n  render() {\n    if (!this.props.thread.poll) return null\n\n    const isPollOver = getIsPollOver(this.props.poll)\n\n    if (\n      !isPollOver &&\n      this.props.poll.acl.can_vote &&\n      !this.state.showResults\n    ) {\n      return <Voting showResults={this.showResults} {...this.props} />\n    } else {\n      return (\n        <Results\n          isPollOver={isPollOver}\n          showVoting={this.showVoting}\n          {...this.props}\n        />\n      )\n    }\n  }\n}\n\nexport function getIsPollOver(poll) {\n  if (poll.length) {\n    return moment().isAfter(poll.endsOn)\n  }\n  return false\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"poll-choices-bars\">\n      {props.poll.choices.map((choice) => {\n        return (\n          <PollChoice choice={choice} key={choice.hash} poll={props.poll} />\n        )\n      })}\n    </div>\n  )\n}\n\nexport function PollChoice(props) {\n  let proc = 0\n  if (props.choice.votes && props.poll.votes) {\n    proc = Math.ceil((props.choice.votes * 100) / props.poll.votes)\n  }\n\n  return (\n    <dl className=\"dl-horizontal\">\n      <dt>{props.choice.label}</dt>\n      <dd>\n        <div className=\"progress\">\n          <div\n            className=\"progress-bar\"\n            role=\"progressbar\"\n            aria-valuenow={proc}\n            aria-valuemin=\"0\"\n            aria-valuemax=\"100\"\n            style={{ width: proc + \"%\" }}\n          >\n            <span className=\"sr-only\">\n              {getVotesLabel(props.votes, props.proc)}\n            </span>\n          </div>\n        </div>\n        <ul className=\"list-unstyled list-inline poll-chart\">\n          <ChoiceVotes proc={proc} votes={props.choice.votes} />\n          <UserChoice selected={props.choice.selected} />\n        </ul>\n      </dd>\n    </dl>\n  )\n}\n\nexport function ChoiceVotes(props) {\n  return (\n    <li className=\"poll-chart-votes\">\n      {getVotesLabel(props.votes, props.proc)}\n    </li>\n  )\n}\n\nexport function getVotesLabel(votes, proc) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s vote, %(proc)s% of total.\",\n    \"%(votes)s votes, %(proc)s% of total.\",\n    votes\n  )\n\n  return interpolate(\n    message,\n    {\n      votes: votes,\n      proc: proc,\n    },\n    true\n  )\n}\n\nexport function UserChoice(props) {\n  if (!props.selected) return null\n\n  return (\n    <li className=\"poll-chart-selected\">\n      <span className=\"material-icon\">check_box</span>\n      {pgettext(\"thread poll\", \"You've voted on this choice.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Chart from \"./chart\"\nimport Options from \"./options\"\nimport PollInfo from \"../info\"\n\nexport default function (props) {\n  return (\n    <div className=\"panel panel-default panel-poll\">\n      <div className=\"panel-body\">\n        <h2>{props.poll.question}</h2>\n        <PollInfo poll={props.poll} />\n        <Chart poll={props.poll} />\n        <Options\n          isPollOver={props.isPollOver}\n          poll={props.poll}\n          showVoting={props.showVoting}\n          thread={props.thread}\n        />\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: true,\n      error: null,\n      data: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.poll.api.votes).then(\n      (data) => {\n        const hydratedData = data.map((choice) => {\n          return Object.assign({}, choice, {\n            voters: choice.voters.map((voter) => {\n              return Object.assign({}, voter, {\n                voted_on: moment(voter.voted_on),\n              })\n            }),\n          })\n        })\n\n        this.setState({\n          isLoading: false,\n          data: hydratedData,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div\n        className={\n          \"modal-dialog\" + (this.state.error ? \" modal-message\" : \" modal-sm\")\n        }\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">\n              {pgettext(\"thread poll\", \"Poll votes\")}\n            </h4>\n          </div>\n\n          <ModalBody\n            data={this.state.data}\n            error={this.state.error}\n            isLoading={this.state.isLoading}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ModalBody(props) {\n  if (props.isLoading) {\n    return <Loader />\n  } else if (props.error) {\n    return <Message icon=\"error_outline\" message={props.error} />\n  }\n\n  return <ChoicesList data={props.data} />\n}\n\nexport function ChoicesList(props) {\n  return (\n    <div className=\"modal-body modal-poll-votes\">\n      <ul className=\"list-unstyled votes-details\">\n        {props.data.map((choice) => {\n          return <ChoiceDetails key={choice.hash} {...choice} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function ChoiceDetails(props) {\n  return (\n    <li>\n      <h4>{props.label}</h4>\n      <VotesCount votes={props.votes} />\n      <VotesList voters={props.voters} />\n      <hr />\n    </li>\n  )\n}\n\nexport function VotesCount(props) {\n  const message = npgettext(\n    \"thread poll\",\n    \"%(votes)s user has voted for this choice.\",\n    \"%(votes)s users have voted for this choice.\",\n    props.votes\n  )\n\n  const label = interpolate(\n    message,\n    {\n      votes: props.votes,\n    },\n    true\n  )\n\n  return <p>{label}</p>\n}\n\nexport function VotesList(props) {\n  if (!props.voters.length) return null\n\n  return (\n    <ul className=\"list-unstyled\">\n      {props.voters.map((user) => {\n        return <Voter key={user.username} {...user} />\n      })}\n    </ul>\n  )\n}\n\nexport function Voter(props) {\n  if (props.url) {\n    return (\n      <li>\n        <a className=\"item-title\" href={props.url}>\n          {props.username}\n        </a>{\" \"}\n        <VoteDate voted_on={props.voted_on} />\n      </li>\n    )\n  }\n\n  return (\n    <li>\n      <strong>{props.username}</strong> <VoteDate voted_on={props.voted_on} />\n    </li>\n  )\n}\n\nexport function VoteDate(props) {\n  return (\n    <abbr className=\"text-muted\" title={props.voted_on.format(\"LLL\")}>\n      {props.voted_on.fromNow()}\n    </abbr>\n  )\n}\n","import React from \"react\"\nimport Modal from \"./modal\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  const { isPollOver, poll, showVoting, thread } = props\n\n  if (!isVisible(isPollOver, poll.acl, poll)) return null\n\n  const controls = []\n\n  const canVote = poll.acl.can_vote\n  const canChangeVote = !poll.hasSelectedChoices || poll.allow_revotes\n\n  if (canVote && canChangeVote) controls.push(0)\n  if (poll.is_public || poll.acl.can_see_votes) controls.push(1)\n  if (poll.acl.can_edit) controls.push(2)\n  if (poll.acl.can_delete) controls.push(3)\n\n  return (\n    <div className=\"row poll-options\">\n      <ChangeVote\n        controls={controls}\n        isPollOver={isPollOver}\n        poll={poll}\n        showVoting={showVoting}\n      />\n      <SeeVotes controls={controls} poll={poll} />\n      <Edit\n        controls={controls}\n        poll={poll}\n        thread={thread}\n        onClick={props.edit}\n      />\n      <Delete controls={controls} poll={poll} />\n    </div>\n  )\n}\n\nexport function isVisible(isPollOver, acl, poll) {\n  return (\n    poll.is_public ||\n    acl.can_delete ||\n    acl.can_edit ||\n    acl.can_see_votes ||\n    (acl.can_vote &&\n      !isPollOver &&\n      (!poll.hasSelectedChoices || poll.allow_revotes))\n  )\n}\n\nexport function getClassName(controls, control) {\n  let className = \"col-xs-6\"\n\n  if (controls.length === 1) {\n    className = \"col-xs-12\"\n  }\n\n  if (controls.length === 3 && controls[0] === control) {\n    className = \"col-xs-12\"\n  }\n\n  return className + \" col-sm-3 col-md-2\"\n}\n\nexport function ChangeVote(props) {\n  const canVote = props.poll.acl.can_vote\n  const canChangeVote =\n    !props.poll.hasSelectedChoices || props.poll.allow_revotes\n\n  if (!(canVote && canChangeVote)) return null\n\n  return (\n    <div className={getClassName(props.controls, 0)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.showVoting}\n        type=\"button\"\n      >\n        {pgettext(\"thread poll\", \"Vote\")}\n      </button>\n    </div>\n  )\n}\n\nexport class SeeVotes extends React.Component {\n  onClick = () => {\n    modal.show(<Modal poll={this.props.poll} />)\n  }\n\n  render() {\n    const seeVotes =\n      this.props.poll.is_public || this.props.poll.acl.can_see_votes\n    if (!seeVotes) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 1)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"See votes\")}\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function Edit(props) {\n  if (!props.poll.acl.can_edit) return null\n\n  return (\n    <div className={getClassName(props.controls, 2)}>\n      <button\n        className=\"btn btn-default btn-block btn-sm\"\n        disabled={props.poll.isBusy}\n        onClick={props.onClick}\n        type=\"button\"\n      >\n        {pgettext(\"thread poll\", \"Edit\")}\n      </button>\n    </div>\n  )\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const deletePoll = window.confirm(\n      pgettext(\n        \"thread poll\",\n        \"Are you sure you want to delete this poll? This action is not reversible.\"\n      )\n    )\n    if (!deletePoll) return false\n\n    store.dispatch(poll.busy())\n\n    ajax\n      .delete(this.props.poll.api.index)\n      .then(this.handleSuccess, this.handleError)\n  }\n\n  handleSuccess = (newThreadAcl) => {\n    snackbar.success(pgettext(\"thread poll\", \"Poll has been deleted\"))\n    store.dispatch(poll.remove())\n    store.dispatch(thread.updateAcl(newThreadAcl))\n  }\n\n  handleError = (rejection) => {\n    snackbar.apiError(rejection)\n    store.dispatch(poll.release())\n  }\n\n  render() {\n    if (!this.props.poll.acl.can_delete) return null\n\n    return (\n      <div className={getClassName(this.props.controls, 3)}>\n        <button\n          className=\"btn btn-default btn-block btn-sm\"\n          disabled={this.props.poll.isBusy}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {pgettext(\"thread poll\", \"Delete\")}\n        </button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled list-inline poll-help\">\n      <PollChoicesLeft choicesLeft={props.choicesLeft} />\n      <PollAllowRevote poll={props.poll} />\n    </ul>\n  )\n}\n\nexport function PollChoicesLeft({ choicesLeft }) {\n  if (choicesLeft === 0) {\n    return (\n      <li className=\"poll-help-choices-left\">\n        {pgettext(\"thread poll\", \"You can't select any more choices.\")}\n      </li>\n    )\n  }\n\n  const message = npgettext(\n    \"thread poll\",\n    \"You can select %(choices)s more choice.\",\n    \"You can select %(choices)s more choices.\",\n    choicesLeft\n  )\n\n  const label = interpolate(\n    message,\n    {\n      choices: choicesLeft,\n    },\n    true\n  )\n\n  return <li className=\"poll-help-choices-left\">{label}</li>\n}\n\nexport function PollAllowRevote(props) {\n  if (props.poll.allow_revotes) {\n    return (\n      <li className=\"poll-help-allow-revotes\">\n        {pgettext(\"thread poll\", \"You can change your vote later.\")}\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"poll-help-no-revotes\">\n      {pgettext(\"thread poll\", \"Votes are final.\")}\n    </li>\n  )\n}\n","import React from \"react\"\nimport ChoicesHelp from \"./help\"\nimport ChoicesSelect from \"./select\"\nimport { getChoicesLeft, getChoiceFromHash } from \"./utils\"\nimport PollInfo from \"../info\"\nimport { Delete, Edit, getClassName } from \"../results/options\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport * as poll from \"misago/reducers/poll\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      choices: props.poll.choices,\n      choicesLeft: getChoicesLeft(props.poll, props.poll.choices),\n    }\n  }\n\n  toggleChoice = (hash) => {\n    const choice = getChoiceFromHash(this.state.choices, hash)\n\n    let choices = null\n    if (!choice.selected) {\n      choices = this.selectChoice(choice, hash)\n    } else {\n      choices = this.deselectChoice(choice, hash)\n    }\n\n    this.setState({\n      choices,\n      choicesLeft: getChoicesLeft(this.props.poll, choices),\n    })\n  }\n\n  selectChoice = (choice, hash) => {\n    const choicesLeft = getChoicesLeft(this.props.poll, this.state.choices)\n\n    if (!choicesLeft) {\n      for (const i in this.state.choices.slice()) {\n        const item = this.state.choices[i]\n        if (item.selected && item.hash != hash) {\n          item.selected = false\n          break\n        }\n      }\n    }\n\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? true : choice.selected,\n      })\n    })\n  }\n\n  deselectChoice = (choice, hash) => {\n    return this.state.choices.map((choice) => {\n      return Object.assign({}, choice, {\n        selected: choice.hash == hash ? false : choice.selected,\n      })\n    })\n  }\n\n  clean() {\n    if (this.state.choicesLeft === this.props.poll.allowed_choices) {\n      snackbar.error(gettext(\"You need to select at least one choice\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    let data = []\n    for (const i in this.state.choices.slice()) {\n      const item = this.state.choices[i]\n      if (item.selected) {\n        data.push(item.hash)\n      }\n    }\n\n    return ajax.post(this.props.poll.api.votes, data)\n  }\n\n  handleSuccess(data) {\n    store.dispatch(poll.replace(data))\n    snackbar.success(gettext(\"Your vote has been saved.\"))\n\n    this.props.showResults()\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const controls = []\n\n    if (this.props.poll.acl.can_vote) controls.push(0)\n    if (this.props.poll.is_public || this.props.poll.acl.can_see_votes)\n      controls.push(1)\n    if (this.props.poll.acl.can_edit) controls.push(2)\n    if (this.props.poll.acl.can_delete) controls.push(3)\n\n    return (\n      <div className=\"panel panel-default panel-poll\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"panel-body\">\n            <h2>{this.props.poll.question}</h2>\n            <PollInfo poll={this.props.poll} />\n            <ChoicesSelect\n              choices={this.state.choices}\n              toggleChoice={this.toggleChoice}\n            />\n            <ChoicesHelp\n              choicesLeft={this.state.choicesLeft}\n              poll={this.props.poll}\n            />\n          </div>\n          <div className=\"panel-footer\">\n            <div className=\"row\">\n              <div className={getClassName(controls, 0)}>\n                <Button\n                  className=\"btn-primary btn-block btn-sm\"\n                  loading={this.state.isLoading}\n                >\n                  {gettext(\"Save your vote\")}\n                </Button>\n              </div>\n              <div className={getClassName(controls, 1)}>\n                <button\n                  className=\"btn btn-default btn-block btn-sm\"\n                  disabled={this.state.isLoading}\n                  onClick={this.props.showResults}\n                  type=\"button\"\n                >\n                  {gettext(\"See results\")}\n                </button>\n              </div>\n              <Edit\n                controls={controls}\n                poll={this.props.poll}\n                thread={this.props.thread}\n                onClick={this.props.edit}\n              />\n              <Delete controls={controls} poll={this.props.poll} />\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <ul className=\"list-unstyled poll-select-choices\">\n      {props.choices.map((choice) => {\n        return (\n          <ChoiceSelect\n            choice={choice}\n            key={choice.hash}\n            toggleChoice={props.toggleChoice}\n          />\n        )\n      })}\n    </ul>\n  )\n}\n\nexport class ChoiceSelect extends React.Component {\n  onClick = () => {\n    this.props.toggleChoice(this.props.choice.hash)\n  }\n\n  render() {\n    return (\n      <li className=\"poll-select-choice\">\n        <button\n          className={this.props.choice.selected ? \"btn btn-selected\" : \"btn\"}\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.choice.selected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n          <strong>{this.props.choice.label}</strong>\n        </button>\n      </li>\n    )\n  }\n}\n","export function getChoiceFromHash(choices, hash) {\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.hash === hash) {\n      return choice\n    }\n  }\n\n  return null\n}\n\nexport function getChoicesLeft(poll, choices) {\n  let selection = []\n  for (const i in choices) {\n    const choice = choices[i]\n    if (choice.selected) {\n      selection.push(choice)\n    }\n  }\n\n  return poll.allowed_choices - selection.length\n}\n","import React from \"react\"\n\nexport default function (props) {\n  return (\n    <div className=\"modal-body post-changelog-diff\">\n      <ul className=\"list-unstyled\">\n        {props.diff.map((item, i) => {\n          return <DiffItem item={item} key={i} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function DiffItem(props) {\n  if (props.item[0] === \"?\") return null\n\n  return (\n    <li className={getItemClassName(props.item)}>{cleanItem(props.item)}</li>\n  )\n}\n\nexport function getItemClassName(item) {\n  let className = \"diff-item\"\n  if (item[0] === \"-\") {\n    className += \" diff-item-sub\"\n  } else if (item[0] === \"+\") {\n    className += \" diff-item-add\"\n  }\n  return className\n}\n\nexport function cleanItem(item) {\n  return item.substr(2)\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    if (!this.props.canRevert) return null\n\n    return (\n      <div className=\"modal-footer visible-xs-block\">\n        <Button\n          className=\"btn-default btn-sm btn-block\"\n          disabled={this.props.disabled}\n          onClick={this.onClick}\n          title={gettext(\"Revert post to state from before this edit.\")}\n        >\n          {gettext(\"Revert\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Diff from \"./diff\"\nimport Footer from \"./footer\"\nimport Toolbar from \"./toolbar\"\nimport { hydrateEdit } from \"./utils\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isBusy: true,\n\n      canRevert: props.post.acl.can_edit,\n\n      error: null,\n      edit: null,\n    }\n  }\n\n  componentDidMount() {\n    this.goToEdit()\n  }\n\n  goToEdit = (edit = null) => {\n    this.setState({\n      isBusy: true,\n    })\n\n    let url = this.props.post.api.edits\n    if (edit !== null) {\n      url += \"?edit=\" + edit\n    }\n\n    ajax.get(url).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          edit: hydrateEdit(data),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          isBusy: false,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  revertEdit = (edit) => {\n    if (this.state.isBusy) return\n\n    const confirmation = window.confirm(\n      gettext(\n        \"Are you sure you with to revert this post to the state from before this edit?\"\n      )\n    )\n    if (!confirmation) return\n\n    this.setState({\n      isBusy: true,\n    })\n\n    const url = this.props.post.api.edits + \"?edit=\" + edit\n    ajax.post(url).then(\n      (data) => {\n        const hydratedPost = post.hydrate(data)\n        store.dispatch(post.patch(data, hydratedPost))\n\n        snackbar.success(gettext(\"Post has been reverted to previous state.\"))\n        modal.hide()\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n\n        this.setState({\n          isBusy: false,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-dialog modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      return (\n        <ModalDialog>\n          <Toolbar\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            goToEdit={this.goToEdit}\n            revertEdit={this.revertEdit}\n          />\n          <Diff diff={this.state.edit.diff} />\n          <Footer\n            canRevert={this.state.canRevert}\n            disabled={this.state.isBusy}\n            edit={this.state.edit}\n            revertEdit={this.revertEdit}\n          />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog>\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function ModalDialog(props) {\n  return (\n    <div className={props.className || \"modal-dialog\"} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Post edits history\")}</h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default class extends React.Component {\n  goLast = () => {\n    this.props.goToEdit()\n  }\n\n  goForward = () => {\n    this.props.goToEdit(this.props.edit.next)\n  }\n\n  goBack = () => {\n    this.props.goToEdit(this.props.edit.previous)\n  }\n\n  revertEdit = () => {\n    this.props.revertEdit(this.props.edit.id)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-toolbar post-changelog-toolbar\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <div className=\"row\">\n              <div className=\"col-xs-4\">\n                <GoBackBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goBack}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoForwardBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goForward}\n                />\n              </div>\n              <div className=\"col-xs-4\">\n                <GoLastBtn\n                  disabled={this.props.disabled}\n                  edit={this.props.edit}\n                  onClick={this.goLast}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-5 xs-margin-top-half post-change-label\">\n            <Label edit={this.props.edit} />\n          </div>\n          <RevertBtn\n            canRevert={this.props.canRevert}\n            disabled={this.props.disabled}\n            onClick={this.revertEdit}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function GoBackBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.previous}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">chevron_left</span>\n    </Button>\n  )\n}\n\nexport function GoForwardBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See next change\")}\n    >\n      <span className=\"material-icon\">chevron_right</span>\n    </Button>\n  )\n}\n\nexport function GoLastBtn(props) {\n  return (\n    <Button\n      className=\"btn-default btn-block btn-icon btn-sm\"\n      disabled={props.disabled || !props.edit.next}\n      onClick={props.onClick}\n      title={gettext(\"See previous change\")}\n    >\n      <span className=\"material-icon\">last_page</span>\n    </Button>\n  )\n}\n\nexport function RevertBtn(props) {\n  if (!props.canRevert) return null\n\n  return (\n    <div className=\"col-sm-3 hidden-xs\">\n      <Button\n        className=\"btn-default btn-sm btn-block\"\n        disabled={props.disabled}\n        onClick={props.onClick}\n        title={gettext(\"Revert post to state from before this edit.\")}\n      >\n        {gettext(\"Revert\")}\n      </Button>\n    </div>\n  )\n}\n\nexport function Label(props) {\n  let user = null\n  if (props.edit.url.editor) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.edit.url.editor),\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.edit.editor_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.edit.edited_on.format(\"LLL\")),\n      relative: escapeHtml(props.edit.edited_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(edited_by)s %(edited_on)s.\")),\n    {\n      edited_by: user,\n      edited_on: date,\n    },\n    true\n  )\n\n  return <p dangerouslySetInnerHTML={{ __html: message }} />\n}\n","import moment from \"moment\"\n\nexport function hydrateEdit(json) {\n  return Object.assign({}, json, {\n    edited_on: moment(json.edited_on),\n  })\n}\n","import React from \"react\"\nimport Post from \"./post\"\nimport Preview from \"./preview\"\n\nexport default function ({ isReady, posts, poster }) {\n  if (!isReady) {\n    return <Preview />\n  }\n\n  return (\n    <ul className=\"posts-list post-feed ui-ready\">\n      {posts.map((post) => {\n        return <Post key={post.id} post={post} poster={poster} />\n      })}\n    </ul>\n  )\n}\n","import React from \"react\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\n\nexport default function (props) {\n  if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default(props) {\n  return (\n    <div className=\"post-body\">\n      <MisagoMarkup markup={props.post.content} />\n    </div>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <div className=\"post-body post-body-invalid\">\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  const { category, thread } = post\n\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <div className=\"post-heading\">\n      <a className=\"btn btn-link item-title\" href={thread.url}>\n        {thread.title}\n      </a>\n      <a className=\"btn btn-link post-category\" href={category.url.index}>\n        {category.name}\n      </a>\n      <a\n        href={post.url.index}\n        className=\"btn btn-link posted-on\"\n        title={tooltip}\n      >\n        {post.posted_on.fromNow()}\n      </a>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Body from \"./body\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function ({ post, poster }) {\n  const user = poster || post.poster\n\n  let className = \"post\"\n  if (user && user.rank.css_class) {\n    className += \" post-\" + user.rank.css_class\n  }\n\n  return (\n    <li className={className} id={\"post-\" + post.id}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <div className=\"panel-content\">\n            <PostSide post={post} poster={user} />\n            <Header post={post} />\n            <Body post={post} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\n\nexport default function ({ post }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={50} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <span className=\"item-title\">{post.poster_name}</span>\n          </div>\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  return (\n    <a className=\"btn btn-default btn-icon pull-right\" href={post.url.index}>\n      <span className=\"btn-text-left hidden-xs\">{gettext(\"See post\")}</span>\n      <span className=\"material-icon\">chevron_right</span>\n    </a>\n  )\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function ({ post, poster }) {\n  if (poster && poster.id) {\n    return <Registered post={post} poster={poster} />\n  }\n\n  return <Anonymous post={post} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport GoToButton from \"./button\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, poster }) {\n  return (\n    <div className=\"post-side post-side-registered\">\n      <GoToButton post={post} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={50} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n          </div>\n          <UserTitle title={poster.title} rank={poster.rank} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default function () {\n  return (\n    <ul className=\"posts-list post-feed ui-preview\">\n      <li className=\"post\">\n        <div className=\"panel panel-default panel-post\">\n          <div className=\"panel-body\">\n            <div className=\"panel-content\">\n              <div className=\"post-side post-side-anonymous\">\n                <div className=\"media\">\n                  <div className=\"media-left\">\n                    <span>\n                      <Avatar className=\"poster-avatar\" size={50} />\n                    </span>\n                  </div>\n                  <div className=\"media-body\">\n                    <div className=\"media-heading\">\n                      <span className=\"item-title\">\n                        <span\n                          className=\"ui-preview-text\"\n                          style={{ width: random.int(30, 200) + \"px\" }}\n                        >\n                          &nbsp;\n                        </span>\n                      </span>\n                    </div>\n                    <span className=\"user-title user-title-anonymous\">\n                      <span\n                        className=\"ui-preview-text\"\n                        style={{ width: random.int(30, 200) + \"px\" }}\n                      >\n                        &nbsp;\n                      </span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div className=\"post-heading\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(30, 200) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"post-body\">\n                <article className=\"misago-markup\">\n                  <p>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                    &nbsp;\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 200) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </p>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>\n    </ul>\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport Avatar from \"misago/components/avatar\"\nimport Message from \"misago/components/modal-message\"\nimport Loader from \"misago/components/modal-loader\"\nimport ajax from \"misago/services/ajax\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n\n      error: null,\n      likes: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.post.api.likes).then(\n      (data) => {\n        this.setState({\n          isReady: true,\n          likes: data.map(hydrateLike),\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isReady: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={this.state.error} />\n        </ModalDialog>\n      )\n    } else if (this.state.isReady) {\n      if (this.state.likes.length) {\n        return (\n          <ModalDialog className=\"modal-sm\" likes={this.state.likes}>\n            <LikesList likes={this.state.likes} />\n          </ModalDialog>\n        )\n      }\n\n      return (\n        <ModalDialog className=\"modal-message\">\n          <Message message={gettext(\"No users have liked this post.\")} />\n        </ModalDialog>\n      )\n    }\n\n    return (\n      <ModalDialog className=\"modal-sm\">\n        <Loader />\n      </ModalDialog>\n    )\n  }\n}\n\nexport function hydrateLike(data) {\n  return Object.assign({}, data, {\n    liked_on: moment(data.liked_on),\n  })\n}\n\nexport function ModalDialog({ className, children, likes }) {\n  let title = gettext(\"Post Likes\")\n  if (likes) {\n    const likesCount = likes.length\n    const message = ngettext(\"%(likes)s like\", \"%(likes)s likes\", likesCount)\n\n    title = interpolate(message, { likes: likesCount }, true)\n  }\n\n  return (\n    <div className={\"modal-dialog \" + (className || \"\")} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{title}</h4>\n        </div>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport function LikesList(props) {\n  return (\n    <div className=\"modal-body modal-post-likers\">\n      <ul className=\"media-list\">\n        {props.likes.map((like) => {\n          return <LikeDetails key={like.id} {...like} />\n        })}\n      </ul>\n    </div>\n  )\n}\n\nexport function LikeDetails(props) {\n  if (props.url) {\n    const user = {\n      id: props.liker_id,\n      avatars: props.avatars,\n    }\n\n    return (\n      <li className=\"media\">\n        <div className=\"media-left\">\n          <a className=\"user-avatar\" href={props.url}>\n            <Avatar size=\"50\" user={user} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <a className=\"item-title\" href={props.url}>\n            {props.username}\n          </a>{\" \"}\n          <LikeDate likedOn={props.liked_on} />\n        </div>\n      </li>\n    )\n  }\n\n  return (\n    <li className=\"media\">\n      <div className=\"media-left\">\n        <span className=\"user-avatar\">\n          <Avatar size=\"50\" />\n        </span>\n      </div>\n      <div className=\"media-body\">\n        <strong>{props.username}</strong> <LikeDate likedOn={props.liked_on} />\n      </div>\n    </li>\n  )\n}\n\nexport function LikeDate(props) {\n  return (\n    <span className=\"text-muted\" title={props.likedOn.format(\"LLL\")}>\n      {props.likedOn.fromNow()}\n    </span>\n  )\n}\n","import React from \"react\"\nimport classnames from \"classnames\"\n\nconst CLASS_ACTIVE = \"posting-active\"\nconst CLASS_DEFAULT = \"posting-default\"\nconst CLASS_MINIMIZED = \"posting-minimized\"\nconst CLASS_FULLSCREEN = \"posting-fullscreen\"\n\nclass PostingDialog extends React.Component {\n  componentDidMount() {\n    document.body.classList.add(CLASS_ACTIVE, CLASS_DEFAULT)\n  }\n\n  componentWillUnmount() {\n    document.body.classList.remove(\n      CLASS_ACTIVE,\n      CLASS_DEFAULT,\n      CLASS_MINIMIZED,\n      CLASS_FULLSCREEN\n    )\n  }\n\n  componentWillReceiveProps({ fullscreen, minimized }) {\n    if (minimized) {\n      document.body.classList.remove(CLASS_DEFAULT, CLASS_FULLSCREEN)\n      document.body.classList.add(CLASS_MINIMIZED)\n    } else {\n      if (fullscreen) {\n        document.body.classList.remove(CLASS_DEFAULT, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_FULLSCREEN)\n      } else {\n        document.body.classList.remove(CLASS_FULLSCREEN, CLASS_MINIMIZED)\n        document.body.classList.add(CLASS_DEFAULT)\n      }\n    }\n  }\n\n  render() {\n    const { children, fullscreen, minimized } = this.props\n\n    return (\n      <div\n        className={classnames(\"posting-dialog\", {\n          \"posting-dialog-minimized\": minimized,\n          \"posting-dialog-fullscreen\": fullscreen && !minimized,\n        })}\n      >\n        <div className=\"posting-dialog-container\">{children}</div>\n      </div>\n    )\n  }\n}\n\nexport default PostingDialog\n","import React from \"react\"\n\nconst PostingDialogBody = ({ children }) => (\n  <div className=\"posting-dialog-body\">{children}</div>\n)\n\nexport default PostingDialogBody\n","import React from \"react\"\n\nconst PostingDialogError = ({ close, message }) => (\n  <div className=\"posting-dialog-error\">\n    <div className=\"posting-dialog-error-icon\">\n      <span className=\"material-icon\">error_outlined</span>\n    </div>\n    <div className=\"posting-dialog-error-detail\">\n      <p>{message}</p>\n      <button type=\"button\" className=\"btn btn-default\" onClick={close}>\n        {pgettext(\"modal\", \"Close\")}\n      </button>\n    </div>\n  </div>\n)\n\nexport default PostingDialogError\n","import React from \"react\"\n\nconst PostingDialogHeader = ({\n  children,\n  close,\n  fullscreen,\n  minimize,\n  minimized,\n  fullscreenEnter,\n  fullscreenExit,\n  open,\n}) => (\n  <div className=\"posting-dialog-header\">\n    <div className=\"posting-dialog-caption\">{children}</div>\n    {minimized ? (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Open\")}\n        type=\"button\"\n        onClick={open}\n      >\n        <span className=\"material-icon\">expand_less</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog\"\n        title={pgettext(\"dialog\", \"Minimize\")}\n        type=\"button\"\n        onClick={minimize}\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n    )}\n    {fullscreen ? (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs\"\n        title={pgettext(\"dialog\", \"Exit the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenExit}\n      >\n        <span className=\"material-icon\">fullscreen_exit</span>\n      </button>\n    ) : (\n      <button\n        className=\"btn btn-posting-dialog hidden-xs\"\n        title={pgettext(\"dialog\", \"Enter the fullscreen mode\")}\n        type=\"button\"\n        onClick={fullscreenEnter}\n      >\n        <span className=\"material-icon\">fullscreen</span>\n      </button>\n    )}\n    <button\n      className=\"btn btn-posting-dialog\"\n      title={pgettext(\"dialog\", \"Cancel\")}\n      type=\"button\"\n      onClick={close}\n    >\n      <span className=\"material-icon\">close</span>\n    </button>\n  </div>\n)\n\nexport default PostingDialogHeader\n","import React from \"react\"\nimport posting from \"../../services/posting\"\nimport { getGlobalState, getQuoteMarkup } from \"../posting\"\n\nexport default class PostingQuoteSelection extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      range: null,\n      rect: null,\n    }\n\n    this.element = null\n  }\n\n  selected = () => {\n    if (this.element) {\n      const range = getQuoteSelection(this.element) || null\n      const rect = range ? range.getBoundingClientRect() : null\n\n      this.setState({ range, rect })\n    }\n  }\n\n  reply = () => {\n    if (!posting.isOpen()) {\n      const content = getQuoteMarkup(this.state.range)\n      posting.open(Object.assign({}, this.props.posting, { default: content }))\n\n      this.setState({ range: null, rect: null })\n\n      window.setTimeout(focusEditor, 1000)\n    } else {\n      const globalState = getGlobalState()\n      if (globalState && !globalState.disabled) {\n        globalState.quote(getQuoteMarkup(this.state.range))\n        this.setState({ range: null, rect: null })\n        focusEditor()\n      }\n    }\n  }\n\n  render = () => (\n    <div>\n      <div\n        ref={(element) => {\n          if (element) {\n            this.element = element\n          }\n        }}\n        onMouseUp={this.selected}\n        onTouchEnd={this.selected}\n      >\n        {this.props.children}\n      </div>\n      {!!this.state.rect && (\n        <div\n          className=\"quote-control\"\n          style={{\n            position: \"absolute\",\n            left: this.state.rect.left + window.scrollX,\n            top: this.state.rect.bottom + window.scrollY,\n          }}\n        >\n          <div className=\"quote-control-arrow\" />\n          <div className=\"quote-control-inner\">\n            <button\n              className=\"btn quote-control-btn\"\n              type=\"button\"\n              onClick={this.reply}\n            >\n              {pgettext(\"post reply\", \"Quote\")}\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction focusEditor() {\n  const textarea = document.querySelector(\"#posting-mount textarea\")\n  textarea.focus()\n  textarea.selectionStart = textarea.selectionEnd = textarea.value.length\n}\n\nconst getQuoteSelection = (container) => {\n  if (typeof window.getSelection === \"undefined\") return\n\n  // Validate that selection is of valid type and has one range\n  const selection = window.getSelection()\n  if (!selection) return\n  if (selection.type !== \"Range\") return\n  if (selection.rangeCount !== 1) return\n\n  // Validate that selection is within the container and post's article\n  const range = selection.getRangeAt(0)\n  if (!isRangeContained(range, container)) return\n  if (!isPostContained(range)) return\n  if (!isAnyTextSelected(range.cloneContents())) return\n\n  return range\n}\n\nconst isRangeContained = (range, container) => {\n  const node = range.commonAncestorContainer\n  if (node === container) return true\n\n  let p = node.parentNode\n  while (p) {\n    if (p === container) return true\n    p = p.parentNode\n  }\n\n  return false\n}\n\nconst isPostContained = (range) => {\n  const element = range.commonAncestorContainer\n  if (element.nodeName === \"ARTICLE\") return true\n  if (element.dataset && element.dataset.noquote === \"1\") return false\n  let p = element.parentNode\n  while (p) {\n    if (p.dataset && p.dataset.noquote === \"1\") return false\n    if (p.nodeName === \"ARTICLE\") return true\n    p = p.parentNode\n  }\n  return false\n}\n\nconst isAnyTextSelected = (node) => {\n  for (let i = 0; i < node.childNodes.length; i++) {\n    const child = node.childNodes[i]\n    if (child.nodeType === Node.TEXT_NODE) {\n      if (child.textContent && child.textContent.trim().length > 0) return true\n    }\n    if (child.nodeName === \"IMG\") return true\n    if (isAnyTextSelected(child)) return true\n  }\n\n  return false\n}\n","import React from \"react\"\n\nexport default function PostingThreadOptions({\n  isClosed,\n  isHidden,\n  isPinned,\n  disabled,\n  options,\n  close,\n  open,\n  hide,\n  unhide,\n  pinGlobally,\n  pinLocally,\n  unpin,\n}) {\n  const icons = getIcons(isClosed, isHidden, isPinned)\n\n  return (\n    <div className=\"dropdown\">\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={pgettext(\"post thread\", \"Options\")}\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n        disabled={disabled}\n      >\n        {icons.length > 0 ? (\n          <span className=\"btn-icons-family\">\n            {icons.map((icon) => (\n              <span key={icon} className=\"material-icon\">\n                {icon}\n              </span>\n            ))}\n          </span>\n        ) : (\n          <span className=\"material-icon\">more_horiz</span>\n        )}\n      </button>\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {options.pin === 2 && isPinned !== 2 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={pinGlobally}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {pgettext(\"post thread\", \"Pinned globally\")}\n            </button>\n          </li>\n        )}\n        {options.pin >= isPinned && isPinned !== 1 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={pinLocally}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">bookmark_outline</span>\n              {pgettext(\"post thread\", \"Pinned locally\")}\n            </button>\n          </li>\n        )}\n        {options.pin >= isPinned && isPinned !== 0 && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={unpin}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">radio_button_unchecked</span>\n              {pgettext(\"post thread\", \"Not pinned\")}\n            </button>\n          </li>\n        )}\n        {options.close && !!isClosed && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={open}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">lock_outline</span>\n              {pgettext(\"post thread\", \"Open\")}\n            </button>\n          </li>\n        )}\n        {options.close && !isClosed && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={close}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">lock</span>\n              {pgettext(\"post thread\", \"Closed\")}\n            </button>\n          </li>\n        )}\n        {options.hide && !!isHidden && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={unhide}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">visibility</span>\n              {pgettext(\"post thread\", \"Visible\")}\n            </button>\n          </li>\n        )}\n        {options.hide && !isHidden && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={hide}\n              type=\"button\"\n              disabled={disabled}\n            >\n              <span className=\"material-icon\">visibility_off</span>\n              {pgettext(\"post thread\", \"Hidden\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nfunction getIcons(closed, hidden, pinned) {\n  const icons = []\n  if (pinned === 2) icons.push(\"bookmark\")\n  if (pinned === 1) icons.push(\"bookmark_outline\")\n  if (closed) icons.push(\"lock\")\n  if (hidden) icons.push(\"visibility_off\")\n  return icons\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport { clearGlobalState, setGlobalState } from \"./globalState\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: false,\n\n      minimized: false,\n      fullscreen: false,\n\n      post: \"\",\n      attachments: [],\n      protect: false,\n\n      canProtect: false,\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  componentWillUnmount() {\n    clearGlobalState()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    if (context && newContext && context.reply === newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post,\n      attachments: attachments.hydrate(data.attachments),\n      protect: data.is_protected,\n\n      canProtect: data.can_protect,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n\n    this.open()\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      gettext(\"Are you sure you want to discard changes?\")\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onProtect = () => {\n    this.setState({\n      protect: true,\n    })\n  }\n\n  onUnprotect = () => {\n    this.setState({\n      protect: false,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onQuote = (quote) => {\n    this.setState(({ post }) => {\n      if (post.length > 0) {\n        return { post: post.trim() + \"\\n\\n\" + quote }\n      }\n\n      return { post: quote }\n    })\n\n    this.open()\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    setGlobalState(true, this.onQuote)\n\n    return ajax.put(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      protect: this.state.protect,\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(gettext(\"Reply has been edited.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      post: this.props.post,\n\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogEditReply {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogEditReply>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogEditReply {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"edit reply submit\", \"Edit reply\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogEditReply>\n      )\n    }\n\n    return (\n      <PostingDialogEditReply {...dialogProps}>\n        <form\n          className=\"posting-dialog-form\"\n          method=\"POST\"\n          onSubmit={this.handleSubmit}\n        >\n          <MarkupEditor\n            attachments={this.state.attachments}\n            canProtect={this.state.canProtect}\n            isProtected={this.state.protect}\n            enableProtection={() => this.setState({ protect: true })}\n            disableProtection={() => this.setState({ protect: false })}\n            value={this.state.post}\n            submitText={pgettext(\"edit reply submit\", \"Edit reply\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogEditReply>\n    )\n  }\n}\n\nconst PostingDialogEditReply = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n  post,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {interpolate(\n        pgettext(\"edit reply\", \"Edit reply by %(poster)s from %(date)s\"),\n        {\n          poster: post.poster ? post.poster.username : post.poster_name,\n          date: post.posted_on.fromNow(),\n        },\n        true\n      )}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","const getQuoteMarkup = (range) => {\n  const metadata = getQuoteMetadata(range)\n  let markup = convertNodesToMarkup(range.cloneContents().childNodes, [])\n  let prefix = metadata ? `[quote=\"${metadata}\"]\\n` : \"[quote]\\n\"\n  let suffix = \"\\n[/quote]\\n\\n\"\n\n  const codeBlock = getQuoteCodeBlock(range)\n  if (codeBlock) {\n    prefix += codeBlock.syntax ? `[code=${codeBlock.syntax}]\\n` : \"[code]\\n\"\n    suffix = \"\\n[/code]\" + suffix\n  } else if (isNodeInlineCodeBlock(range)) {\n    markup = markup.trim()\n    prefix += \"`\"\n    suffix = \"`\" + suffix\n  } else {\n    markup = markup.trim()\n  }\n\n  return prefix + markup + suffix\n}\n\nexport default getQuoteMarkup\n\nconst getQuoteMetadata = (range) => {\n  const node = range.commonAncestorContainer\n  if (isNodeElementWithQuoteMetadata(node)) {\n    return getQuoteMetadataFromNode(node)\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeElementWithQuoteMetadata(p)) {\n      return getQuoteMetadataFromNode(p)\n    }\n    p = p.parentNode\n  }\n\n  return \"\"\n}\n\nconst isNodeElementWithQuoteMetadata = (node) => {\n  if (node.nodeType !== Node.ELEMENT_NODE) return false\n  if (node.nodeName === \"ARTICLE\") return true\n  if (node.nodeName === \"BLOCKQUOTE\") {\n    return node.dataset && node.dataset.block === \"quote\"\n  }\n\n  return false\n}\n\nconst getQuoteMetadataFromNode = (element) => {\n  if (element.dataset) {\n    return element.dataset.author || null\n  }\n  return null\n}\n\nconst getQuoteCodeBlock = (range) => {\n  const node = range.commonAncestorContainer\n  if (isNodeCodeBlock(node)) {\n    return getNodeCodeBlockMeta(node)\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeCodeBlock(p)) {\n      return getNodeCodeBlockMeta(p)\n    }\n    p = p.parentNode\n  }\n\n  return null\n}\n\nconst isNodeCodeBlock = (node) => {\n  return node.nodeName === \"PRE\"\n}\n\nconst isNodeInlineCodeBlock = (range) => {\n  const node = range.commonAncestorContainer\n  if (node.nodeName === \"CODE\") {\n    return true\n  }\n\n  let p = node.parentNode\n  while (p) {\n    if (isNodeElementWithQuoteMetadata(p)) {\n      return false\n    }\n\n    if (p.nodeName === \"CODE\") {\n      return true\n    }\n\n    p = p.parentNode\n  }\n\n  return false\n}\n\nconst getNodeCodeBlockMeta = (node) => {\n  if (!node.dataset) {\n    return { syntax: null }\n  }\n\n  return { syntax: node.dataset.syntax || null }\n}\n\nconst convertNodesToMarkup = (nodes, stack) => {\n  let markup = \"\"\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i]\n    markup += convertNodeToMarkup(node, stack)\n  }\n  return markup\n}\n\nconst SIMPLE_NODE_MAPPINGS = {\n  H1: [\"\\n\\n# \", \"\"],\n  H2: [\"\\n\\n## \", \"\"],\n  H3: [\"\\n\\n### \", \"\"],\n  H4: [\"\\n\\n#### \", \"\"],\n  H5: [\"\\n\\n##### \", \"\"],\n  H6: [\"\\n\\n###### \", \"\"],\n  STRONG: [\"**\", \"**\"],\n  EM: [\"*\", \"*\"],\n  DEL: [\"~~\", \"~~\"],\n  B: [\"[b]\", \"[/b]\"],\n  U: [\"[u]\", \"[/u]\"],\n  I: [\"[i]\", \"[/i]\"],\n  SUB: [\"[sub]\", \"[/sub]\"],\n  SUP: [\"[sup]\", \"[/sup]\"],\n}\n\nconst convertNodeToMarkup = (node, stack) => {\n  const dataset = node.dataset || {}\n\n  if (node.nodeType === Node.TEXT_NODE) {\n    return node.textContent || \"\"\n  }\n\n  if (node.nodeType === Node.ELEMENT_NODE) {\n    if (dataset.quote) {\n      return dataset.quote || \"\"\n    }\n    if (dataset.noquote === \"1\") return \"\"\n  }\n\n  if (\n    node.nodeType === Node.ELEMENT_NODE &&\n    dataset.quote &&\n    dataset.quote.trim()\n  ) {\n    return \"\"\n  }\n\n  if (node.nodeName === \"HR\") {\n    return \"\\n\\n- - -\"\n  }\n\n  if (SIMPLE_NODE_MAPPINGS[node.nodeName]) {\n    const [prefix, suffix] = SIMPLE_NODE_MAPPINGS[node.nodeName]\n    return (\n      prefix +\n      convertNodesToMarkup(node.childNodes, [...stack, node.nodeName]) +\n      suffix\n    )\n  }\n\n  if (node.nodeName === \"A\") {\n    const href = node.href\n    const text = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      node.nodeName,\n    ])\n    if (text) {\n      return `[${text}](${href})`\n    } else {\n      return `!(${href})`\n    }\n  }\n\n  if (node.nodeName === \"IMG\") {\n    const src = node.src\n    const alt = node.alt\n    if (alt) {\n      return `![${alt}](${src})`\n    } else {\n      return `!(${src})`\n    }\n  }\n\n  if (node.nodeName === \"DIV\" || node.nodeName === \"ASIDE\") {\n    const block = dataset.block && dataset.block.toUpperCase()\n    if (block && SIMPLE_NODE_MAPPINGS[block]) {\n      const [prefix, suffix] = SIMPLE_NODE_MAPPINGS[block]\n      return (\n        prefix +\n        convertNodesToMarkup(node.childNodes, [...stack, block]) +\n        suffix\n      )\n    } else {\n      return convertNodesToMarkup(node.childNodes, stack)\n    }\n  }\n\n  if (node.nodeName === \"BLOCKQUOTE\") {\n    if (dataset.block === \"spoiler\") {\n      const content = convertNodesToMarkup(node.childNodes, [\n        ...stack,\n        \"SPOILER\",\n      ]).trim()\n\n      if (!content) return \"\"\n\n      let markup = \"\\n[spoiler]\\n\"\n      markup += content\n      markup += \"\\n[/spoiler]\"\n      return markup\n    }\n\n    const content = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      \"QUOTE\",\n    ]).trim()\n\n    if (!content) return \"\"\n\n    const metadata = getQuoteMetadataFromNode(node)\n    let markup = metadata ? `\\n[quote=${metadata}]\\n` : \"\\n\\n[quote]\\n\"\n    markup += content\n    markup += \"\\n[/quote]\"\n    return markup\n  }\n\n  if (node.nodeName === \"PRE\") {\n    const syntax = dataset.syntax || null\n    const code = node.querySelector(\"code\")\n    const content = code ? code.innerText || \"\" : \"\"\n\n    if (!content.trim()) return \"\"\n\n    return \"\\n[code\" + (syntax ? \"=\" + syntax : \"\") + \"]\" + content + \"[/code]\"\n  }\n\n  if (node.nodeName === \"CODE\") {\n    return \"`\" + node.innerText + \"`\"\n  }\n\n  if (node.nodeName === \"P\") {\n    return (\n      \"\\n\" + convertNodesToMarkup(node.childNodes, [...stack, node.nodeName])\n    )\n  }\n\n  if (node.nodeName === \"UL\" || node.nodeName === \"OL\") {\n    const level = stack.filter((item) => item === \"OL\" || item === \"UL\").length\n    const prefix = level === 0 ? \"\\n\" : \"\"\n    return (\n      prefix + convertNodesToMarkup(node.childNodes, [...stack, node.nodeName])\n    )\n  }\n\n  if (node.nodeName === \"LI\") {\n    let prefix = \"\"\n    const level = stack.filter((item) => item === \"OL\" || item === \"UL\").length\n    for (let i = 1; i < level; i++) {\n      prefix += \"    \"\n    }\n\n    const ordered = stack[stack.length - 1] === \"OL\"\n    if (ordered) {\n      prefix += dataset.index ? dataset.index + \". \" : \"1. \"\n    } else {\n      prefix += \"- \"\n    }\n\n    const content = convertNodesToMarkup(node.childNodes, [\n      ...stack,\n      node.nodeName,\n    ])\n    if (!content.trim()) return \"\"\n\n    return \"\\n\" + prefix + content\n  }\n\n  if (node.nodeName === \"SPAN\") {\n    return convertNodesToMarkup(node.childNodes, stack)\n  }\n\n  return \"\"\n}\n","export function getGlobalState() {\n  return window.misagoReply\n}\n\nexport function setGlobalState(disabled, quote) {\n  window.misagoReply = { disabled, quote }\n}\n\nexport function clearGlobalState() {\n  window.misagoReply = null\n}\n","import React from \"react\"\nimport PostingQuoteSelection from \"./PostingQuoteSelection\"\nimport getQuoteMarkup from \"./getQuoteMarkup\"\nimport { clearGlobalState, getGlobalState, setGlobalState } from \"./globalState\"\nimport Start from \"./start\"\nimport StartPrivate from \"./start-private\"\nimport Reply from \"./reply\"\nimport Edit from \"./edit\"\n\nexport default function (props) {\n  switch (props.mode) {\n    case \"START\":\n      return <Start {...props} />\n\n    case \"START_PRIVATE\":\n      return <StartPrivate {...props} />\n\n    case \"REPLY\":\n      return <Reply {...props} />\n\n    case \"EDIT\":\n      return <Edit {...props} />\n\n    default:\n      return null\n  }\n}\n\nexport {\n  PostingQuoteSelection,\n  clearGlobalState,\n  getGlobalState,\n  getQuoteMarkup,\n  setGlobalState,\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport { clearGlobalState, setGlobalState } from \"./globalState\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      post: this.props.default || \"\",\n      attachments: [],\n\n      validators: {\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax\n      .get(this.props.config, this.props.context || null)\n      .then(this.loadSuccess, this.loadError)\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  componentWillUnmount() {\n    clearGlobalState()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const context = this.props.context\n    const newContext = nextProps.context\n\n    if (context && newContext && context.reply === newContext.reply) return\n\n    ajax\n      .get(nextProps.config, nextProps.context || null)\n      .then(this.appendData, snackbar.apiError)\n  }\n\n  loadSuccess = (data) => {\n    this.setState({\n      isReady: true,\n\n      post: data.post\n        ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\"\n        : this.state.post,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  appendData = (data) => {\n    const newPost = data.post\n      ? '[quote=\"@' + data.poster + '\"]\\n' + data.post + \"\\n[/quote]\\n\\n\"\n      : \"\"\n\n    this.setState((prevState, props) => {\n      if (prevState.post.length > 0) {\n        return {\n          post: prevState.post + \"\\n\\n\" + newPost,\n        }\n      }\n\n      return {\n        post: newPost,\n      }\n    })\n\n    this.open()\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      pgettext(\"post reply\", \"Are you sure you want to discard your reply?\")\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onQuote = (quote) => {\n    this.setState(({ post }) => {\n      if (post.length > 0) {\n        return { post: post.trim() + \"\\n\\n\" + quote }\n      }\n\n      return { post: quote }\n    })\n\n    this.open()\n  }\n\n  clean() {\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    setGlobalState(true, this.onQuote)\n\n    return ajax.post(this.props.submit, {\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(pgettext(\"post reply\", \"Your reply has been posted.\"))\n    window.location = success.url.index\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n\n    setGlobalState(false, this.onQuote)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      thread: this.props.thread,\n\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogReply>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogReply {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"post reply submit\", \"Post reply\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogReply>\n      )\n    }\n\n    return (\n      <PostingDialogReply {...dialogProps}>\n        <form\n          className=\"posting-dialog-form\"\n          method=\"POST\"\n          onSubmit={this.handleSubmit}\n        >\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post reply submit\", \"Post reply\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogReply>\n    )\n  }\n}\n\nconst PostingDialogReply = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n  thread,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {interpolate(\n        pgettext(\"post reply\", \"Reply to: %(thread)s\"),\n        { thread: thread.title },\n        true\n      )}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport cleanUsernames from \"./utils/usernames\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    const to = (props.to || []).map((user) => user.username).join(\", \")\n\n    this.state = {\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      to: to,\n      title: \"\",\n      post: \"\",\n      attachments: [],\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      pgettext(\n        \"post thread\",\n        \"Are you sure you want to discard private thread?\"\n      )\n    )\n    if (cancel) {\n      this.close()\n    }\n  }\n\n  onToChange = (event) => {\n    this.changeValue(\"to\", event.target.value)\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  clean() {\n    if (!cleanUsernames(this.state.to).length) {\n      snackbar.error(gettext(\"You have to enter at least one recipient.\"))\n      return false\n    }\n\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      to: cleanUsernames(this.state.to),\n      title: this.state.title,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(pgettext(\"post thread\", \"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.to || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  render() {\n    const dialogProps = {\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    return (\n      <PostingDialogStartPrivate {...dialogProps}>\n        <form className=\"posting-dialog-form\" onSubmit={this.handleSubmit}>\n          <Toolbar className=\"posting-dialog-toolbar\">\n            <ToolbarSection className=\"posting-dialog-thread-recipients\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onToChange}\n                  placeholder={pgettext(\n                    \"post thread\",\n                    \"Recipients, eg.: Danny, Lisa, Alice\"\n                  )}\n                  type=\"text\"\n                  value={this.state.to}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n            <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onTitleChange}\n                  placeholder={pgettext(\"post thread\", \"Thread title\")}\n                  type=\"text\"\n                  value={this.state.title}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n          </Toolbar>\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post thread submit\", \"Start thread\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogStartPrivate>\n    )\n  }\n}\n\nconst PostingDialogStartPrivate = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {pgettext(\"post thread\", \"Start private thread\")}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import React from \"react\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Form from \"misago/components/form\"\nimport * as attachments from \"./utils/attachments\"\nimport { getPostValidators, getTitleValidators } from \"./utils/validators\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\nimport MarkupEditor from \"../MarkupEditor\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\nimport PostingDialog from \"./PostingDialog\"\nimport PostingDialogBody from \"./PostingDialogBody\"\nimport PostingDialogError from \"./PostingDialogError\"\nimport PostingDialogHeader from \"./PostingDialogHeader\"\nimport PostingThreadOptions from \"./PostingThreadOptions\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n\n      error: null,\n\n      minimized: false,\n      fullscreen: false,\n\n      options: null,\n\n      title: \"\",\n      category: props.category || null,\n      categories: [],\n      post: \"\",\n      attachments: [],\n      close: false,\n      hide: false,\n      pin: 0,\n\n      validators: {\n        title: getTitleValidators(),\n        post: getPostValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.config).then(this.loadSuccess, this.loadError)\n  }\n\n  loadSuccess = (data) => {\n    let category = null\n    let options = null\n\n    // hydrate categories, extract posting options\n    const categories = data.map((item) => {\n      // pick first category that allows posting and if it may, override it with initial one\n      if (\n        item.post !== false &&\n        (!category || item.id == this.state.category)\n      ) {\n        category = item.id\n        options = item.post\n      }\n\n      return Object.assign(item, {\n        disabled: item.post === false,\n        label: item.name,\n        value: item.id,\n      })\n    })\n\n    this.setState({\n      isReady: true,\n      options,\n\n      categories,\n      category,\n    })\n  }\n\n  loadError = (rejection) => {\n    this.setState({\n      error: rejection.detail,\n    })\n  }\n\n  onCancel = () => {\n    const cancel = window.confirm(\n      pgettext(\"post thread\", \"Are you sure you want to discard thread?\")\n    )\n    if (cancel) {\n      this.minimize()\n      posting.close()\n    }\n  }\n\n  onTitleChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  onCategoryChange = (event) => {\n    const category = this.state.categories.find((item) => {\n      return event.target.value == item.value\n    })\n\n    // if selected pin is greater than allowed, reduce it\n    let pin = this.state.pin\n    if (category.post.pin && category.post.pin < pin) {\n      pin = category.post.pin\n    }\n\n    this.setState({\n      category: category.id,\n      categoryOptions: category.post,\n\n      pin,\n    })\n  }\n\n  onPostChange = (event) => {\n    this.changeValue(\"post\", event.target.value)\n  }\n\n  onAttachmentsChange = (attachments) => {\n    this.setState(attachments)\n  }\n\n  onClose = () => {\n    this.changeValue(\"close\", true)\n  }\n\n  onOpen = () => {\n    this.changeValue(\"close\", false)\n  }\n\n  onPinGlobally = () => {\n    this.changeValue(\"pin\", 2)\n  }\n\n  onPinLocally = () => {\n    this.changeValue(\"pin\", 1)\n  }\n\n  onUnpin = () => {\n    this.changeValue(\"pin\", 0)\n  }\n\n  onHide = () => {\n    this.changeValue(\"hide\", true)\n  }\n\n  onUnhide = () => {\n    this.changeValue(\"hide\", false)\n  }\n\n  close = () => {\n    this.minimize()\n    posting.close()\n  }\n\n  minimize = () => {\n    this.setState({ fullscreen: false, minimized: true })\n  }\n\n  open = () => {\n    this.setState({ minimized: false })\n    if (this.state.fullscreen) {\n    }\n  }\n\n  fullscreenEnter = () => {\n    this.setState({ fullscreen: true, minimized: false })\n  }\n\n  fullscreenExit = () => {\n    this.setState({ fullscreen: false, minimized: false })\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    if (!this.state.post.trim().length) {\n      snackbar.error(gettext(\"You have to enter a message.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    if (errors.post) {\n      snackbar.error(errors.post[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.submit, {\n      title: this.state.title,\n      category: this.state.category,\n      post: this.state.post,\n      attachments: attachments.clean(this.state.attachments),\n      close: this.state.close,\n      hide: this.state.hide,\n      pin: this.state.pin,\n    })\n  }\n\n  handleSuccess(success) {\n    snackbar.success(pgettext(\"post thread\", \"Your thread has been posted.\"))\n    window.location = success.url\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      const errors = [].concat(\n        rejection.non_field_errors || [],\n        rejection.category || [],\n        rejection.title || [],\n        rejection.post || [],\n        rejection.attachments || []\n      )\n\n      snackbar.error(errors[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    const dialogProps = {\n      minimized: this.state.minimized,\n      minimize: this.minimize,\n      open: this.open,\n\n      fullscreen: this.state.fullscreen,\n      fullscreenEnter: this.fullscreenEnter,\n      fullscreenExit: this.fullscreenExit,\n\n      close: this.onCancel,\n    }\n\n    if (this.state.error) {\n      return (\n        <PostingDialogStart {...dialogProps}>\n          <PostingDialogError message={this.state.error} close={this.close} />\n        </PostingDialogStart>\n      )\n    }\n\n    if (!this.state.isReady) {\n      return (\n        <PostingDialogStart {...dialogProps}>\n          <div className=\"posting-loading ui-preview\">\n            <Toolbar className=\"posting-dialog-toolbar\">\n              <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n                <ToolbarItem auto>\n                  <input className=\"form-control\" disabled={true} type=\"text\" />\n                </ToolbarItem>\n              </ToolbarSection>\n              <ToolbarSection className=\"posting-dialog-category-select\" auto>\n                <ToolbarItem>\n                  <input className=\"form-control\" disabled={true} type=\"text\" />\n                </ToolbarItem>\n              </ToolbarSection>\n            </Toolbar>\n            <MarkupEditor\n              attachments={[]}\n              value={\"\"}\n              submitText={pgettext(\"post thread submit\", \"Post thread\")}\n              disabled={true}\n              onAttachmentsChange={() => {}}\n              onChange={() => {}}\n            />\n          </div>\n        </PostingDialogStart>\n      )\n    }\n\n    const showOptions = !!(\n      this.state.options.close ||\n      this.state.options.hide ||\n      this.state.options.pin\n    )\n\n    return (\n      <PostingDialogStart {...dialogProps}>\n        <form className=\"posting-dialog-form\" onSubmit={this.handleSubmit}>\n          <Toolbar className=\"posting-dialog-toolbar\">\n            <ToolbarSection className=\"posting-dialog-thread-title\" auto>\n              <ToolbarItem auto>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  onChange={this.onTitleChange}\n                  placeholder={pgettext(\"post thread\", \"Thread title\")}\n                  type=\"text\"\n                  value={this.state.title}\n                />\n              </ToolbarItem>\n            </ToolbarSection>\n            <ToolbarSection className=\"posting-dialog-category-select\" auto>\n              <ToolbarItem>\n                <CategorySelect\n                  choices={this.state.categories}\n                  disabled={this.state.isLoading}\n                  onChange={this.onCategoryChange}\n                  value={this.state.category}\n                />\n              </ToolbarItem>\n              {showOptions && (\n                <ToolbarItem shrink>\n                  <PostingThreadOptions\n                    isClosed={this.state.close}\n                    isHidden={this.state.hide}\n                    isPinned={this.state.pin}\n                    disabled={this.state.isLoading}\n                    options={this.state.options}\n                    close={this.onClose}\n                    open={this.onOpen}\n                    hide={this.onHide}\n                    unhide={this.onUnhide}\n                    pinGlobally={this.onPinGlobally}\n                    pinLocally={this.onPinLocally}\n                    unpin={this.onUnpin}\n                  />\n                </ToolbarItem>\n              )}\n            </ToolbarSection>\n          </Toolbar>\n          <MarkupEditor\n            attachments={this.state.attachments}\n            value={this.state.post}\n            submitText={pgettext(\"post thread submit\", \"Start thread\")}\n            disabled={this.state.isLoading}\n            onAttachmentsChange={this.onAttachmentsChange}\n            onChange={this.onPostChange}\n          />\n        </form>\n      </PostingDialogStart>\n    )\n  }\n}\n\nconst PostingDialogStart = ({\n  children,\n  close,\n  minimized,\n  minimize,\n  open,\n  fullscreen,\n  fullscreenEnter,\n  fullscreenExit,\n}) => (\n  <PostingDialog fullscreen={fullscreen} minimized={minimized}>\n    <PostingDialogHeader\n      fullscreen={fullscreen}\n      fullscreenEnter={fullscreenEnter}\n      fullscreenExit={fullscreenExit}\n      minimized={minimized}\n      minimize={minimize}\n      open={open}\n      close={close}\n    >\n      {pgettext(\"post thread\", \"Start new thread\")}\n    </PostingDialogHeader>\n    <PostingDialogBody>{children}</PostingDialogBody>\n  </PostingDialog>\n)\n","import moment from \"moment\"\n\nexport function clean(attachments) {\n  return attachments\n    .filter((attachment) => {\n      return attachment.id && !attachment.isRemoved\n    })\n    .map((a) => {\n      return a.id\n    })\n}\n\nexport function hydrate(attachments) {\n  return attachments.map((attachment) => {\n    return Object.assign({}, attachment, {\n      uploaded_on: moment(attachment.uploaded_on),\n    })\n  })\n}\n","export default function (usernames) {\n  const normalisedNames = usernames\n    .split(\",\")\n    .map((i) => i.trim().toLowerCase())\n  const removedBlanks = normalisedNames.filter((i) => i.length > 0)\n  const removedDuplicates = removedBlanks.filter((name, pos) => {\n    return removedBlanks.indexOf(name) == pos\n  })\n\n  return removedDuplicates\n}\n","import { maxLength, minLength } from \"misago/utils/validators\"\nimport misago from \"misago\"\n\nexport function getTitleValidators() {\n  return [getTitleLengthMin(), getTitleLengthMax()]\n}\n\nexport function getPostValidators() {\n  if (misago.get(\"SETTINGS\").post_length_max) {\n    return [validatePostLengthMin(), validatePostLengthMax()]\n  } else {\n    return [validatePostLengthMin()]\n  }\n}\n\nexport function getTitleLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").thread_title_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Thread title should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function getTitleLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").thread_title_length_max,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Thread title cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Thread title cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMin() {\n  return minLength(\n    misago.get(\"SETTINGS\").post_length_min,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message should be at least %(limit_value)s character long (it has %(show_value)s).\",\n        \"Posted message should be at least %(limit_value)s characters long (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n\nexport function validatePostLengthMax() {\n  return maxLength(\n    misago.get(\"SETTINGS\").post_length_max || 1000000,\n    (limitValue, length) => {\n      const message = ngettext(\n        \"Posted message cannot be longer than %(limit_value)s character (it has %(show_value)s).\",\n        \"Posted message cannot be longer than %(limit_value)s characters (it has %(show_value)s).\",\n        limitValue\n      )\n\n      return interpolate(\n        message,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  if (isVisible(props.post.acl)) {\n    return (\n      <li className=\"event-controls\">\n        <Hide {...props} />\n        <Unhide {...props} />\n        <Delete {...props} />\n      </li>\n    )\n  } else {\n    return null\n  }\n}\n\nexport function isVisible(acl) {\n  return acl.can_hide\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: true,\n        hidden_on: moment(),\n        hidden_by_name: this.props.user.username,\n        url: Object.assign(this.props.post.url, {\n          hidden_by: this.props.user.url,\n        }),\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: true }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (!this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Hide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        is_hidden: false,\n      })\n    )\n\n    const op = { op: \"replace\", path: \"is-hidden\", value: false }\n\n    ajax.patch(this.props.post.api.index, [op]).then(\n      (patch) => {\n        store.dispatch(post.patch(this.props.post, patch))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            is_hidden: true,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    if (this.props.post.is_hidden) {\n      return (\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          {gettext(\"Unhide\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    const decision = window.confirm(\n      gettext(\n        \"Are you sure you wish to delete this event? This action is not reversible!\"\n      )\n    )\n    if (decision) {\n      this.delete()\n    }\n  }\n\n  delete = () => {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    ajax.delete(this.props.post.api.index).then(\n      () => {\n        snackbar.success(gettext(\"Event has been deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(\n          post.patch(this.props.post, {\n            isDeleted: false,\n          })\n        )\n      }\n    )\n  }\n\n  render() {\n    return (\n      <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n        {gettext(\"Delete\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nconst ICON = {\n  changed_title: \"edit\",\n\n  pinned_globally: \"bookmark\",\n  pinned_locally: \"bookmark_border\",\n  unpinned: \"panorama_fish_eye\",\n\n  moved: \"arrow_forward\",\n  merged: \"call_merge\",\n\n  approved: \"done\",\n\n  opened: \"lock_open\",\n  closed: \"lock_outline\",\n\n  unhid: \"visibility\",\n  hid: \"visibility_off\",\n\n  changed_owner: \"grade\",\n  tookover: \"grade\",\n\n  added_participant: \"person_add\",\n\n  owner_left: \"person_outline\",\n  participant_left: \"person_outline\",\n  removed_participant: \"remove_circle_outline\",\n}\n\nconst EventIcon = (props) => (\n  <span className=\"event-icon-bg\">\n    <span className=\"material-icon\">{ICON[props.post.event_type]}</span>\n  </span>\n)\n\nexport default EventIcon\n","import React from \"react\"\nimport Icon from \"./icon\"\nimport Info from \"./info\"\nimport Message from \"./message\"\nimport UnreadLabel from \"./unread-label\"\nimport Waypoint from \"../waypoint\"\n\nexport default function (props) {\n  let className = \"event\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden) {\n    className = \"event post-hidden\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <UnreadLabel post={props.post} />\n      <div className=\"event-body\">\n        <div className=\"event-icon\">\n          <Icon {...props} />\n        </div>\n        <Waypoint className=\"event-content\" post={props.post}>\n          <Message {...props} />\n          <Info {...props} />\n        </Waypoint>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport Controls from \"./controls\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst DATE_URL = '<a href=\"%(url)s\" title=\"%(absolute)s\">%(relative)s</a>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <ul className=\"list-inline event-info\">\n      <Hidden {...props} />\n      <Poster {...props} />\n      <Controls {...props} />\n    </ul>\n  )\n}\n\nexport function Hidden(props) {\n  if (props.post.is_hidden) {\n    let user = null\n    if (props.post.url.hidden_by) {\n      user = interpolate(\n        USER_URL,\n        {\n          url: escapeHtml(props.post.url.hidden_by),\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    } else {\n      user = interpolate(\n        USER_SPAN,\n        {\n          user: escapeHtml(props.post.hidden_by_name),\n        },\n        true\n      )\n    }\n\n    const date = interpolate(\n      DATE_ABBR,\n      {\n        absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n        relative: escapeHtml(props.post.hidden_on.fromNow()),\n      },\n      true\n    )\n\n    const message = interpolate(\n      escapeHtml(gettext(\"Hidden by %(event_by)s %(event_on)s.\")),\n      {\n        event_by: user,\n        event_on: date,\n      },\n      true\n    )\n\n    return (\n      <li\n        className=\"event-hidden-message\"\n        dangerouslySetInnerHTML={{ __html: message }}\n      />\n    )\n  } else {\n    return null\n  }\n}\n\nexport function Poster(props) {\n  let user = null\n  if (props.post.poster) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.post.poster.url),\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.post.poster_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_URL,\n    {\n      url: escapeHtml(props.post.url.index),\n      absolute: escapeHtml(props.post.posted_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.posted_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"By %(event_by)s %(event_on)s.\")),\n    {\n      event_by: user,\n      event_on: date,\n    },\n    true\n  )\n\n  return (\n    <li\n      className=\"event-posters\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst MESSAGE = {\n  pinned_globally: gettext(\"Thread has been pinned globally.\"),\n  pinned_locally: gettext(\"Thread has been pinned locally.\"),\n  unpinned: gettext(\"Thread has been unpinned.\"),\n\n  approved: gettext(\"Thread has been approved.\"),\n\n  opened: gettext(\"Thread has been opened.\"),\n  closed: gettext(\"Thread has been closed.\"),\n\n  unhid: gettext(\"Thread has been revealed.\"),\n  hid: gettext(\"Thread has been made hidden.\"),\n\n  tookover: gettext(\"Took thread over.\"),\n\n  owner_left: gettext(\"Owner has left thread. This thread is now closed.\"),\n  participant_left: gettext(\"Participant has left thread.\"),\n}\n\nconst ITEM_LINK = '<a href=\"%(url)s\" class=\"item-title\">%(name)s</a>'\nconst ITEM_SPAN = '<span class=\"item-title\">%(name)s</span>'\n\nexport default function (props) {\n  if (MESSAGE[props.post.event_type]) {\n    return <p className=\"event-message\">{MESSAGE[props.post.event_type]}</p>\n  } else if (props.post.event_type === \"changed_title\") {\n    return <ChangedTitle {...props} />\n  } else if (props.post.event_type === \"moved\") {\n    return <Moved {...props} />\n  } else if (props.post.event_type === \"merged\") {\n    return <Merged {...props} />\n  } else if (props.post.event_type === \"changed_owner\") {\n    return <ChangedOwner {...props} />\n  } else if (props.post.event_type === \"added_participant\") {\n    return <AddedParticipant {...props} />\n  } else if (props.post.event_type === \"removed_participant\") {\n    return <RemovedParticipant {...props} />\n  } else {\n    return null\n  }\n}\n\nexport function ChangedTitle(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread title has been changed from %(old_title)s.\")\n  )\n  const oldTitle = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.old_title),\n    },\n    true\n  )\n  const message = interpolate(\n    msgstring,\n    {\n      old_title: oldTitle,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Moved(props) {\n  const msgstring = escapeHtml(\n    gettext(\"Thread has been moved from %(from_category)s.\")\n  )\n  const fromCategory = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.from_category.url),\n      name: escapeHtml(props.post.event_context.from_category.name),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      from_category: fromCategory,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function Merged(props) {\n  const msgstring = escapeHtml(\n    gettext(\"The %(merged_thread)s thread has been merged into this thread.\")\n  )\n  const mergedThread = interpolate(\n    ITEM_SPAN,\n    {\n      name: escapeHtml(props.post.event_context.merged_thread),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      merged_thread: mergedThread,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function ChangedOwner(props) {\n  const msgstring = escapeHtml(gettext(\"Changed thread owner to %(user)s.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function AddedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Added %(user)s to thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n\nexport function RemovedParticipant(props) {\n  const msgstring = escapeHtml(gettext(\"Removed %(user)s from thread.\"))\n  const newOwner = interpolate(\n    ITEM_LINK,\n    {\n      url: escapeHtml(props.post.event_context.user.url),\n      name: escapeHtml(props.post.event_context.user.username),\n    },\n    true\n  )\n\n  const message = interpolate(\n    msgstring,\n    {\n      user: newOwner,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"event-message\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\n\nexport default function ({ post }) {\n  if (post.is_read) return null\n\n  return (\n    <div className=\"event-label\">\n      <span className=\"label label-unread\">{gettext(\"New event\")}</span>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Event from \"./event\"\nimport Post from \"./post\"\nimport PostPreview from \"./post/preview\"\n\nexport default function (props) {\n  if (!props.posts.isLoaded) {\n    return (\n      <ul className=\"posts-list ui-preview\">\n        <PostPreview />\n      </ul>\n    )\n  }\n\n  return (\n    <ul className=\"posts-list ui-ready\">\n      {props.posts.results.map((post) => {\n        return <ListItem key={post.id} post={post} {...props} />\n      })}\n    </ul>\n  )\n}\n\nexport function ListItem(props) {\n  if (props.post.is_event) {\n    return <Event {...props} />\n  }\n\n  return <Post {...props} />\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport escapeHtml from \"misago/utils/escape-html\"\nimport formatFilesize from \"misago/utils/file-size\"\n\nconst DATE_ABBR = '<abbr title=\"%(absolute)s\">%(relative)s</abbr>'\nconst USER_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst USER_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\n\nexport default function (props) {\n  return (\n    <div className=\"col-xs-12 col-md-6\">\n      <AttachmentPreview {...props} />\n      <div className=\"post-attachment\">\n        <a\n          href={props.attachment.url.index}\n          className=\"attachment-name item-title\"\n        >\n          {props.attachment.filename}\n        </a>\n        <AttachmentDetails {...props} />\n      </div>\n    </div>\n  )\n}\n\nexport function AttachmentPreview(props) {\n  if (props.attachment.is_image) {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentThumbnail {...props} />\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"post-attachment-preview\">\n        <AttachmentIcon {...props} />\n      </div>\n    )\n  }\n}\n\nexport function AttachmentIcon(props) {\n  return (\n    <a href={props.attachment.url.index} className=\"material-icon\">\n      insert_drive_file\n    </a>\n  )\n}\n\nexport function AttachmentThumbnail(props) {\n  const url = props.attachment.url.thumb || props.attachment.url.index\n  return (\n    <a\n      className=\"post-thumbnail\"\n      href={props.attachment.url.index}\n      style={{ backgroundImage: 'url(\"' + escapeHtml(url) + '\")' }}\n    />\n  )\n}\n\nexport function AttachmentDetails(props) {\n  let user = null\n  if (props.attachment.url.uploader) {\n    user = interpolate(\n      USER_URL,\n      {\n        url: escapeHtml(props.attachment.url.uploader),\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      USER_SPAN,\n      {\n        user: escapeHtml(props.attachment.uploader_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    DATE_ABBR,\n    {\n      absolute: escapeHtml(props.attachment.uploaded_on.format(\"LLL\")),\n      relative: escapeHtml(props.attachment.uploaded_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(\n      gettext(\n        \"%(filetype)s, %(size)s, uploaded by %(uploader)s %(uploaded_on)s.\"\n      )\n    ),\n    {\n      filetype: props.attachment.filetype,\n      size: formatFilesize(props.attachment.size),\n      uploader: user,\n      uploaded_on: date,\n    },\n    true\n  )\n\n  return (\n    <p\n      className=\"post-attachment-description\"\n      dangerouslySetInnerHTML={{ __html: message }}\n    />\n  )\n}\n","import React from \"react\"\nimport batch from \"misago/utils/batch\"\nimport Attachment from \"./attachment\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-attachments\">\n      {batch(props.post.attachments, 2).map((row) => {\n        const key = row\n          .map((a) => {\n            return a ? a.id : 0\n          })\n          .join(\"_\")\n        return <Row key={key} row={row} />\n      })}\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (!post.is_hidden || post.acl.can_see_hidden) && post.attachments\n}\n\nexport function Row(props) {\n  return (\n    <div className=\"row\">\n      {props.row.map((attachment) => {\n        return (\n          <Attachment\n            attachment={attachment}\n            key={attachment ? attachment.id : 0}\n          />\n        )\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport Waypoint from \"../waypoint\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport escapeHtml from \"misago/utils/escape-html\"\n\nconst HIDDEN_BY_URL = '<a href=\"%(url)s\" class=\"item-title\">%(user)s</a>'\nconst HIDDEN_BY_SPAN = '<span class=\"item-title\">%(user)s</span>'\nconst HIDDEN_ON =\n  '<abbr class=\"last-title\" title=\"%(absolute)s\">%(relative)s</abbr>'\n\nexport default function (props) {\n  if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    return <Hidden {...props} />\n  } else if (props.post.content) {\n    return <Default {...props} />\n  } else {\n    return <Invalid {...props} />\n  }\n}\n\nexport function Default({ post }) {\n  const poster = \"@\" + (post.poster ? post.poster.username : post.poster_name)\n\n  return (\n    <Waypoint className=\"post-body\" post={post}>\n      <MisagoMarkup author={poster} markup={post.content} />\n    </Waypoint>\n  )\n}\n\nexport function Hidden(props) {\n  let user = null\n  if (props.post.hidden_by) {\n    user = interpolate(\n      HIDDEN_BY_URL,\n      {\n        url: escapeHtml(props.post.url.hidden_by),\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  } else {\n    user = interpolate(\n      HIDDEN_BY_SPAN,\n      {\n        user: escapeHtml(props.post.hidden_by_name),\n      },\n      true\n    )\n  }\n\n  const date = interpolate(\n    HIDDEN_ON,\n    {\n      absolute: escapeHtml(props.post.hidden_on.format(\"LLL\")),\n      relative: escapeHtml(props.post.hidden_on.fromNow()),\n    },\n    true\n  )\n\n  const message = interpolate(\n    escapeHtml(gettext(\"Hidden by %(hidden_by)s %(hidden_on)s.\")),\n    {\n      hidden_by: user,\n      hidden_on: date,\n    },\n    true\n  )\n\n  return (\n    <Waypoint className=\"post-body post-body-hidden\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post is hidden. You cannot see its contents.\")}\n      </p>\n      <p className=\"text-muted\" dangerouslySetInnerHTML={{ __html: message }} />\n    </Waypoint>\n  )\n}\n\nexport function Invalid(props) {\n  return (\n    <Waypoint className=\"post-body post-body-invalid\" post={props.post}>\n      <p className=\"lead\">\n        {gettext(\"This post's contents cannot be displayed.\")}\n      </p>\n      <p className=\"text-muted\">\n        {gettext(\"This error is caused by invalid post content manipulation.\")}\n      </p>\n    </Waypoint>\n  )\n}\n","import moment from \"moment\"\nimport * as thread from \"misago/reducers/thread\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport function approve(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_unapproved: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const previousState = {\n    is_unapproved: props.post.is_unapproved,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function protect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: true,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unprotect(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_protected: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const previousState = {\n    is_protected: props.post.is_protected,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function hide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(props.post.url, {\n        hidden_by: props.user.url,\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n    hidden_on: props.post.hidden_on,\n    hidden_by_name: props.post.hidden_by_name,\n    url: props.post.url,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unhide(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_hidden: false,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const previousState = {\n    is_hidden: props.post.is_hidden,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function like(props) {\n  const lastLikes = props.post.last_likes || []\n  const concatedLikes = [props.user].concat(lastLikes)\n  const finalLikes =\n    concatedLikes.length > 3 ? concatedLikes.slice(0, -1) : concatedLikes\n\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: true,\n      likes: props.post.likes + 1,\n      last_likes: finalLikes,\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: true }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function unlike(props) {\n  store.dispatch(\n    post.patch(props.post, {\n      is_liked: false,\n      likes: props.post.likes - 1,\n      last_likes: props.post.last_likes.filter((user) => {\n        return !user.id || user.id !== props.user.id\n      }),\n    })\n  )\n\n  const ops = [{ op: \"replace\", path: \"is-liked\", value: false }]\n\n  const previousState = {\n    is_liked: props.post.is_liked,\n    likes: props.post.likes,\n    last_likes: props.post.last_likes,\n  }\n\n  patch(props, ops, previousState)\n}\n\nexport function patch(props, ops, previousState) {\n  ajax.patch(props.post.api.index, ops).then(\n    (newState) => {\n      store.dispatch(post.patch(props.post, newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(post.patch(props.post, previousState))\n    }\n  )\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete this post? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  store.dispatch(\n    post.patch(props.post, {\n      isDeleted: true,\n    })\n  )\n\n  ajax.delete(props.post.api.index).then(\n    () => {\n      snackbar.success(gettext(\"Post has been deleted.\"))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(\n        post.patch(props.post, {\n          isDeleted: false,\n        })\n      )\n    }\n  )\n}\n\nexport function markAsBestAnswer(props) {\n  const { post, user } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: post.id,\n      best_answer_is_protected: post.is_protected,\n      best_answer_marked_on: moment(),\n      best_answer_marked_by: user.id,\n      best_answer_marked_by_name: user.username,\n      best_answer_marked_by_slug: user.slug,\n    })\n  )\n\n  const ops = [\n    { op: \"replace\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function unmarkBestAnswer(props) {\n  const { post } = props\n\n  store.dispatch(\n    thread.update({\n      best_answer: null,\n      best_answer_is_protected: false,\n      best_answer_marked_on: null,\n      best_answer_marked_by: null,\n      best_answer_marked_by_name: null,\n      best_answer_marked_by_slug: null,\n    })\n  )\n\n  const ops = [\n    { op: \"remove\", path: \"best-answer\", value: post.id },\n    { op: \"add\", path: \"acl\", value: true },\n  ]\n\n  const previousState = {\n    best_answer: props.thread.best_answer,\n    best_answer_is_protected: props.thread.best_answer_is_protected,\n    best_answer_marked_on: props.thread.best_answer_marked_on,\n    best_answer_marked_by: props.thread.best_answer_marked_by,\n    best_answer_marked_by_name: props.thread.best_answer_marked_by_name,\n    best_answer_marked_by_slug: props.thread.best_answer_marked_by_slug,\n  }\n\n  patchThread(props, ops, previousState)\n}\n\nexport function patchThread(props, ops, previousState) {\n  ajax.patch(props.thread.api.index, ops).then(\n    (newState) => {\n      if (newState.best_answer_marked_on) {\n        newState.best_answer_marked_on = moment(newState.best_answer_marked_on)\n      }\n      store.dispatch(thread.update(newState))\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail[0])\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      store.dispatch(thread.update(previousState))\n    }\n  )\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Permalink {...props} />\n      <Edit {...props} />\n      <MarkAsBestAnswer {...props} />\n      <UnmarkMarkBestAnswer {...props} />\n      <PostEdits {...props} />\n      <Approve {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Hide {...props} />\n      <Unhide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Permalink extends React.Component {\n  onClick = () => {\n    let permaUrl = window.location.protocol + \"//\"\n    permaUrl += window.location.host\n    permaUrl += this.props.post.url.index\n\n    prompt(gettext(\"Permament link to this post:\"), permaUrl)\n  }\n\n  render() {\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">link</span>\n          {gettext(\"Permament link\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      thread: this.props.thread,\n      post: this.props.post,\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (!this.props.post.acl.can_edit) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Edit\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (post.id === thread.best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box</span>\n          {gettext(\"Mark as best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class UnmarkMarkBestAnswer extends React.Component {\n  onClick = () => {\n    moderation.unmarkBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id !== thread.best_answer) return null\n    if (!thread.acl.can_unmark_best_answer) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">check_box_outline_blank</span>\n          {gettext(\"Unmark best answer\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const message = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      message,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">edit</span>\n          {gettext(\"Changes history\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_approve) return null\n    if (!this.props.post.is_unapproved) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_move) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_protect) return null\n    if (!this.props.post.is_protected) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Remove protection\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_hide) return null\n    if (post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    if (!this.props.post.acl.can_unhide) return null\n    if (!this.props.post.is_hidden) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (post.id === thread.best_answer) return null\n    if (!post.acl.can_delete) return null\n\n    return (\n      <li>\n        <button className=\"btn btn-link\" onClick={this.onClick} type=\"button\">\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Dropdown from \"./dropdown\"\n\nexport default function (props) {\n  return (\n    <div className=\"pull-right dropdown\">\n      <button\n        aria-expanded=\"true\"\n        aria-haspopup=\"true\"\n        className=\"btn btn-default btn-icon dropdown-toggle\"\n        data-toggle=\"dropdown\"\n        type=\"button\"\n      >\n        <span className=\"material-icon\">expand_more</span>\n      </button>\n      <Dropdown {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(success) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move post to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Move post\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move post\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: [this.props.post.id],\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(\n      post.patch(this.props.post, {\n        isDeleted: true,\n      })\n    )\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected post was split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split post\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move this post at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split post into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport function FlagBestAnswer({ post, thread, user }) {\n  if (!(isVisible(post) && post.id === thread.best_answer)) {\n    return null\n  }\n\n  let message = null\n  if (user.id && thread.best_answer_marked_by === user.id) {\n    message = interpolate(\n      gettext(\"Marked as best answer by you %(marked_on)s.\"),\n      {\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  } else {\n    message = interpolate(\n      gettext(\"Marked as best answer by %(marked_by)s %(marked_on)s.\"),\n      {\n        marked_by: thread.best_answer_marked_by_name,\n        marked_on: thread.best_answer_marked_on.fromNow(),\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"post-status-message post-status-best-answer\">\n      <span className=\"material-icon\">check_box</span>\n      <p>{message}</p>\n    </div>\n  )\n}\n\nexport function FlagHidden(props) {\n  if (!(isVisible(props.post) && props.post.is_hidden)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-hidden\">\n      <span className=\"material-icon\">visibility_off</span>\n      <p>\n        {gettext(\n          \"This post is hidden. Only users with permission may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagUnapproved(props) {\n  if (!(isVisible(props.post) && props.post.is_unapproved)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-unapproved\">\n      <span className=\"material-icon\">remove_circle_outline</span>\n      <p>\n        {gettext(\n          \"This post is unapproved. Only users with permission to approve posts and its author may see its contents.\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nexport function FlagProtected(props) {\n  if (!(isVisible(props.post) && props.post.is_protected)) {\n    return null\n  }\n\n  return (\n    <div className=\"post-status-message post-status-protected visible-xs-block\">\n      <span className=\"material-icon\">lock_outline</span>\n      <p>{gettext(\"This post is protected. Only moderators may change it.\")}</p>\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return !post.is_hidden || post.acl.can_see_hidden\n}\n","import React from \"react\"\nimport * as actions from \"./controls/actions\"\nimport LikesModal from \"misago/components/post-likes\"\nimport modal from \"misago/services/modal\"\nimport posting from \"misago/services/posting\"\n\nexport default function (props) {\n  if (!isVisible(props.post)) return null\n\n  return (\n    <div className=\"post-footer\">\n      <MarkAsBestAnswer {...props} />\n      <MarkAsBestAnswerCompact {...props} />\n      <Like {...props} />\n      <Likes\n        lastLikes={props.post.last_likes}\n        likes={props.post.likes}\n        {...props}\n      />\n      <LikesCompact likes={props.post.likes} {...props} />\n      <Reply {...props} />\n      <Edit {...props} />\n    </div>\n  )\n}\n\nexport function isVisible(post) {\n  return (\n    (!post.is_hidden || post.acl.can_see_hidden) &&\n    (post.acl.can_reply ||\n      post.acl.can_edit ||\n      (post.acl.can_see_likes && (post.last_likes || []).length) ||\n      post.acl.can_like)\n  )\n}\n\nexport class MarkAsBestAnswer extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"hidden-xs btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n        {gettext(\"Best answer\")}\n      </button>\n    )\n  }\n}\n\nexport class MarkAsBestAnswerCompact extends React.Component {\n  onClick = () => {\n    actions.markAsBestAnswer(this.props)\n  }\n\n  render() {\n    const { post, thread } = this.props\n\n    if (!thread.acl.can_mark_best_answer) return null\n    if (!post.acl.can_mark_as_best_answer) return null\n    if (thread.best_answer && !thread.acl.can_change_best_answer) return null\n\n    return (\n      <button\n        className=\"visible-xs-inline-block btn btn-default btn-sm pull-left\"\n        disabled={this.props.post.isBusy || post.id === thread.best_answer}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">check_box</span>\n      </button>\n    )\n  }\n}\n\nexport class Like extends React.Component {\n  onClick = () => {\n    if (this.props.post.is_liked) {\n      actions.unlike(this.props)\n    } else {\n      actions.like(this.props)\n    }\n  }\n\n  render() {\n    if (!this.props.post.acl.can_like) return null\n\n    let className = \"btn btn-default btn-sm pull-left\"\n    if (this.props.post.is_liked) {\n      className = \"btn btn-success btn-sm pull-left\"\n    }\n\n    return (\n      <button\n        className={className}\n        disabled={this.props.post.isBusy}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {this.props.post.is_liked ? gettext(\"Liked\") : gettext(\"Like\")}\n      </button>\n    )\n  }\n}\n\nexport class Likes extends React.Component {\n  onClick = () => {\n    modal.show(<LikesModal post={this.props.post} />)\n  }\n\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm pull-left hidden-xs\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          {getLikesMessage(this.props.likes, this.props.lastLikes)}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"pull-left hidden-xs\">\n        {getLikesMessage(this.props.likes, this.props.lastLikes)}\n      </p>\n    )\n  }\n}\n\nexport class LikesCompact extends Likes {\n  render() {\n    const hasLikes = (this.props.post.last_likes || []).length > 0\n    if (!this.props.post.acl.can_see_likes || !hasLikes) return null\n\n    if (this.props.post.acl.can_see_likes === 2) {\n      return (\n        <button\n          className=\"btn btn-link btn-sm likes-compact pull-left visible-xs-block\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">favorite</span>\n          {this.props.likes}\n        </button>\n      )\n    }\n\n    return (\n      <p className=\"likes-compact pull-left visible-xs-block\">\n        <span className=\"material-icon\">favorite</span>\n        {this.props.likes}\n      </p>\n    )\n  }\n}\n\nexport function getLikesMessage(likes, users) {\n  const usernames = users.slice(0, 3).map((u) => u.username)\n\n  if (usernames.length == 1) {\n    return interpolate(\n      gettext(\"%(user)s likes this.\"),\n      {\n        user: usernames[0],\n      },\n      true\n    )\n  }\n\n  const hiddenLikes = likes - usernames.length\n\n  const otherUsers = usernames.slice(0, -1).join(\", \")\n  const lastUser = usernames.slice(-1)[0]\n\n  const usernamesList = interpolate(\n    gettext(\"%(users)s and %(last_user)s\"),\n    {\n      users: otherUsers,\n      last_user: lastUser,\n    },\n    true\n  )\n\n  if (hiddenLikes === 0) {\n    return interpolate(\n      gettext(\"%(users)s like this.\"),\n      {\n        users: usernamesList,\n      },\n      true\n    )\n  }\n\n  const message = ngettext(\n    \"%(users)s and %(likes)s other user like this.\",\n    \"%(users)s and %(likes)s other users like this.\",\n    hiddenLikes\n  )\n\n  return interpolate(\n    message,\n    {\n      users: usernames.join(\", \"),\n      likes: hiddenLikes,\n    },\n    true\n  )\n}\n\nexport class Reply extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n\n      context: {\n        reply: this.props.post.id,\n      },\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_reply) {\n      return (\n        <button\n          className=\"btn btn-primary btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Reply\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n\nexport class Edit extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"EDIT\",\n\n      thread: this.props.thread,\n      post: this.props.post,\n      config: this.props.post.api.editor,\n      submit: this.props.post.api.index,\n    })\n  }\n\n  render() {\n    if (this.props.post.acl.can_edit) {\n      return (\n        <button\n          className=\"hidden-xs btn btn-default btn-sm pull-right\"\n          type=\"button\"\n          onClick={this.onClick}\n        >\n          {gettext(\"Edit\")}\n        </button>\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\nimport Controls from \"./controls\"\nimport Select from \"./select\"\nimport {\n  StatusIcon,\n  getStatusClassName,\n  getStatusDescription,\n} from \"misago/components/user-status\"\nimport PostChangelog from \"misago/components/post-changelog\"\nimport modal from \"misago/services/modal\"\n\nexport default function (props) {\n  return (\n    <div className=\"post-heading\">\n      <UnreadLabel {...props} />\n      <UnreadCompact {...props} />\n      <PostedOn {...props} />\n      <PostedOnCompact {...props} />\n      <PostEdits {...props} />\n      <PostEditsCompacts {...props} />\n      <ProtectedLabel {...props} />\n      <Select {...props} />\n      <Controls {...props} />\n    </div>\n  )\n}\n\nexport function UnreadLabel(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread hidden-xs\">{gettext(\"New post\")}</span>\n  )\n}\n\nexport function UnreadCompact(props) {\n  if (props.post.is_read) return null\n\n  return (\n    <span className=\"label label-unread visible-xs-inline-block\">\n      {gettext(\"New\")}\n    </span>\n  )\n}\n\nexport function PostedOn(props) {\n  const tooltip = interpolate(\n    gettext(\"posted %(posted_on)s\"),\n    {\n      posted_on: props.post.posted_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on hidden-xs\"\n      title={tooltip}\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport function PostedOnCompact(props) {\n  return (\n    <a\n      href={props.post.url.index}\n      className=\"btn btn-link posted-on visible-xs-inline-block\"\n    >\n      {props.post.posted_on.fromNow()}\n    </a>\n  )\n}\n\nexport class PostEdits extends React.Component {\n  onClick = () => {\n    modal.show(<PostChangelog post={this.props.post} />)\n  }\n\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const tooltip = ngettext(\n      \"This post was edited %(edits)s time.\",\n      \"This post was edited %(edits)s times.\",\n      this.props.post.edits\n    )\n\n    const title = interpolate(\n      tooltip,\n      {\n        edits: this.props.post.edits,\n      },\n      true\n    )\n\n    const label = ngettext(\n      \"edited %(edits)s time\",\n      \"edited %(edits)s times\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits hidden-xs\"\n        onClick={this.onClick}\n        title={title}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport class PostEditsCompacts extends PostEdits {\n  render() {\n    const isHidden =\n      this.props.post.is_hidden && !this.props.post.acl.can_see_hidden\n    const isUnedited = this.props.post.edits === 0\n    if (isHidden || isUnedited) return null\n\n    const label = ngettext(\n      \"%(edits)s edit\",\n      \"%(edits)s edits\",\n      this.props.post.edits\n    )\n\n    return (\n      <button\n        className=\"btn btn-link btn-see-edits visible-xs-inline-block\"\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        {interpolate(\n          label,\n          {\n            edits: this.props.post.edits,\n          },\n          true\n        )}\n      </button>\n    )\n  }\n}\n\nexport function ProtectedLabel(props) {\n  const postAuthor = props.post.poster && props.post.poster.id === props.user.id\n  const hasAcl = props.post.acl.can_protect\n  const isVisible =\n    props.user.id && props.post.is_protected && (postAuthor || hasAcl)\n\n  if (!isVisible) {\n    return null\n  }\n\n  return (\n    <span\n      className=\"label label-protected hidden-xs\"\n      title={gettext(\"This post is protected and may not be edited.\")}\n    >\n      <span className=\"material-icon\">lock_outline</span>\n      {gettext(\"protected\")}\n    </span>\n  )\n}\n","import React from \"react\"\nimport Attachments from \"./attachments\"\nimport Body from \"./body\"\nimport {\n  FlagBestAnswer,\n  FlagHidden,\n  FlagUnapproved,\n  FlagProtected,\n} from \"./flags\"\nimport Footer from \"./footer\"\nimport Header from \"./header\"\nimport PostSide from \"./post-side\"\n\nexport default function (props) {\n  let className = \"post\"\n  if (props.post.isDeleted) {\n    className = \"hide\"\n  } else if (props.post.is_hidden && !props.post.acl.can_see_hidden) {\n    className = \"post post-hidden\"\n  }\n\n  if (props.post.poster && props.post.poster.rank.css_class) {\n    className += \" post-\" + props.post.poster.rank.css_class\n  }\n\n  if (!props.post.is_read) {\n    className += \" post-new\"\n  }\n\n  return (\n    <li id={\"post-\" + props.post.id} className={className}>\n      <div className=\"panel panel-default panel-post\">\n        <div className=\"panel-body\">\n          <PostSide {...props} />\n          <div className=\"panel-content\">\n            <Header {...props} />\n            <FlagBestAnswer {...props} />\n            <FlagUnapproved {...props} />\n            <FlagProtected {...props} />\n            <FlagHidden {...props} />\n            <Body {...props} />\n            <Attachments {...props} />\n            <Footer {...props} />\n          </div>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\n\nexport default function ({ post, thread }) {\n  return (\n    <div className=\"post-side post-side-anonymous\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <span>\n            <Avatar className=\"poster-avatar\" size={100} />\n          </span>\n        </div>\n        <div className=\"media-body\">\n          <span className=\"media-heading item-title\">{post.poster_name}</span>\n\n          <span className=\"user-title user-title-anonymous\">\n            {gettext(\"Removed user\")}\n          </span>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default function ({ title, rank }) {\n  return rank.is_tab || !!title || !!rank.title\n}\n","import React from \"react\"\nimport Anonymous from \"./anonymous\"\nimport Registered from \"./registered\"\n\nexport default function (props) {\n  if (props.post.poster) {\n    return <Registered {...props} />\n  }\n\n  return <Anonymous {...props} />\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Controls from \"misago/components/posts-list/post/controls\"\nimport Select from \"misago/components/posts-list/post/select\"\nimport UserStatus, { StatusIcon } from \"misago/components/user-status\"\nimport UserPostcount from \"./user-postcount\"\nimport UserStatusLabel from \"./user-status\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ post, thread }) {\n  const { poster } = post\n\n  return (\n    <div className=\"post-side post-side-registered\">\n      <Select post={post} thread={thread} />\n      <Controls post={post} thread={thread} />\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <a href={poster.url}>\n            <Avatar className=\"poster-avatar\" size={100} user={poster} />\n          </a>\n        </div>\n        <div className=\"media-body\">\n          <div className=\"media-heading\">\n            <a className=\"item-title\" href={poster.url}>\n              {poster.username}\n            </a>\n            <UserStatus status={poster.status}>\n              <StatusIcon status={poster.status} />\n            </UserStatus>\n          </div>\n\n          <UserTitle rank={poster.rank} title={poster.title} />\n\n          <UserStatusLabel poster={poster} />\n          <UserPostcount poster={poster} />\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", poster.posts)\n\n  let className = \"user-postcount\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-xs hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      {interpolate(\n        message,\n        {\n          posts: poster.posts,\n        },\n        true\n      )}\n    </span>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\nimport hasVisibleTitle from \"./has-visible-title\"\n\nexport default function ({ poster }) {\n  let className = \"hidden-xs\"\n  if (hasVisibleTitle(poster)) {\n    className += \" hidden-sm\"\n  }\n\n  return (\n    <span className={className}>\n      <UserStatus status={poster.status}>\n        <StatusLabel status={poster.status} user={poster} />\n      </UserStatus>\n    </span>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title\n  if (!userTitle && rank.is_tab) {\n    userTitle = rank.name\n  }\n\n  if (!userTitle) return null\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <div className={className}>\n        <a href={rank.url}>{userTitle}</a>\n      </div>\n    )\n  }\n\n  return <div className={className}>{userTitle}</div>\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nconst PostPreview = () => (\n  <li className=\"post\">\n    <div className=\"panel panel-default panel-post\">\n      <div className=\"panel-body\">\n        <div className=\"post-side post-side-registered\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <span>\n                <Avatar className=\"poster-avatar\" size=\"100\" />\n              </span>\n            </div>\n            <div className=\"media-body\">\n              <span className=\"media-heading item-title\">\n                <span className=\"ui-preview-text\" style={{ width: \"80px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n              <span className=\"user-title user-title-anonymous\">\n                <span className=\"ui-preview-text\" style={{ width: \"60px\" }}>\n                  &nbsp;\n                </span>\n              </span>\n            </div>\n          </div>\n        </div>\n        <div className=\"panel-content\">\n          <div className=\"post-body\">\n            <article className=\"misago-markup\">\n              <p className=\"ui-preview-text\" style={{ width: \"100%\" }}>\n                &nbsp;\n              </p>\n              <p className=\"ui-preview-text\" style={{ width: \"70%\" }}>\n                &nbsp;\n              </p>\n              <p\n                className=\"ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: \"85%\" }}\n              >\n                &nbsp;\n              </p>\n            </article>\n          </div>\n        </div>\n      </div>\n    </div>\n  </li>\n)\n\nexport default PostPreview\n","import React from \"react\"\nimport * as posts from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    if (this.props.post.isSelected) {\n      store.dispatch(posts.deselect(this.props.post))\n    } else {\n      store.dispatch(posts.select(this.props.post))\n    }\n  }\n\n  render() {\n    if (\n      !(this.props.thread.acl.can_merge_posts || isVisible(this.props.post.acl))\n    ) {\n      return null\n    }\n\n    return (\n      <div className=\"pull-right\">\n        <button\n          className=\"btn btn-default btn-icon\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          <span className=\"material-icon\">\n            {this.props.post.isSelected\n              ? \"check_box\"\n              : \"check_box_outline_blank\"}\n          </span>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport function isVisible(acl) {\n  return (\n    acl.can_approve ||\n    acl.can_hide ||\n    acl.can_protect ||\n    acl.can_unhide ||\n    acl.can_delete ||\n    acl.can_move\n  )\n}\n","import React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  /*\n  Super naive and de-facto placeholder implementation for reading posts on scroll\n  */\n  componentDidMount() {\n    if (this.props.post.is_read) return // don't register read tracker\n\n    $(this.element).waypoint({\n      handler: (direction) => {\n        if (direction !== \"down\" || this.props.post.is_read) return\n\n        // after 1500ms run flag post as read logic\n        window.setTimeout(() => {\n          // check if post's bottom edge is still in viewport\n          const boundingClientRect = this.element.getBoundingClientRect()\n          const offsetBottom =\n            boundingClientRect.height + boundingClientRect.top\n          const clientHeight = document.documentElement.clientHeight\n\n          if (offsetBottom < 5) return // scrolled past the post\n          if (offsetBottom > clientHeight) return // scrolled back up\n\n          // mark post as read\n          store.dispatch(\n            post.patch(this.props.post, {\n              is_read: true,\n            })\n          )\n\n          // call API to let it know we have unread post\n          ajax.post(this.props.post.api.read).then(\n            (data) => {\n              store.dispatch(\n                thread.update(this.props.thread, {\n                  is_read: data.thread_is_read,\n                })\n              )\n            },\n            (rejection) => {\n              snackbar.apiError(rejection)\n            }\n          )\n        }, 1000)\n      },\n      offset: \"bottom-in-view\",\n    })\n  }\n\n  render() {\n    return (\n      <div\n        className={this.props.className}\n        ref={(node) => {\n          if (node) this.element = node\n        }}\n      >\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Status, { StatusIcon, StatusLabel } from \"../user-status\"\n\nconst ProfileDataList = ({ profile }) => (\n  <ul className=\"profile-data-list\">\n    {profile.is_active === false && (\n      <li className=\"user-account-disabled\">\n        <abbr\n          title={gettext(\n            \"This user's account has been disabled by administrator.\"\n          )}\n        >\n          {gettext(\"Account disabled\")}\n        </abbr>\n      </li>\n    )}\n    <li className=\"user-status-display\">\n      <Status user={profile} status={profile.status}>\n        <StatusIcon user={profile} status={profile.status} />\n        <StatusLabel\n          user={profile}\n          status={profile.status}\n          className=\"status-label\"\n        />\n      </Status>\n    </li>\n    {profile.rank.is_tab ? (\n      <li className=\"user-rank\">\n        <a href={profile.rank.url} className=\"item-title\">\n          {profile.rank.name}\n        </a>\n      </li>\n    ) : (\n      <li className=\"user-rank\">\n        <span className=\"item-title\">{profile.rank.name}</span>\n      </li>\n    )}\n    {(profile.title || profile.rank.title) && (\n      <li className=\"user-title\">{profile.title || profile.rank.title}</li>\n    )}\n    <li className=\"user-joined-on\">\n      <abbr\n        title={interpolate(\n          gettext(\"Joined on %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.format(\"LL, LT\"),\n          },\n          true\n        )}\n      >\n        {interpolate(\n          gettext(\"Joined %(joined_on)s\"),\n          {\n            joined_on: profile.joined_on.fromNow(),\n          },\n          true\n        )}\n      </abbr>\n    </li>\n    {profile.email && (\n      <li className=\"user-email\">\n        <a href={\"mailto:\" + profile.email} className=\"item-title\">\n          {profile.email}\n        </a>\n      </li>\n    )}\n  </ul>\n)\n\nexport default ProfileDataList\n","import React from \"react\"\nimport Avatar from \"../avatar\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../PageHeader\"\nimport FollowButton from \"./follow-button\"\nimport MessageButton from \"./message-button\"\nimport ModerationOptions from \"./moderation/nav\"\nimport ProfileDataList from \"./ProfileDataList\"\n\nconst ProfileHeader = ({ profile, user, moderation, message, follow }) => (\n  <PageHeaderContainer>\n    <PageHeader\n      styleName={\n        profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n      }\n    >\n      <PageHeaderBanner\n        styleName={\n          profile.rank.css_class ? \"rank-\" + profile.rank.css_class : \"profile\"\n        }\n      >\n        <div className=\"profile-page-header\">\n          <div className=\"profile-page-header-avatar\">\n            <Avatar\n              className=\"user-avatar hidden-sm hidden-md hidden-lg\"\n              user={profile}\n              size={200}\n              size2x={400}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-md hidden-lg\"\n              user={profile}\n              size={64}\n              size2x={128}\n            />\n            <Avatar\n              className=\"user-avatar hidden-xs hidden-sm\"\n              user={profile}\n              size={128}\n              size2x={256}\n            />\n          </div>\n          <h1>{profile.username}</h1>\n        </div>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"profile-page-header-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol>\n              <ProfileDataList profile={profile} />\n            </FlexRowCol>\n          </FlexRowSection>\n          {message && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <MessageButton\n                  className=\"btn btn-default btn-block btn-outline\"\n                  profile={profile}\n                  user={user}\n                />\n              </FlexRowCol>\n              {moderation.available && !follow && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {follow && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <FollowButton\n                  className=\"btn btn-block btn-outline\"\n                  profile={profile}\n                />\n              </FlexRowCol>\n              {moderation.available && (\n                <FlexRowCol shrink>\n                  <div className=\"dropdown\">\n                    <ProfileModerationButton />\n                    <ModerationOptions\n                      profile={profile}\n                      moderation={moderation}\n                    />\n                  </div>\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n          {moderation.available && !follow && !message && (\n            <FlexRowSection>\n              <FlexRowCol className=\"hidden-xs\" shrink>\n                <div className=\"dropdown\">\n                  <ProfileModerationButton />\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n              <FlexRowCol className=\"hidden-sm hidden-md hidden-lg\">\n                <div className=\"dropdown\">\n                  <button\n                    className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n                    type=\"button\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    <span className=\"material-icon\">settings</span>\n                    {gettext(\"Options\")}\n                  </button>\n                  <ModerationOptions\n                    profile={profile}\n                    moderation={moderation}\n                  />\n                </div>\n              </FlexRowCol>\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst ProfileModerationButton = () => (\n  <button\n    className=\"btn btn-default btn-icon btn-outline dropdown-toggle\"\n    type=\"button\"\n    title={gettext(\"Options\")}\n    data-toggle=\"dropdown\"\n    aria-haspopup=\"true\"\n    aria-expanded=\"false\"\n  >\n    <span className=\"material-icon\">settings</span>\n  </button>\n)\n\nexport default ProfileHeader\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst ProfileNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">{page.icon}</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => (\n          <li key={page.component}>\n            <Link to={baseUrl + page.component + \"/\"}>\n              <span className=\"material-icon\">{page.icon}</span>\n              {page.name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => (\n        <Li path={baseUrl + page.component + \"/\"} key={page.component}>\n          <Link to={baseUrl + page.component + \"/\"}>\n            <span className=\"material-icon\">{page.icon}</span>\n            {page.name}\n          </Link>\n        </Li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ProfileNav\n","import moment from \"moment\"\nimport React from \"react\"\nimport PanelLoader from \"misago/components/panel-loader\"\nimport PanelMessage from \"misago/components/panel-message\"\nimport misago from \"misago/index\"\nimport polls from \"misago/services/polls\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_BAN\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_BAN\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.profile.api.ban)\n  }\n\n  initWithPreloadedData(ban) {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.state = {\n      isLoaded: true,\n      ban,\n    }\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"ban-details\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n      error: this.error,\n    })\n  }\n\n  update = (ban) => {\n    if (ban.expires_on) {\n      ban.expires_on = moment(ban.expires_on)\n    }\n\n    this.setState({\n      isLoaded: true,\n      error: null,\n\n      ban,\n    })\n  }\n\n  error = (error) => {\n    this.setState({\n      isLoaded: true,\n      error: error.detail,\n      ban: null,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Ban details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"ban-details\")\n  }\n\n  getUserMessage() {\n    if (this.state.ban.user_message) {\n      return (\n        <div className=\"panel-body ban-message ban-user-message\">\n          <h4>{gettext(\"User-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.user_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getStaffMessage() {\n    if (this.state.ban.staff_message) {\n      return (\n        <div className=\"panel-body ban-message ban-staff-message\">\n          <h4>{gettext(\"Team-shown ban message\")}</h4>\n          <div\n            className=\"lead\"\n            dangerouslySetInnerHTML={{\n              __html: this.state.ban.staff_message.html,\n            }}\n          />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getExpirationMessage() {\n    if (this.state.ban.expires_on) {\n      if (this.state.ban.expires_on.isAfter(moment())) {\n        let title = interpolate(\n          gettext(\"This ban expires on %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.format(\"LL, LT\"),\n          },\n          true\n        )\n\n        let message = interpolate(\n          gettext(\"This ban expires %(expires_on)s.\"),\n          {\n            expires_on: this.state.ban.expires_on.fromNow(),\n          },\n          true\n        )\n\n        return <abbr title={title}>{message}</abbr>\n      } else {\n        return gettext(\"This ban has expired.\")\n      }\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's ban is permanent.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getPanelBody() {\n    if (this.state.ban) {\n      if (Object.keys(this.state.ban).length) {\n        return (\n          <div>\n            {this.getUserMessage()}\n            {this.getStaffMessage()}\n\n            <div className=\"panel-body ban-expires\">\n              <h4>{gettext(\"Ban expiration\")}</h4>\n              <p className=\"lead\">{this.getExpirationMessage()}</p>\n            </div>\n          </div>\n        )\n      } else {\n        return (\n          <div>\n            <PanelMessage\n              message={gettext(\"No ban is active at the moment.\")}\n            />\n          </div>\n        )\n      }\n    } else if (this.state.error) {\n      return (\n        <div>\n          <PanelMessage icon=\"error_outline\" message={this.state.error} />\n        </div>\n      )\n    } else {\n      return (\n        <div>\n          <PanelLoader />\n        </div>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"profile-ban-details\">\n        <div className=\"panel panel-default\">\n          <div className=\"panel-heading\">\n            <h3 className=\"panel-title\">{gettext(\"Ban details\")}</h3>\n          </div>\n\n          {this.getPanelBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ isAuthenticated, profile }) {\n  let message = null\n  if (isAuthenticated) {\n    message = gettext(\"You are not sharing any details with others.\")\n  } else {\n    message = interpolate(\n      gettext(\"%(username)s is not sharing any details with others.\"),\n      {\n        username: profile.username,\n      },\n      true\n    )\n  }\n\n  return (\n    <div className=\"panel panel-default\">\n      <div className=\"panel-body text-center lead\">{message}</div>\n    </div>\n  )\n}\n","import React from \"react\"\n\nexport default function ({ html, text, url }) {\n  if (html) {\n    return (\n      <div\n        className=\"form-control-static col-md-9\"\n        dangerouslySetInnerHTML={{ __html: html }}\n      />\n    )\n  }\n\n  return (\n    <div className=\"form-control-static col-md-9\">\n      <SafeValue text={text} url={url} />\n    </div>\n  )\n}\n\nexport function SafeValue({ text, url }) {\n  if (url) {\n    return (\n      <p>\n        <a href={url} target=\"_blank\" rel=\"nofollow\">\n          {text || url}\n        </a>\n      </p>\n    )\n  }\n\n  if (text) {\n    return <p>{text}</p>\n  }\n\n  return null\n}\n","import React from \"react\"\nimport FieldValue from \"./field-value\"\n\nexport default function (props) {\n  return (\n    <div className=\"form-group\">\n      <strong className=\"control-label col-md-3\">{props.name}:</strong>\n      <FieldValue {...props} />\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/edit-details\"\n\nexport default function ({ api, display, onCancel, onSuccess }) {\n  if (!display) return null\n\n  return <Form api={api} onCancel={onCancel} onSuccess={onSuccess} />\n}\n","import React from \"react\"\nimport Field from \"./field\"\n\nexport default function ({ fields, name }) {\n  return (\n    <div className=\"panel panel-default panel-profile-details-group\">\n      <div className=\"panel-heading\">\n        <h3 className=\"panel-title\">{name}</h3>\n      </div>\n      <div className=\"panel-body\">\n        <div className=\"form-horizontal\">\n          {fields.map(({ fieldname, html, name, text, url }) => {\n            return (\n              <Field\n                key={fieldname}\n                name={name}\n                html={html}\n                text={text}\n                url={url}\n              />\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport EmptyMessage from \"./empty-message\"\nimport Group from \"./group\"\nimport Loader from \"misago/components/loader\"\n\nexport default function ({\n  display,\n  groups,\n  isAuthenticated,\n  loading,\n  profile,\n}) {\n  if (!display) return null\n\n  if (loading) {\n    return <Loader />\n  }\n\n  if (!groups.length) {\n    return <EmptyMessage isAuthenticated={isAuthenticated} profile={profile} />\n  }\n\n  return (\n    <div>\n      {groups.map((group, i) => {\n        return <Group fields={group.fields} key={i} name={group.name} />\n      })}\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nconst ProfileDetailsHeader = ({ onEdit, showEditButton }) => (\n  <Toolbar>\n    <ToolbarSection auto>\n      <ToolbarItem auto>\n        <h3>{gettext(\"Details\")}</h3>\n      </ToolbarItem>\n    </ToolbarSection>\n    {showEditButton && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <button\n            className=\"btn btn-default btn-outline btn-block\"\n            onClick={onEdit}\n            type=\"button\"\n          >\n            {gettext(\"Edit\")}\n          </button>\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ProfileDetailsHeader\n","import React from \"react\"\nimport Form from \"./form\"\nimport GroupsList from \"./groups-list\"\nimport Header from \"./header\"\nimport ProfileDetailsData from \"misago/data/profile-details\"\nimport { load as loadDetails } from \"misago/reducers/profile-details\"\nimport title from \"misago/services/page-title\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editing: false,\n    }\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Details\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  onCancel = () => {\n    this.setState({ editing: false })\n  }\n\n  onEdit = () => {\n    this.setState({ editing: true })\n  }\n\n  onSuccess = (newDetails) => {\n    const { dispatch, isAuthenticated, profile } = this.props\n\n    let message = null\n    if (isAuthenticated) {\n      message = gettext(\"Your details have been updated.\")\n    } else {\n      message = interpolate(\n        gettext(\"%(username)s's details have been updated.\"),\n        {\n          username: profile.username,\n        },\n        true\n      )\n    }\n\n    snackbar.info(message)\n    dispatch(loadDetails(newDetails))\n    this.setState({ editing: false })\n  }\n\n  render() {\n    const { dispatch, isAuthenticated, profile, profileDetails } = this.props\n    const loading = profileDetails.id !== profile.id\n\n    return (\n      <ProfileDetailsData\n        data={profileDetails}\n        dispatch={dispatch}\n        user={profile}\n      >\n        <div className=\"profile-details\">\n          <Header\n            onEdit={this.onEdit}\n            showEditButton={!!profileDetails.edit && !this.state.editing}\n          />\n          <GroupsList\n            display={!this.state.editing}\n            groups={profileDetails.groups}\n            isAuthenticated={isAuthenticated}\n            loading={loading}\n            profile={profile}\n          />\n          <Form\n            api={profile.api.edit_details}\n            dispatch={dispatch}\n            display={this.state.editing}\n            onCancel={this.onCancel}\n            onSuccess={this.onSuccess}\n          />\n        </div>\n      </ProfileDetailsData>\n    )\n  }\n}\n","import React from \"react\"\nimport Route from \"./route\"\n\nexport function Threads(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have no started threads.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s started no threads.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have started %(threads)s thread.\",\n      \"You have started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        threads: props.profile.threads,\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has started %(threads)s thread.\",\n      \"%(username)s has started %(threads)s threads.\",\n      props.profile.threads\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        threads: props.profile.threads,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.threads}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Threads\")}\n      {...props}\n    />\n  )\n}\n\nexport function Posts(props) {\n  let emptyMessage = null\n  if (props.user.id === props.profile.id) {\n    emptyMessage = gettext(\"You have posted no messages.\")\n  } else {\n    emptyMessage = interpolate(\n      gettext(\"%(username)s posted no messages.\"),\n      {\n        username: props.profile.username,\n      },\n      true\n    )\n  }\n\n  let header = null\n  if (!props.posts.isLoaded) {\n    header = gettext(\"Loading...\")\n  } else if (props.profile.id === props.user.id) {\n    const message = ngettext(\n      \"You have posted %(posts)s message.\",\n      \"You have posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        posts: props.profile.posts,\n      },\n      true\n    )\n  } else {\n    const message = ngettext(\n      \"%(username)s has posted %(posts)s message.\",\n      \"%(username)s has posted %(posts)s messages.\",\n      props.profile.posts\n    )\n\n    header = interpolate(\n      message,\n      {\n        username: props.profile.username,\n        posts: props.profile.posts,\n      },\n      true\n    )\n  }\n\n  return (\n    <Route\n      api={props.profile.api.posts}\n      emptyMessage={emptyMessage}\n      header={header}\n      title={gettext(\"Posts\")}\n      {...props}\n    />\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport * as posts from \"misago/reducers/posts\"\nimport title from \"misago/services/page-title\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  loadItems(start = 0) {\n    ajax\n      .get(this.props.api, {\n        start: start || 0,\n      })\n      .then(\n        (data) => {\n          if (start === 0) {\n            store.dispatch(posts.load(data))\n          } else {\n            store.dispatch(posts.append(data))\n          }\n\n          this.setState({\n            isLoading: false,\n          })\n        },\n        (rejection) => {\n          this.setState({\n            isLoading: false,\n          })\n\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  loadMore = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    this.loadItems(this.props.posts.next)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.title,\n      parent: this.props.profile.username,\n    })\n\n    this.loadItems()\n  }\n\n  render() {\n    return (\n      <div className=\"profile-feed\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.props.header}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n        <Feed\n          isLoading={this.state.isLoading}\n          loadMore={this.loadMore}\n          {...this.props}\n        />\n      </div>\n    )\n  }\n}\n\nexport function Feed(props) {\n  if (props.posts.isLoaded && !props.posts.results.length) {\n    return <p className=\"lead\">{props.emptyMessage}</p>\n  }\n\n  return (\n    <div>\n      <PostFeed\n        isReady={props.posts.isLoaded}\n        posts={props.posts.results}\n        poster={props.profile}\n      />\n      <LoadMoreButton\n        isLoading={props.isLoading}\n        loadMore={props.loadMore}\n        next={props.posts.next}\n      />\n    </div>\n  )\n}\n\nexport function LoadMoreButton(props) {\n  if (!props.next) return null\n\n  return (\n    <div className=\"pager-more\">\n      <Button\n        className=\"btn btn-default btn-outline\"\n        loading={props.isLoading}\n        onClick={props.loadMore}\n      >\n        {gettext(\"Show older activity\")}\n      </Button>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport { patch } from \"misago/reducers/profile\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n    }\n  }\n\n  getClassName() {\n    if (this.props.profile.is_followed) {\n      return this.props.className + \" btn-default btn-following\"\n    } else {\n      return this.props.className + \" btn-default btn-follow\"\n    }\n  }\n\n  getIcon() {\n    if (this.props.profile.is_followed) {\n      return \"favorite\"\n    } else {\n      return \"favorite_border\"\n    }\n  }\n\n  getLabel() {\n    if (this.props.profile.is_followed) {\n      return gettext(\"Following\")\n    } else {\n      return gettext(\"Follow\")\n    }\n  }\n\n  action = () => {\n    this.setState({\n      isLoading: true,\n    })\n\n    if (this.props.profile.is_followed) {\n      store.dispatch(\n        patch({\n          is_followed: false,\n          followers: this.props.profile.followers - 1,\n        })\n      )\n    } else {\n      store.dispatch(\n        patch({\n          is_followed: true,\n          followers: this.props.profile.followers + 1,\n        })\n      )\n    }\n\n    ajax.post(this.props.profile.api.follow).then(\n      (data) => {\n        this.setState({\n          isLoading: false,\n        })\n\n        store.dispatch(patch(data))\n      },\n      (rejection) => {\n        this.setState({\n          isLoading: false,\n        })\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return (\n      <Button\n        className={this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.action}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        {this.getLabel()}\n      </Button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsersList from \"misago/components/users-list\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.setSpecialProps()\n\n    if (misago.has(this.PRELOADED_DATA_KEY)) {\n      this.initWithPreloadedData(misago.pop(this.PRELOADED_DATA_KEY))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWERS\"\n    this.TITLE = gettext(\"Followers\")\n    this.API_FILTER = \"followers\"\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadUsers()\n  }\n\n  loadUsers(page = 1, search = null) {\n    const apiUrl = this.props.profile.api[this.API_FILTER]\n\n    ajax\n      .get(\n        apiUrl,\n        {\n          search: search,\n          page: page || 1,\n        },\n        \"user-\" + this.API_FILTER\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.TITLE,\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadUsers(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadUsers(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You have %(users)s follower.\",\n        \"You have %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s has %(users)s follower.\",\n        \"%(username)s has %(users)s followers.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You have no followers.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s has no followers.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show more (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  getListBody() {\n    if (this.state.isLoaded && this.state.count === 0) {\n      return <p className=\"lead\">{this.getEmptyMessage()}</p>\n    }\n\n    return (\n      <div>\n        <UsersList\n          cols={3}\n          isReady={this.state.isLoaded}\n          users={this.props.users}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n\n  getClassName() {\n    return \"profile-\" + this.API_FILTER\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={gettext(\"Search users...\")}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        {this.getListBody()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Followers from \"misago/components/profile/followers\"\n\nexport default class extends Followers {\n  setSpecialProps() {\n    this.PRELOADED_DATA_KEY = \"PROFILE_FOLLOWS\"\n    this.TITLE = gettext(\"Follows\")\n    this.API_FILTER = \"follows\"\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(users)s user.\",\n        \"Found %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"You are following %(users)s user.\",\n        \"You are following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          users: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s is following %(users)s user.\",\n        \"%(username)s is following %(users)s users.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          users: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\"Search returned no users matching specified criteria.\")\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"You are not following any users.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is not following any users.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n}\n","import React from \"react\"\nimport posting from \"misago/services/posting\"\nimport misago from \"misago\"\n\nexport default class extends React.Component {\n  onClick = () => {\n    posting.open({\n      mode: \"START_PRIVATE\",\n      submit: misago.get(\"PRIVATE_THREADS_API\"),\n\n      to: [this.props.profile],\n    })\n  }\n\n  render() {\n    const canMessage = this.props.user.acl.can_start_private_threads\n    const isProfileOwner = this.props.user.id === this.props.profile.id\n\n    if (!canMessage || isProfileOwner) return null\n\n    return (\n      <button\n        className={this.props.className}\n        onClick={this.onClick}\n        type=\"button\"\n      >\n        <span className=\"material-icon\">comment</span>\n        {gettext(\"Message\")}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { updateAvatar } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      is_avatar_locked: \"\",\n      avatar_lock_user_message: \"\",\n      avatar_lock_staff_message: \"\",\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_avatar).then(\n      (options) => {\n        this.setState({\n          isLoaded: true,\n\n          is_avatar_locked: options.is_avatar_locked,\n          avatar_lock_user_message: options.avatar_lock_user_message || \"\",\n          avatar_lock_staff_message: options.avatar_lock_staff_message || \"\",\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_avatar, {\n      is_avatar_locked: this.state.is_avatar_locked,\n      avatar_lock_user_message: this.state.avatar_lock_user_message,\n      avatar_lock_staff_message: this.state.avatar_lock_staff_message,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    store.dispatch(updateAvatar(this.props.profile, apiResponse.avatar_hash))\n    snackbar.success(gettext(\"Avatar controls have been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Lock avatar\")}\n            helpText={gettext(\n              \"Locking user avatar will prohibit user from changing his avatar and will reset his/her avatar to default one.\"\n            )}\n            for=\"id_is_avatar_locked\"\n          >\n            <YesNoSwitch\n              id=\"id_is_avatar_locked\"\n              disabled={this.state.isLoading}\n              iconOn=\"lock_outline\"\n              iconOff=\"lock_open\"\n              labelOn={gettext(\"Disallow user from changing avatar\")}\n              labelOff={gettext(\"Allow user to change avatar\")}\n              onChange={this.bindInput(\"is_avatar_locked\")}\n              value={this.state.is_avatar_locked}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"User message\")}\n            helpText={gettext(\n              \"Optional message for user explaining why he/she is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_user_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_user_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_user_message\")}\n              value={this.state.avatar_lock_user_message}\n            />\n          </FormGroup>\n\n          <FormGroup\n            label={gettext(\"Staff message\")}\n            helpText={gettext(\n              \"Optional message for forum team members explaining why user is prohibited form changing avatar.\"\n            )}\n            for=\"id_avatar_lock_staff_message\"\n          >\n            <textarea\n              id=\"id_avatar_lock_staff_message\"\n              className=\"form-control\"\n              rows=\"4\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"avatar_lock_staff_message\")}\n              value={this.state.avatar_lock_staff_message}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Close\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Save changes\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-avatar-controls\"\n    } else {\n      return \"modal-dialog modal-avatar-controls\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Avatar controls\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport { addNameChange } from \"misago/reducers/username-history\"\nimport { updateUsername } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      error: null,\n\n      username: \"\",\n      validators: {\n        username: [validators.usernameContent()],\n      },\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.moderate_username).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(this.validate().username[0])\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.moderate_username, {\n      username: this.state.username,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.setState({\n      username: \"\",\n    })\n\n    store.dispatch(\n      addNameChange(apiResponse, this.props.profile, this.props.user)\n    )\n    store.dispatch(\n      updateUsername(this.props.profile, apiResponse.username, apiResponse.slug)\n    )\n\n    snackbar.success(gettext(\"Username has been changed.\"))\n  }\n\n  getFormBody() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New username\")} for=\"id_username\">\n            <input\n              type=\"text\"\n              id=\"id_username\"\n              className=\"form-control\"\n              disabled={this.state.isLoading}\n              onChange={this.bindInput(\"username\")}\n              value={this.state.username}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Change username\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      return this.getFormBody()\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error) {\n      return \"modal-dialog modal-message modal-rename-user\"\n    } else {\n      return \"modal-dialog modal-rename-user\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Change username\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport Loader from \"misago/components/modal-loader\"\nimport ModalMessage from \"misago/components/modal-message\"\nimport YesNoSwitch from \"misago/components/yes-no-switch\"\nimport misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isLoading: false,\n      isDeleted: false,\n      error: null,\n\n      countdown: 5,\n      confirm: false,\n\n      with_content: false,\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(this.props.profile.api.delete).then(\n      () => {\n        this.setState({\n          isLoaded: true,\n        })\n\n        this.countdown()\n      },\n      (rejection) => {\n        this.setState({\n          isLoaded: true,\n          error: rejection.detail,\n        })\n      }\n    )\n  }\n\n  countdown = () => {\n    window.setTimeout(() => {\n      if (this.state.countdown > 1) {\n        this.setState({\n          countdown: this.state.countdown - 1,\n        })\n        this.countdown()\n      } else if (!this.state.confirm) {\n        this.setState({\n          confirm: true,\n        })\n      }\n    }, 1000)\n  }\n\n  send() {\n    return ajax.post(this.props.profile.api.delete, {\n      with_content: this.state.with_content,\n    })\n  }\n\n  handleSuccess() {\n    polls.stop(\"user-profile\")\n\n    if (this.state.with_content) {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account, threads, posts and other content has been deleted.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    } else {\n      this.setState({\n        isDeleted: interpolate(\n          gettext(\n            \"%(username)s's account has been deleted and other content has been hidden.\"\n          ),\n          {\n            username: this.props.profile.username,\n          },\n          true\n        ),\n      })\n    }\n  }\n\n  getButtonLabel() {\n    if (this.state.confirm) {\n      return interpolate(\n        gettext(\"Delete %(username)s\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"Please wait... (%(countdown)ss)\"),\n        {\n          countdown: this.state.countdown,\n        },\n        true\n      )\n    }\n  }\n\n  getForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"User content\")} for=\"id_with_content\">\n            <YesNoSwitch\n              id=\"id_with_content\"\n              disabled={this.state.isLoading}\n              labelOn={gettext(\"Delete together with user's account\")}\n              labelOff={gettext(\"Hide after deleting user's account\")}\n              onChange={this.bindInput(\"with_content\")}\n              value={this.state.with_content}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            type=\"button\"\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n\n          <Button\n            className=\"btn-danger\"\n            loading={this.state.isLoading}\n            disabled={!this.state.confirm}\n          >\n            {this.getButtonLabel()}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  getDeletedBody() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">{this.state.isDeleted}</p>\n          <p>\n            <a href={misago.get(\"USERS_LIST_URL\")}>\n              {gettext(\"Return to users list\")}\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  getModalBody() {\n    if (this.state.error) {\n      return (\n        <ModalMessage icon=\"remove_circle_outline\" message={this.state.error} />\n      )\n    } else if (this.state.isLoaded) {\n      if (this.state.isDeleted) {\n        return this.getDeletedBody()\n      } else {\n        return this.getForm()\n      }\n    } else {\n      return <Loader />\n    }\n  }\n\n  getClassName() {\n    if (this.state.error || this.state.isDeleted) {\n      return \"modal-dialog modal-message modal-delete-account\"\n    } else {\n      return \"modal-dialog modal-delete-account\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Delete user account\")}</h4>\n          </div>\n          {this.getModalBody()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport AvatarControls from \"misago/components/profile/moderation/avatar-controls\"\nimport ChangeUsername from \"misago/components/profile/moderation/change-username\"\nimport DeleteAccount from \"misago/components/profile/moderation/delete-account\"\nimport modal from \"misago/services/modal\"\n\nlet select = function (store) {\n  return {\n    tick: store.tick,\n    user: store.auth,\n    profile: store.profile,\n  }\n}\n\nexport default class extends React.Component {\n  showAvatarDialog = () => {\n    modal.show(connect(select)(AvatarControls))\n  }\n\n  showRenameDialog = () => {\n    modal.show(connect(select)(ChangeUsername))\n  }\n\n  showDeleteDialog = () => {\n    modal.show(connect(select)(DeleteAccount))\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right\" role=\"menu\">\n        {!!moderation.avatar && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showAvatarDialog}\n            >\n              <span className=\"material-icon\">portrait</span>\n              {gettext(\"Avatar controls\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.rename && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showRenameDialog}\n            >\n              <span className=\"material-icon\">credit_card</span>\n              {gettext(\"Change username\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              type=\"button\"\n              className=\"btn btn-link\"\n              onClick={this.showDeleteDialog}\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete account\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport BanDetails from \"./ban-details\"\nimport Details from \"./details\"\nimport { Posts, Threads } from \"./feed\"\nimport Followers from \"./followers\"\nimport Follows from \"./follows\"\nimport UsernameHistory from \"./username-history\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport PageContainer from \"../PageContainer\"\nimport ProfileHeader from \"./ProfileHeader\"\nimport ProfileNav from \"./ProfileNav\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.startPolling(props.profile.api.index)\n  }\n\n  startPolling(api) {\n    polls.start({\n      poll: \"user-profile\",\n      url: api,\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data))\n  }\n\n  render() {\n    const baseUrl = misago.get(\"PROFILE\").url\n    const pages = misago.get(\"PROFILE_PAGES\")\n    const page = pages.filter((page) => {\n      const url = baseUrl + page.component + \"/\"\n      return this.props.location.pathname === url\n    })[0]\n    const { profile, user } = this.props\n    const moderation = getModeration(profile, user)\n    const message =\n      !!user.acl.can_start_private_threads && profile.id !== user.id\n    const follow = !!profile.acl.can_follow && profile.id !== user.id\n\n    return (\n      <div className=\"page page-user-profile\">\n        <ProfileHeader\n          profile={this.props.profile}\n          user={this.props.user}\n          moderation={moderation}\n          message={message}\n          follow={follow}\n        />\n        <PageContainer>\n          <ProfileNav baseUrl={baseUrl} page={page} pages={pages} />\n\n          {this.props.children}\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getModeration = (profile, user) => {\n  const moderation = {\n    available: false,\n    rename: false,\n    avatar: false,\n    delete: false,\n  }\n\n  if (user.is_anonymous) return moderation\n\n  moderation.rename = profile.acl.can_rename\n  moderation.avatar = profile.acl.can_moderate_avatar\n  moderation.delete = profile.acl.can_delete\n  moderation.available = !!(\n    moderation.rename ||\n    moderation.avatar ||\n    moderation.delete\n  )\n\n  return moderation\n}\n\nexport function select(store) {\n  return {\n    isAuthenticated: store.auth.user.id === store.profile.id,\n\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n    posts: store.posts,\n    profile: store.profile,\n    profileDetails: store[\"profile-details\"],\n    \"username-history\": store[\"username-history\"],\n  }\n}\n\nconst COMPONENTS = {\n  posts: Posts,\n  threads: Threads,\n  followers: Followers,\n  follows: Follows,\n  details: Details,\n  \"username-history\": UsernameHistory,\n  \"ban-details\": BanDetails,\n}\n\nexport function paths() {\n  let paths = []\n  misago.get(\"PROFILE_PAGES\").forEach(function (item) {\n    paths.push(\n      Object.assign({}, item, {\n        path: misago.get(\"PROFILE\").url + item.component + \"/\",\n        component: connect(select)(COMPONENTS[item.component]),\n      })\n    )\n  })\n\n  return paths\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Search from \"misago/components/quick-search\"\nimport UsernameHistory from \"misago/components/username-history/root\"\nimport misago from \"misago/index\"\nimport { hydrate, append } from \"misago/reducers/username-history\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../Toolbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"PROFILE_NAME_HISTORY\")) {\n      this.initWithPreloadedData(misago.pop(\"PROFILE_NAME_HISTORY\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n      isBusy: false,\n\n      search: \"\",\n\n      count: data.count,\n      more: data.more,\n\n      page: data.page,\n      pages: data.pages,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n      isBusy: false,\n\n      search: \"\",\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    }\n\n    this.loadChanges()\n  }\n\n  loadChanges(page = 1, search = null) {\n    ajax\n      .get(\n        misago.get(\"USERNAME_CHANGES_API\"),\n        {\n          user: this.props.profile.id,\n          search: search,\n          page: page || 1,\n        },\n        \"search-username-history\"\n      )\n      .then(\n        (data) => {\n          if (page === 1) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            count: data.count,\n            more: data.more,\n\n            page: data.page,\n            pages: data.pages,\n          })\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  componentDidMount() {\n    title.set({\n      title: gettext(\"Username history\"),\n      parent: this.props.profile.username,\n    })\n  }\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadChanges(this.state.page + 1, this.state.search)\n  }\n\n  search = (ev) => {\n    this.setState({\n      isLoaded: false,\n      isBusy: true,\n\n      search: ev.target.value,\n\n      count: 0,\n      more: 0,\n\n      page: 1,\n      pages: 1,\n    })\n\n    this.loadChanges(1, ev.target.value)\n  }\n\n  getLabel() {\n    if (!this.state.isLoaded) {\n      return gettext(\"Loading...\")\n    } else if (this.state.search) {\n      let message = ngettext(\n        \"Found %(changes)s username change.\",\n        \"Found %(changes)s username changes.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else if (this.props.profile.id === this.props.user.id) {\n      let message = ngettext(\n        \"Your username was changed %(changes)s time.\",\n        \"Your username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          changes: this.state.count,\n        },\n        true\n      )\n    } else {\n      let message = ngettext(\n        \"%(username)s's username was changed %(changes)s time.\",\n        \"%(username)s's username was changed %(changes)s times.\",\n        this.state.count\n      )\n\n      return interpolate(\n        message,\n        {\n          username: this.props.profile.username,\n          changes: this.state.count,\n        },\n        true\n      )\n    }\n  }\n\n  getEmptyMessage() {\n    if (this.state.search) {\n      return gettext(\n        \"Search returned no username changes matching specified criteria.\"\n      )\n    } else if (this.props.user.id === this.props.profile.id) {\n      return gettext(\"No name changes have been recorded for your account.\")\n    } else {\n      return interpolate(\n        gettext(\"%(username)s's username was never changed.\"),\n        {\n          username: this.props.profile.username,\n        },\n        true\n      )\n    }\n  }\n\n  getMoreButton() {\n    if (!this.state.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy}\n          onClick={this.loadMore}\n        >\n          {interpolate(\n            gettext(\"Show older (%(more)s)\"),\n            {\n              more: this.state.more,\n            },\n            true\n          )}\n        </Button>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"profile-username-history\">\n        <Toolbar>\n          <ToolbarSection auto>\n            <ToolbarItem auto>\n              <h3>{this.getLabel()}</h3>\n            </ToolbarItem>\n          </ToolbarSection>\n          <ToolbarSection>\n            <ToolbarItem>\n              <Search\n                value={this.state.search}\n                onChange={this.search}\n                placeholder={gettext(\"Search history...\")}\n              />\n            </ToolbarItem>\n          </ToolbarSection>\n        </Toolbar>\n\n        <UsernameHistory\n          isLoaded={this.state.isLoaded}\n          emptyMessage={this.getEmptyMessage()}\n          changes={this.props[\"username-history\"]}\n        />\n\n        {this.getMoreButton()}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.className) {\n      return \"form-search \" + this.props.className\n    } else {\n      return \"form-search\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          value={this.props.value}\n          onChange={this.props.onChange}\n          placeholder={this.props.placeholder || gettext(\"Search...\")}\n        />\n        <span className=\"material-icon\">search</span>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Loader from \"misago/components/loader\"\nimport RegisterForm from \"misago/components/register.js\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      isLoaded: false,\n\n      criteria: null,\n    }\n  }\n\n  showRegisterForm = () => {\n    if (misago.get(\"SETTINGS\").account_activation === \"closed\") {\n      snackbar.info(gettext(\"New registrations are currently disabled.\"))\n    } else if (this.state.isLoaded) {\n      modal.show(<RegisterForm criteria={this.state.criteria} />)\n    } else {\n      this.setState({ isLoading: true })\n\n      Promise.all([\n        captcha.load(),\n        ajax.get(misago.get(\"AUTH_CRITERIA_API\")),\n      ]).then(\n        (result) => {\n          this.setState({\n            isLoading: false,\n            isLoaded: true,\n            criteria: result[1],\n          })\n\n          modal.show(<RegisterForm criteria={result[1]} />)\n        },\n        () => {\n          this.setState({ isLoading: false })\n\n          snackbar.error(\n            gettext(\"Registration is currently unavailable due to an error.\")\n          )\n        }\n      )\n    }\n  }\n\n  getClassName() {\n    return this.props.className + (this.state.isLoading ? \" btn-loading\" : \"\")\n  }\n\n  render() {\n    return (\n      <button\n        className={\"btn \" + this.getClassName()}\n        disabled={this.state.isLoading}\n        onClick={this.showRegisterForm}\n        type=\"button\"\n      >\n        {gettext(\"Register\")}\n        {this.state.isLoading ? <Loader /> : null}\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport PasswordStrength from \"misago/components/password-strength\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport captcha from \"misago/services/captcha\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\nimport * as validators from \"misago/utils/validators\"\n\nexport class RegisterForm extends Form {\n  constructor(props) {\n    super(props)\n\n    const { username, password } = this.props.criteria\n\n    let passwordMinLength = 0\n    password.forEach((item) => {\n      if (item.name === \"MinimumLengthValidator\") {\n        passwordMinLength = item.min_length\n      }\n    })\n\n    const formValidators = {\n      username: [\n        validators.usernameContent(),\n        validators.usernameMinLength(username.min_length),\n        validators.usernameMaxLength(username.max_length),\n      ],\n      email: [validators.email()],\n      password: [validators.passwordMinLength(passwordMinLength)],\n      captcha: captcha.validator(),\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      isLoading: false,\n\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      captcha: \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"USERS_API\"), {\n      username: this.state.username,\n      email: this.state.email,\n      password: this.state.password,\n      captcha: this.state.captcha,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n\n      if (rejection.__all__ && rejection.__all__.length > 0) {\n        snackbar.error(rejection.__all__[0])\n      } else {\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-register\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Register\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <input type=\"type\" style={{ display: \"none\" }} />\n            <input type=\"password\" style={{ display: \"none\" }} />\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonClassName=\"col-xs-12 col-sm-6\"\n                buttonLabel={gettext(\"Join with %(site)s\")}\n                formLabel={gettext(\"Or create forum account:\")}\n              />\n\n              <FormGroup\n                label={gettext(\"Username\")}\n                for=\"id_username\"\n                validation={this.state.errors.username}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_username\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_username_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"username\")}\n                  value={this.state.username}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"E-mail\")}\n                for=\"id_email\"\n                validation={this.state.errors.email}\n              >\n                <input\n                  type=\"text\"\n                  id=\"id_email\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_email_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"email\")}\n                  value={this.state.email}\n                />\n              </FormGroup>\n\n              <FormGroup\n                label={gettext(\"Password\")}\n                for=\"id_password\"\n                validation={this.state.errors.password}\n                extra={\n                  <PasswordStrength\n                    password={this.state.password}\n                    inputs={[this.state.username, this.state.email]}\n                  />\n                }\n              >\n                <input\n                  type=\"password\"\n                  id=\"id_password\"\n                  className=\"form-control\"\n                  aria-describedby=\"id_password_status\"\n                  disabled={this.state.isLoading}\n                  onChange={this.bindInput(\"password\")}\n                  value={this.state.password}\n                />\n              </FormGroup>\n\n              {captcha.component({\n                form: this,\n              })}\n\n              <RegisterLegalFootnote\n                errors={this.state.errors}\n                privacyPolicy={this.state.privacyPolicy}\n                termsOfService={this.state.termsOfService}\n                onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                onTermsOfServiceChange={this.handleTermsOfServiceChange}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <Button className=\"btn-primary\" loading={this.state.isLoading}>\n                {gettext(\"Register account\")}\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class RegisterComplete extends React.Component {\n  getLead() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n      )\n    }\n  }\n\n  getSubscript() {\n    if (this.props.activation === \"user\") {\n      return gettext(\n        \"We have sent an e-mail to %(email)s with link that you have to click to activate your account.\"\n      )\n    } else if (this.props.activation === \"admin\") {\n      return gettext(\n        \"We will send an e-mail to %(email)s when this takes place.\"\n      )\n    }\n  }\n\n  render() {\n    return (\n      <div\n        className=\"modal-dialog modal-message modal-register\"\n        role=\"document\"\n      >\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Registration complete\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n            <div className=\"message-body\">\n              <p className=\"lead\">\n                {interpolate(\n                  this.getLead(),\n                  { username: this.props.username },\n                  true\n                )}\n              </p>\n              <p>\n                {interpolate(\n                  this.getSubscript(),\n                  { email: this.props.email },\n                  true\n                )}\n              </p>\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                type=\"button\"\n              >\n                {gettext(\"Ok\")}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  completeRegistration = (apiResponse) => {\n    if (apiResponse.activation === \"active\") {\n      modal.hide()\n      auth.signIn(apiResponse)\n    } else {\n      this.setState({\n        complete: apiResponse,\n      })\n    }\n  }\n\n  render() {\n    if (this.state.complete) {\n      return (\n        <RegisterComplete\n          activation={this.state.complete.activation}\n          email={this.state.complete.email}\n          username={this.state.complete.username}\n        />\n      )\n    }\n\n    return <RegisterForm callback={this.completeRegistration} {...this.props} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestLinkForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_ACTIVATION_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"already_active\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      snackbar.info(rejection.detail)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Activation link was sent to %(email)s\"),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-activation-link well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            className=\"btn btn-primary btn-block\"\n            type=\"button\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent user={this.state.complete} callback={this.reset} />\n    } else {\n      return <RequestLinkForm callback={this.complete} />\n    }\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class RequestResetForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      email: \"\",\n\n      validators: {\n        email: [validators.email()],\n      },\n    }\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter a valid email address.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"SEND_PASSWORD_RESET_API\"), {\n      email: this.state.email,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if ([\"inactive_user\", \"inactive_admin\"].indexOf(rejection.code) > -1) {\n      this.props.showInactivePage(rejection)\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={gettext(\"Your e-mail address\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"email\")}\n                value={this.state.email}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Send link\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class LinkSent extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"Reset password link was sent to %(email)s\"),\n      {\n        email: this.props.user.email,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-request-password-reset well-done\">\n        <div className=\"done-message\">\n          <div className=\"message-icon\">\n            <span className=\"material-icon\">check</span>\n          </div>\n          <div className=\"message-body\">\n            <p>{this.getMessage()}</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"btn btn-primary btn-block\"\n            onClick={this.props.callback}\n          >\n            {gettext(\"Request another link\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class AccountInactivePage extends React.Component {\n  getActivateButton() {\n    if (this.props.activation === \"inactive_user\") {\n      return (\n        <p>\n          <a href={misago.get(\"REQUEST_ACTIVATION_URL\")}>\n            {gettext(\"Activate your account.\")}\n          </a>\n        </p>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-info page-forgotten-password-inactive\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">info_outline</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{gettext(\"Your account is inactive.\")}</p>\n              <p>{this.props.message}</p>\n              {this.getActivateButton()}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      complete: false,\n    }\n  }\n\n  complete = (apiResponse) => {\n    this.setState({\n      complete: apiResponse,\n    })\n  }\n\n  reset = () => {\n    this.setState({\n      complete: false,\n    })\n  }\n\n  showInactivePage(apiResponse) {\n    ReactDOM.render(\n      <AccountInactivePage\n        activation={apiResponse.code}\n        message={apiResponse.detail}\n      />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    if (this.state.complete) {\n      return <LinkSent callback={this.reset} user={this.state.complete} />\n    }\n\n    return (\n      <RequestResetForm\n        callback={this.complete}\n        showInactivePage={this.showInactivePage}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport ajax from \"misago/services/ajax\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport class ResetPasswordForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      password: \"\",\n    }\n  }\n\n  clean() {\n    if (this.state.password.trim().length) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Enter new password.\"))\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"CHANGE_PASSWORD_API\"), {\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.callback(apiResponse)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"well well-form well-form-reset-password\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <div className=\"control-input\">\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                placeholder={gettext(\"Enter new password\")}\n                disabled={this.state.isLoading}\n                onChange={this.bindInput(\"password\")}\n                value={this.state.password}\n              />\n            </div>\n          </div>\n\n          <Button\n            className=\"btn-primary btn-block\"\n            loading={this.state.isLoading}\n          >\n            {gettext(\"Change password\")}\n          </Button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport class PasswordChangedPage extends React.Component {\n  getMessage() {\n    return interpolate(\n      gettext(\"%(username)s, your password has been changed successfully.\"),\n      {\n        username: this.props.user.username,\n      },\n      true\n    )\n  }\n\n  showSignIn() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    return (\n      <div className=\"page page-message page-message-success page-forgotten-password-changed\">\n        <div className=\"container\">\n          <div className=\"message-panel\">\n            <div className=\"message-icon\">\n              <span className=\"material-icon\">check</span>\n            </div>\n\n            <div className=\"message-body\">\n              <p className=\"lead\">{this.getMessage()}</p>\n              <p>\n                {gettext(\n                  \"You will have to sign in using new password before continuing.\"\n                )}\n              </p>\n              <p>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-primary\"\n                  onClick={this.showSignIn}\n                >\n                  {gettext(\"Sign in\")}\n                </button>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default class extends React.Component {\n  complete = (apiResponse) => {\n    auth.softSignOut()\n\n    // nuke \"redirect_to\" field so we don't end\n    // coming back to error page after sign in\n    $('#hidden-login-form input[name=\"redirect_to\"]').remove()\n\n    ReactDOM.render(\n      <PasswordChangedPage user={apiResponse} />,\n      document.getElementById(\"page-mount\")\n    )\n  }\n\n  render() {\n    return <ResetPasswordForm callback={this.complete} />\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport Form from \"misago/components/form\"\nimport { load as updatePosts } from \"misago/reducers/posts\"\nimport { update as updateSearch } from \"misago/reducers/search\"\nimport { hydrate as updateUsers } from \"misago/reducers/users\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../FlexRow\"\nimport {\n  PageHeader,\n  PageHeaderContainer,\n  PageHeaderBanner,\n  PageHeaderDetails,\n} from \"../PageHeader\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      query: props.search.query,\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.query.length) {\n      this.handleSubmit()\n    }\n  }\n\n  onQueryChange = (event) => {\n    this.changeValue(\"query\", event.target.value)\n  }\n\n  clean() {\n    if (!this.state.query.trim().length) {\n      snackbar.error(gettext(\"You have to enter search query.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    store.dispatch(\n      updateSearch({\n        isLoading: true,\n      })\n    )\n\n    const query = this.state.query.trim()\n\n    let url = window.location.href\n    const urlQuery = url.indexOf(\"?q=\")\n    if (urlQuery > 0) {\n      url = url.substring(0, urlQuery + 3)\n    }\n    window.history.pushState({}, \"\", url + encodeURIComponent(query))\n\n    return ajax.get(misago.get(\"SEARCH_API\"), { q: query })\n  }\n\n  handleSuccess(providers) {\n    store.dispatch(\n      updateSearch({\n        query: this.state.query.trim(),\n        isLoading: false,\n        providers,\n      })\n    )\n\n    providers.forEach((provider) => {\n      if (provider.id === \"users\") {\n        store.dispatch(updateUsers(provider.results.results))\n      } else if (provider.id === \"threads\") {\n        store.dispatch(updatePosts(provider.results))\n      }\n    })\n  }\n\n  handleError(rejection) {\n    snackbar.apiError(rejection)\n\n    store.dispatch(\n      updateSearch({\n        isLoading: false,\n      })\n    )\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <PageHeaderContainer>\n          <PageHeader styleName=\"site-search\">\n            <PageHeaderBanner styleName=\"site-search\">\n              <h1>{gettext(\"Search\")}</h1>\n            </PageHeaderBanner>\n            <PageHeaderDetails className=\"page-header-search-form\">\n              <FlexRow>\n                <FlexRowSection auto>\n                  <FlexRowCol>\n                    <input\n                      className=\"form-control\"\n                      disabled={this.state.isLoading}\n                      type=\"text\"\n                      value={this.state.query}\n                      placeholder={gettext(\"Search\")}\n                      onChange={this.onQueryChange}\n                    />\n                  </FlexRowCol>\n                  <FlexRowCol shrink>\n                    <button\n                      className=\"btn btn-secondary btn-icon btn-outline\"\n                      disabled={this.state.isLoading}\n                    >\n                      <span className=\"material-icon\">search</span>\n                    </button>\n                  </FlexRowCol>\n                </FlexRowSection>\n              </FlexRow>\n            </PageHeaderDetails>\n          </PageHeader>\n        </PageHeaderContainer>\n      </form>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport SearchThreads from \"./threads\"\nimport SearchUsers from \"./users\"\n\nconst components = {\n  threads: SearchThreads,\n  users: SearchUsers,\n}\n\nexport function select(store) {\n  return {\n    posts: store.posts,\n    search: store.search,\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport default function (providers) {\n  return providers.map((provider) => {\n    return {\n      path: provider.url,\n      component: connect(select)(components[provider.id]),\n      provider: provider,\n    }\n  })\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport SearchForm from \"./form\"\nimport SideNav from \"./sidenav\"\n\nexport default function (props) {\n  return (\n    <div className=\"page page-search\">\n      <SearchForm provider={props.provider} search={props.search} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-3\">\n            <SideNav providers={props.search.providers} />\n          </div>\n          <div className=\"col-md-9\">\n            {props.children}\n            <SearchTime provider={props.provider} search={props.search} />\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport function SearchTime(props) {\n  let time = null\n  props.search.providers.forEach((p) => {\n    if (p.id === props.provider.id) {\n      time = p.time\n    }\n  })\n\n  if (time === null) return null\n\n  const copy = gettext(\"Search took %(time)s s to complete\")\n\n  return (\n    <footer className=\"search-footer\">\n      <p>{interpolate(copy, { time }, true)}</p>\n    </footer>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nexport default function (props) {\n  return (\n    <div className=\"list-group nav-side\">\n      {props.providers.map((provider) => {\n        return (\n          <Link\n            activeClassName=\"active\"\n            className=\"list-group-item\"\n            key={provider.id}\n            to={provider.url}\n          >\n            <span className=\"material-icon\">{provider.icon}</span>\n            {provider.name}\n            <Badge results={provider.results} />\n          </Link>\n        )\n      })}\n    </div>\n  )\n}\n\nexport function Badge(props) {\n  if (!props.results) return null\n\n  let count = props.results.count\n  if (count > 1000000) {\n    count = Math.ceil(count / 1000000) + \"KK\"\n  } else if (count > 1000) {\n    count = Math.ceil(count / 1000) + \"K\"\n  }\n\n  return <span className=\"badge\">{count}</span>\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport Results from \"./results\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        posts={props.posts}\n      >\n        <Results\n          provider={props.route.provider}\n          query={props.search.query}\n          {...props.posts}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, posts, query }) {\n  if (posts && posts.count) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? gettext(\"Loading results...\")\n          : gettext(\"No threads matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search threads.\")}\n    </p>\n  )\n}\n","import React from \"react\"\nimport PostFeed from \"misago/components/post-feed\"\nimport Button from \"misago/components/button\"\nimport MisagoMarkup from \"misago/components/misago-markup\"\nimport {\n  update as updatePosts,\n  append as appendPosts,\n} from \"misago/reducers/posts\"\nimport { updateProvider } from \"misago/reducers/search\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function (props) {\n  return (\n    <div>\n      <PostFeed isReady={true} posts={props.results} />\n      <LoadMore {...props} />\n    </div>\n  )\n}\n\nexport class LoadMore extends React.Component {\n  onClick = () => {\n    store.dispatch(\n      updatePosts({\n        isBusy: true,\n      })\n    )\n\n    ajax\n      .get(this.props.provider.api, {\n        q: this.props.query,\n        page: this.props.next,\n      })\n      .then(\n        (providers) => {\n          providers.forEach((provider) => {\n            if (provider.id !== \"threads\") return\n            store.dispatch(appendPosts(provider.results))\n            store.dispatch(updateProvider(provider))\n          })\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n\n          store.dispatch(\n            updatePosts({\n              isBusy: false,\n            })\n          )\n        }\n      )\n  }\n\n  render() {\n    if (!this.props.more) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.props.isBusy}\n          onClick={this.onClick}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport SearchPage from \"../page\"\nimport UsersList from \"misago/components/users-list\"\n\nexport default function (props) {\n  return (\n    <SearchPage provider={props.route.provider} search={props.search}>\n      <Blankslate\n        loading={props.search.isLoading}\n        query={props.search.query}\n        users={props.users}\n      >\n        <UsersList\n          cols={3}\n          isReady={!props.search.isLoading}\n          users={props.users}\n        />\n      </Blankslate>\n    </SearchPage>\n  )\n}\n\nexport function Blankslate({ children, loading, query, users }) {\n  if (users.length) return children\n\n  if (query.length) {\n    return (\n      <p className=\"lead\">\n        {loading\n          ? gettext(\"Loading results...\")\n          : gettext(\"No users matching search query have been found.\")}\n      </p>\n    )\n  }\n\n  return (\n    <p className=\"lead\">\n      {gettext(\"Enter at least two characters to search users.\")}\n    </p>\n  )\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getChoice() {\n    let choice = null\n    this.props.choices.map((item) => {\n      if (item.value === this.props.value) {\n        choice = item\n      }\n    })\n    return choice\n  }\n\n  getIcon() {\n    return this.getChoice().icon\n  }\n\n  getLabel() {\n    return this.getChoice().label\n  }\n\n  change = (value) => {\n    return () => {\n      this.props.onChange({\n        target: {\n          value: value,\n        },\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"btn-group btn-select-group\">\n        <button\n          type=\"button\"\n          className=\"btn btn-select dropdown-toggle\"\n          id={this.props.id || null}\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          aria-describedby={this.props[\"aria-describedby\"] || null}\n          disabled={this.props.disabled || false}\n        >\n          <Icon icon={this.getIcon()} />\n          {this.getLabel()}\n        </button>\n        <ul className=\"dropdown-menu\">\n          {this.props.choices.map((item, i) => {\n            return (\n              <li key={i}>\n                <button\n                  type=\"button\"\n                  className=\"btn-link\"\n                  onClick={this.change(item.value)}\n                >\n                  <Icon icon={item.icon} />\n                  {item.label}\n                </button>\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport function Icon({ icon }) {\n  if (!icon) return null\n\n  return <span className=\"material-icon\">{icon}</span>\n}\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport StartSocialAuth from \"misago/components/StartSocialAuth\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n      showActivation: false,\n\n      username: \"\",\n      password: \"\",\n\n      validators: {\n        username: [],\n        password: [],\n      },\n    }\n  }\n\n  clean() {\n    if (!this.isValid()) {\n      snackbar.error(gettext(\"Fill out both fields.\"))\n      return false\n    } else {\n      return true\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"AUTH_API\"), {\n      username: this.state.username,\n      password: this.state.password,\n    })\n  }\n\n  handleSuccess() {\n    let form = $(\"#hidden-login-form\")\n\n    form.append('<input type=\"text\" name=\"username\" />')\n    form.append('<input type=\"password\" name=\"password\" />')\n\n    // fill out form with user credentials and submit it, this will tell\n    // Misago to redirect user back to right page, and will trigger browser's\n    // key ring feature\n    form.find('input[type=\"hidden\"]').val(ajax.getCsrfToken())\n    form.find('input[name=\"redirect_to\"]').val(window.location.pathname)\n    form.find('input[name=\"username\"]').val(this.state.username)\n    form.find('input[name=\"password\"]').val(this.state.password)\n    form.submit()\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      if (rejection.code === \"inactive_admin\") {\n        snackbar.info(rejection.detail)\n      } else if (rejection.code === \"inactive_user\") {\n        snackbar.info(rejection.detail)\n        this.setState({\n          showActivation: true,\n        })\n      } else if (rejection.code === \"banned\") {\n        showBannedPage(rejection.detail)\n        modal.hide()\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else if (rejection.status === 403 && rejection.ban) {\n      showBannedPage(rejection.ban)\n      modal.hide()\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  getActivationButton() {\n    if (!this.state.showActivation) return null\n\n    return (\n      <a\n        className=\"btn btn-success btn-block\"\n        href={misago.get(\"REQUEST_ACTIVATION_URL\")}\n      >\n        {gettext(\"Activate account\")}\n      </a>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-sm modal-sign-in\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Sign in\")}</h4>\n          </div>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-body\">\n              <StartSocialAuth\n                buttonLabel={gettext(\"Sign in with %(site)s\")}\n                formLabel={gettext(\"Or use your forum account:\")}\n                labelClassName=\"text-center\"\n              />\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_username\"\n                    onChange={this.bindInput(\"username\")}\n                    placeholder={gettext(\"Username or e-mail\")}\n                    type=\"text\"\n                    value={this.state.username}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <div className=\"control-input\">\n                  <input\n                    className=\"form-control input-lg\"\n                    disabled={this.state.isLoading}\n                    id=\"id_password\"\n                    onChange={this.bindInput(\"password\")}\n                    placeholder={gettext(\"Password\")}\n                    type=\"password\"\n                    value={this.state.password}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"modal-footer\">\n              {this.getActivationButton()}\n              <Button\n                className=\"btn-primary btn-block\"\n                loading={this.state.isLoading}\n              >\n                {gettext(\"Sign in\")}\n              </Button>\n              <a\n                className=\"btn btn-default btn-block\"\n                href={misago.get(\"FORGOTTEN_PASSWORD_URL\")}\n              >\n                {gettext(\"Forgot password?\")}\n              </a>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n\nconst TYPES_CLASSES = {\n  info: \"alert-info\",\n  success: \"alert-success\",\n  warning: \"alert-warning\",\n  error: \"alert-danger\",\n}\n\nexport class Snackbar extends React.Component {\n  getSnackbarClass() {\n    let snackbarClass = \"alerts-snackbar\"\n    if (this.props.isVisible) {\n      snackbarClass += \" in\"\n    } else {\n      snackbarClass += \" out\"\n    }\n    return snackbarClass\n  }\n\n  render() {\n    return (\n      <div className={this.getSnackbarClass()}>\n        <p className={\"alert \" + TYPES_CLASSES[this.props.type]}>\n          {this.props.message}\n        </p>\n      </div>\n    )\n  }\n}\n\nexport function select(state) {\n  return state.snackbar\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport PageContainer from \"../PageContainer\"\nimport Header from \"./header\"\n\nconst Complete = ({ activation, backend_name, username }) => {\n  let icon = \"\"\n  let message = \"\"\n  if (activation === \"user\") {\n    message = gettext(\n      \"%(username)s, your account has been created but you need to activate it before you will be able to sign in.\"\n    )\n  } else if (activation === \"admin\") {\n    message = gettext(\n      \"%(username)s, your account has been created but board administrator will have to activate it before you will be able to sign in.\"\n    )\n  } else {\n    message = gettext(\n      \"%(username)s, your account has been created and you have been signed in to it.\"\n    )\n  }\n\n  if (activation === \"active\") {\n    icon = \"check\"\n  } else {\n    icon = \"info_outline\"\n  }\n\n  return (\n    <div className=\"page page-social-auth page-social-auth-register\">\n      <Header backendName={backend_name} />\n      <PageContainer>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-md-offset-3\">\n            <div className=\"panel panel-default panel-form\">\n              <div className=\"panel-heading\">\n                <h3 className=\"panel-title\">\n                  {gettext(\"Registration completed!\")}\n                </h3>\n              </div>\n              <div className=\"panel-body panel-message-body\">\n                <div className=\"message-icon\">\n                  <span className=\"material-icon\">{icon}</span>\n                </div>\n                <div className=\"message-body\">\n                  <p className=\"lead\">\n                    {interpolate(message, { username }, true)}\n                  </p>\n                  <p className=\"help-block\">\n                    <a\n                      className=\"btn btn-default\"\n                      href={misago.get(\"MISAGO_PATH\")}\n                    >\n                      {gettext(\"Return to forum index\")}\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </PageContainer>\n    </div>\n  )\n}\n\nexport default Complete\n","import React from \"react\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nconst Header = ({ backendName }) => {\n  const pageTitleTpl = gettext(\"Sign in with %(backend)s\")\n  const pageTitle = interpolate(pageTitleTpl, { backend: backendName }, true)\n\n  return (\n    <PageHeaderContainer>\n      <PageHeader styleName=\"social-auth\">\n        <PageHeaderBanner styleName=\"social-auth\">\n          <h1>{pageTitle}</h1>\n        </PageHeaderBanner>\n      </PageHeader>\n    </PageHeaderContainer>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport Register from \"./register\"\nimport Complete from \"./complete\"\n\nexport default class SocialAuth extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      step: props.step,\n\n      activation: props.activation || \"\",\n      email: props.email || \"\",\n      username: props.username || \"\",\n    }\n  }\n\n  handleRegistrationComplete = ({ activation, email, step, username }) => {\n    this.setState({ activation, email, step, username })\n  }\n\n  render() {\n    const { backend_name, url } = this.props\n    const { activation, email, step, username } = this.state\n\n    if (step === \"register\") {\n      return (\n        <Register\n          backend_name={backend_name}\n          email={email}\n          url={url}\n          username={username}\n          onRegistrationComplete={this.handleRegistrationComplete}\n        />\n      )\n    }\n\n    return (\n      <Complete\n        activation={activation}\n        backend_name={backend_name}\n        email={email}\n        url={url}\n        username={username}\n      />\n    )\n  }\n}\n","import React from \"react\"\nimport misago from \"misago\"\nimport RegisterLegalFootnote from \"misago/components/RegisterLegalFootnote\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport * as validators from \"misago/utils/validators\"\nimport PageContainer from \"../PageContainer\"\nimport Header from \"./header\"\n\nexport default class Register extends Form {\n  constructor(props) {\n    super(props)\n\n    const formValidators = {\n      email: [validators.email()],\n      username: [validators.usernameContent()],\n    }\n\n    if (!!misago.get(\"TERMS_OF_SERVICE_ID\")) {\n      formValidators.termsOfService = [validators.requiredTermsOfService()]\n    }\n\n    if (!!misago.get(\"PRIVACY_POLICY_ID\")) {\n      formValidators.privacyPolicy = [validators.requiredPrivacyPolicy()]\n    }\n\n    this.state = {\n      email: props.email || \"\",\n      emailProtected: !!props.email,\n      username: props.username || \"\",\n\n      termsOfService: null,\n      privacyPolicy: null,\n\n      validators: formValidators,\n      errors: {},\n\n      isLoading: false,\n    }\n  }\n\n  clean() {\n    let errors = this.validate()\n    let lengths = [\n      this.state.email.trim().length,\n      this.state.username.trim().length,\n    ]\n\n    if (lengths.indexOf(0) !== -1) {\n      snackbar.error(gettext(\"Fill out all fields.\"))\n      return false\n    }\n\n    const { validators } = this.state\n\n    const checkTermsOfService = !!misago.get(\"TERMS_OF_SERVICE_ID\")\n    if (checkTermsOfService && this.state.termsOfService === null) {\n      snackbar.error(validators.termsOfService[0](null))\n      return false\n    }\n\n    const checkPrivacyPolicy = !!misago.get(\"PRIVACY_POLICY_ID\")\n    if (checkPrivacyPolicy && this.state.privacyPolicy === null) {\n      snackbar.error(validators.privacyPolicy[0](null))\n      snackbar.error(gettext(\"You need to accept the privacy policy.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.url, {\n      email: this.state.email,\n      username: this.state.username,\n      terms_of_service: this.state.termsOfService,\n      privacy_policy: this.state.privacyPolicy,\n    })\n  }\n\n  handleSuccess(response) {\n    const { onRegistrationComplete } = this.props\n    onRegistrationComplete(response)\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 200) {\n      // We've entered \"errored\" state because response is HTML instead of exptected JSON\n      const { onRegistrationComplete } = this.props\n      const { username } = this.state\n      onRegistrationComplete({ activation: \"active\", step: \"done\", username })\n    } else if (rejection.status === 400) {\n      const stateUpdate = { errors: rejection }\n      if (rejection.email) {\n        stateUpdate.emailProtected = false\n      }\n      this.setState(stateUpdate)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  handlePrivacyPolicyChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"privacyPolicy\", value)\n  }\n\n  handleTermsOfServiceChange = (event) => {\n    const value = event.target.value\n    this.handleToggleAgreement(\"termsOfService\", value)\n  }\n\n  handleToggleAgreement = (agreement, value) => {\n    this.setState((prevState, props) => {\n      if (prevState[agreement] === null) {\n        const errors = { ...prevState.errors, [agreement]: null }\n        return { errors, [agreement]: value }\n      }\n\n      const validator = this.state.validators[agreement][0]\n      const errors = { ...prevState.errors, [agreement]: [validator(null)] }\n      return { errors, [agreement]: null }\n    })\n  }\n\n  render() {\n    const { backend_name } = this.props\n    const { email, emailProtected, username, isLoading } = this.state\n\n    let emailHelpText = null\n    if (emailProtected) {\n      const emailHelpTextTpl = gettext(\n        \"Your e-mail address has been verified by %(backend)s.\"\n      )\n      emailHelpText = interpolate(\n        emailHelpTextTpl,\n        { backend: backend_name },\n        true\n      )\n    }\n\n    return (\n      <div className=\"page page-social-auth page-social-auth-register\">\n        <Header backendName={backend_name} />\n        <PageContainer>\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <form onSubmit={this.handleSubmit}>\n                <div className=\"panel panel-default panel-form\">\n                  <div className=\"panel-heading\">\n                    <h3 className=\"panel-title\">\n                      {gettext(\"Complete your details\")}\n                    </h3>\n                  </div>\n                  <div className=\"panel-body\">\n                    <FormGroup\n                      for=\"id_username\"\n                      label={gettext(\"Username\")}\n                      validation={this.state.errors.username}\n                    >\n                      <input\n                        type=\"text\"\n                        id=\"id_username\"\n                        className=\"form-control\"\n                        disabled={isLoading}\n                        onChange={this.bindInput(\"username\")}\n                        value={username}\n                      />\n                    </FormGroup>\n                    <FormGroup\n                      for=\"id_email\"\n                      label={gettext(\"E-mail address\")}\n                      helpText={emailHelpText}\n                      validation={\n                        emailProtected ? null : this.state.errors.email\n                      }\n                    >\n                      <input\n                        type=\"email\"\n                        id=\"id_email\"\n                        className=\"form-control\"\n                        disabled={isLoading || emailProtected}\n                        onChange={this.bindInput(\"email\")}\n                        value={email}\n                      />\n                    </FormGroup>\n                    <RegisterLegalFootnote\n                      errors={this.state.errors}\n                      privacyPolicy={this.state.privacyPolicy}\n                      termsOfService={this.state.termsOfService}\n                      onPrivacyPolicyChange={this.handlePrivacyPolicyChange}\n                      onTermsOfServiceChange={this.handleTermsOfServiceChange}\n                    />\n                  </div>\n                  <div className=\"panel-footer\">\n                    <Button\n                      className=\"btn-primary\"\n                      loading={this.state.isLoading}\n                    >\n                      {gettext(\"Sign in\")}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { FlexRow, FlexRowCol, FlexRowSection } from \"../../FlexRow\"\nimport ThreadFlags from \"../../ThreadFlags\"\nimport ThreadReplies from \"../../ThreadReplies\"\nimport ThreadStarterCard from \"../../ThreadStarterCard\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n  PageHeaderDetails,\n} from \"../../PageHeader\"\nimport ThreadModeration from \"../ThreadModeration\"\nimport ThreadSubscriptionButton from \"../ThreadSubscriptionButton\"\nimport ThreadHeaderBreadcrumbs from \"./ThreadHeaderBreadcrumbs\"\n\nconst ThreadHeader = ({ styleName, thread, posts, user, moderation }) => (\n  <PageHeaderContainer>\n    <PageHeader styleName={styleName}>\n      <PageHeaderBanner styleName={styleName}>\n        <ThreadHeaderBreadcrumbs breadcrumbs={thread.path} />\n        <h1>{thread.title}</h1>\n      </PageHeaderBanner>\n      <PageHeaderDetails className=\"page-header-thread-details\">\n        <FlexRow>\n          <FlexRowSection auto>\n            <FlexRowCol shrink>\n              <ThreadStarterCard thread={thread} />\n            </FlexRowCol>\n            <FlexRowCol auto />\n            {thread.replies > 0 && (\n              <FlexRowCol shrink>\n                <ThreadReplies thread={thread} />\n              </FlexRowCol>\n            )}\n            {hasFlags(thread) && (\n              <FlexRowCol shrink>\n                <ThreadFlags thread={thread} />\n              </FlexRowCol>\n            )}\n          </FlexRowSection>\n          {user.is_authenticated && (\n            <FlexRowSection>\n              <FlexRowCol>\n                <ThreadSubscriptionButton thread={thread} />\n              </FlexRowCol>\n              {moderation.enabled && (\n                <FlexRowCol shrink>\n                  <ThreadModeration\n                    thread={thread}\n                    posts={posts}\n                    moderation={moderation}\n                  />\n                </FlexRowCol>\n              )}\n            </FlexRowSection>\n          )}\n        </FlexRow>\n      </PageHeaderDetails>\n    </PageHeader>\n  </PageHeaderContainer>\n)\n\nconst hasFlags = (thread) => {\n  return (\n    thread.is_closed ||\n    thread.is_hidden ||\n    thread.is_unapproved ||\n    thread.weight > 0 ||\n    thread.best_answer ||\n    thread.has_poll ||\n    thread.has_unapproved_posts\n  )\n}\n\nexport default ThreadHeader\n","import React from \"react\"\nimport {\n  Breadcrumbs,\n  BreadcrumbsCategory,\n  BreadcrumbsRootCategory,\n} from \"../../Breadcrumbs\"\n\nconst ThreadHeaderBreadcrumbs = ({ breadcrumbs }) => (\n  <Breadcrumbs>\n    {breadcrumbs.map((category) =>\n      category.special_role ? (\n        <BreadcrumbsRootCategory key={category.id} category={category} />\n      ) : (\n        <BreadcrumbsCategory key={category.id} category={category} />\n      )\n    )}\n  </Breadcrumbs>\n)\n\nexport default ThreadHeaderBreadcrumbs\n","import ThreadHeader from \"./ThreadHeader\"\n\nexport default ThreadHeader\n","import React from \"react\"\nimport ThreadModerationOptions from \"./moderation/thread\"\n\nconst ThreadModeration = ({ thread, posts, moderation }) => (\n  <div className=\"dropdown\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={gettext(\"Thread options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={thread.isBusy}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadModerationOptions\n      thread={thread}\n      posts={posts}\n      moderation={moderation}\n    />\n  </div>\n)\n\nexport default ThreadModeration\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadPagination = ({ baseUrl, posts }) => (\n  <div className=\"misago-pagination\">\n    {posts.isLoaded && posts.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (posts.previous > 1 ? posts.previous + \"/\" : \"\")}\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.next + \"/\"}\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {posts.isLoaded && posts.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + posts.last + \"/\"}\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nexport default ThreadPagination\n","import classnames from \"classnames\"\nimport React from \"react\"\n\nconst ThreadPollButton = ({ compact, disabled, onClick }) => (\n  <button\n    className={classnames(\"btn btn-default btn-outline\", {\n      \"btn-block\": !compact,\n      \"btn-icon\": compact,\n    })}\n    type=\"button\"\n    title={compact ? gettext(\"Add poll\") : null}\n    disabled={disabled}\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">poll</span>\n    {!compact && gettext(\"Add poll\")}\n  </button>\n)\n\nexport default ThreadPollButton\n","import React from \"react\"\n\nconst ThreadPostsLeft = ({ posts }) => {\n  if (posts.more) {\n    return (\n      <p>\n        {interpolate(\n          ngettext(\n            \"There is %(more)s more post in this thread.\",\n            \"There are %(more)s more posts in this thread.\",\n            posts.more\n          ),\n          { more: posts.more },\n          true\n        )}\n      </p>\n    )\n  }\n\n  return <p>{gettext(\"There are no more posts in this thread.\")}</p>\n}\n\nexport default ThreadPostsLeft\n","import React from \"react\"\nimport { ThreadPostsModerationOptions } from \"./moderation/posts\"\n\nconst ThreadPostsModeration = ({ thread, user, selection, dropup }) => (\n  <div className={dropup ? \"dropup\" : \"dropdown\"}>\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={gettext(\"Posts options\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={selection.length === 0}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ThreadPostsModerationOptions\n      thread={thread}\n      user={user}\n      selection={selection}\n    />\n  </div>\n)\n\nexport default ThreadPostsModeration\n","import React from \"react\"\n\nconst ThreadReplyButton = ({ onClick }) => (\n  <button\n    className=\"btn btn-primary btn-outline btn-block\"\n    type=\"button\"\n    onClick={onClick}\n  >\n    <span className=\"material-icon\">chat</span>\n    {gettext(\"Reply\")}\n  </button>\n)\n\nexport default ThreadReplyButton\n","import React from \"react\"\n\nconst ThreadShortcutsButton = ({ user, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-icon\"\n      title={gettext(\"Shortcuts\")}\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">bookmark</span>\n    </button>\n    <ul className=\"dropdown-menu\">\n      {user.is_authenticated && thread.is_new && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.new_post}>\n            <span className=\"material-icon\">comment</span>\n            {gettext(\"Go to new post\")}\n          </a>\n        </li>\n      )}\n      {thread.best_answer && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.best_answer}>\n            <span className=\"material-icon\">check_circle</span>\n            {gettext(\"Go to best answer\")}\n          </a>\n        </li>\n      )}\n      {thread.has_unapproved_posts && thread.acl.can_approve && (\n        <li>\n          <a className=\"btn btn-link\" href={thread.url.unapproved_post}>\n            <span className=\"material-icon\">visibility</span>\n            {gettext(\"Go to unapproved post\")}\n          </a>\n        </li>\n      )}\n      <li>\n        <a className=\"btn btn-link\" href={thread.url.last_post}>\n          <span className=\"material-icon\">reply</span>\n          {gettext(\"Go to last post\")}\n        </a>\n      </li>\n    </ul>\n  </div>\n)\n\nexport default ThreadShortcutsButton\n","import classnames from \"classnames\"\nimport React from \"react\"\nimport * as actions from \"../../reducers/thread\"\nimport ajax from \"../../services/ajax\"\nimport snackbar from \"../../services/snackbar\"\nimport store from \"../../services/store\"\n\nconst ThreadSubscriptionButton = ({ stickToBottom, thread }) => (\n  <div className=\"dropdown\">\n    <button\n      className=\"btn btn-default btn-outline btn-block\"\n      aria-expanded=\"true\"\n      aria-haspopup=\"true\"\n      data-toggle=\"dropdown\"\n      type=\"button\"\n    >\n      <span className=\"material-icon\">{getIcon(thread.subscription)}</span>\n      {getLabel(thread.subscription)}\n    </button>\n    <ul\n      className={classnames(\"dropdown-menu dropdown-menu-right\", {\n        \"stick-to-bottom\": stickToBottom,\n      })}\n    >\n      <li>\n        <button className=\"btn btn-link\" onClick={() => unsubscribe(thread)}>\n          <span className=\"material-icon\">star_border</span>\n          {gettext(\"Unsubscribe\")}\n        </button>\n      </li>\n      <li>\n        <button className=\"btn btn-link\" onClick={() => alert(thread)}>\n          <span className=\"material-icon\">star_half</span>\n          {gettext(\"Subscribe\")}\n        </button>\n      </li>\n      <li>\n        <button className=\"btn btn-link\" onClick={() => email(thread)}>\n          <span className=\"material-icon\">star</span>\n          {gettext(\"Subscribe with e-mail\")}\n        </button>\n      </li>\n    </ul>\n  </div>\n)\n\nfunction getIcon(subscription) {\n  if (subscription === true) return \"star\"\n  if (subscription === false) return \"star_half\"\n\n  return \"star_border\"\n}\n\nfunction getLabel(subscription) {\n  if (subscription === true) return gettext(\"E-mail\")\n  if (subscription === false) return gettext(\"Enabled\")\n\n  return gettext(\"Disabled\")\n}\n\nfunction alert(thread) {\n  if (thread.subscription !== false) {\n    update(thread, false, \"notify\")\n  }\n}\n\nfunction email(thread) {\n  if (thread.subscription !== true) {\n    update(thread, true, \"email\")\n  }\n}\n\nfunction unsubscribe(thread) {\n  if (thread.subscription !== null) {\n    update(thread, null, \"unsubscribe\")\n  }\n}\n\nfunction update(thread, newState, value) {\n  const oldState = {\n    subscription: thread.subscription,\n  }\n\n  store.dispatch(\n    actions.update({\n      subscription: newState,\n    })\n  )\n\n  ajax\n    .patch(thread.api.index, [\n      { op: \"replace\", path: \"subscription\", value: value },\n    ])\n    .then(\n      (finalState) => {\n        store.dispatch(actions.update(finalState))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        store.dispatch(actions.update(oldState))\n      }\n    )\n}\n\nexport default ThreadSubscriptionButton\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPagination from \"./ThreadPagination\"\nimport ThreadPostsLeft from \"./ThreadPostsLeft\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadSubscriptionButton from \"./ThreadSubscriptionButton\"\n\nconst ThreadToolbarBottom = ({\n  thread,\n  posts,\n  user,\n  selection,\n  moderation,\n  onReply,\n}) => (\n  <Toolbar>\n    <ToolbarSection>\n      <ToolbarItem>\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\n      </ToolbarItem>\n      {moderation.enabled && (\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadPostsModeration\n            thread={thread}\n            user={user}\n            selection={selection}\n            dropup\n          />\n        </ToolbarItem>\n      )}\n    </ToolbarSection>\n    <ToolbarSection className=\"hidden-xs hidden-sm\" auto>\n      <ToolbarItem>\n        <ThreadPostsLeft posts={posts} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSpacer className=\"hidden-md hidden-lg\" />\n    {user.is_authenticated && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadSubscriptionButton thread={thread} />\n        </ToolbarItem>\n        {thread.acl.can_reply && (\n          <ToolbarItem>\n            <ThreadReplyButton onClick={onReply} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem className=\"hidden-xs\" shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n              dropup\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarBottom\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadPagination from \"./ThreadPagination\"\nimport ThreadPollButton from \"./ThreadPollButton\"\nimport ThreadPostsModeration from \"./ThreadPostsModeration\"\nimport ThreadReplyButton from \"./ThreadReplyButton\"\nimport ThreadShortcutsButton from \"./ThreadShortcutsButton\"\n\nconst ThreadToolbarTop = ({\n  thread,\n  posts,\n  user,\n  pollDisabled,\n  selection,\n  moderation,\n  onPoll,\n  onReply,\n}) => (\n  <Toolbar>\n    <ToolbarSection className=\"hidden-xs\">\n      <ToolbarItem>\n        <ThreadShortcutsButton thread={thread} user={user} />\n      </ToolbarItem>\n      <ToolbarItem className=\"hidden-xs hidden-sm\">\n        <ThreadPagination baseUrl={thread.url.index} posts={posts} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSpacer />\n    {thread.acl.can_start_poll && !thread.poll && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadPollButton disabled={pollDisabled} onClick={onPoll} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    {thread.acl.can_reply ? (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton thread={thread} user={user} />\n        </ToolbarItem>\n        <ToolbarItem>\n          <ThreadReplyButton onClick={onReply} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n            <ThreadPollButton\n              disabled={pollDisabled}\n              onClick={onPoll}\n              compact\n            />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem className=\"hidden-xs\" shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    ) : (\n      <ToolbarSection>\n        <ToolbarItem className=\"hidden-sm hidden-md hidden-lg\" shrink>\n          <ThreadShortcutsButton thread={thread} user={user} />\n        </ToolbarItem>\n        {thread.acl.can_start_poll && !thread.poll && (\n          <ToolbarItem>\n            <ThreadPollButton disabled={pollDisabled} onClick={onPoll} />\n          </ToolbarItem>\n        )}\n        {moderation.enabled && (\n          <ToolbarItem shrink>\n            <ThreadPostsModeration\n              thread={thread}\n              user={user}\n              selection={selection}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadToolbarTop\n","import moment from \"moment\"\nimport React from \"react\"\nimport * as post from \"misago/reducers/post\"\nimport * as posts from \"misago/reducers/posts\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ErrorsList from \"./errors-list\"\n\nexport function approve(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-unapproved\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_unapproved: post.is_unapproved,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function protect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: true,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unprotect(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-protected\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: false,\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_protected: post.is_protected,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function hide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: true }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: true,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function unhide(props) {\n  const { selection } = props\n\n  const ops = [{ op: \"replace\", path: \"is-hidden\", value: false }]\n\n  const newState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: false,\n      hidden_on: moment(),\n      hidden_by_name: props.user.username,\n      url: Object.assign(post.url, {\n        hidden_by: props.user.url,\n      }),\n    }\n  })\n\n  const previousState = selection.map((post) => {\n    return {\n      id: post.id,\n      is_hidden: post.is_hidden,\n      hidden_on: post.hidden_on,\n      hidden_by_name: post.hidden_by_name,\n      url: post.url,\n    }\n  })\n\n  patch(props, ops, newState, previousState)\n}\n\nexport function patch(props, ops, newState, previousState) {\n  const { selection, thread } = props\n\n  // patch selected items\n  newState.forEach((item) => {\n    post.patch(item, item)\n  })\n\n  // deselect all the things\n  store.dispatch(posts.deselectAll())\n\n  // call ajax\n  const data = {\n    ops,\n\n    ids: selection.map((post) => {\n      return post.id\n    }),\n  }\n\n  ajax.patch(thread.api.posts.index, data).then(\n    (data) => {\n      data.forEach((item) => {\n        store.dispatch(post.patch(item, item))\n      })\n    },\n    (rejection) => {\n      if (rejection.status !== 400) {\n        // rollback all\n        previousState.forEach((item) => {\n          store.dispatch(post.patch(item, item))\n        })\n        return snackbar.apiError(rejection)\n      }\n\n      let errors = []\n      let rollback = []\n\n      rejection.forEach((item) => {\n        if (item.detail) {\n          errors.push(item)\n          rollback.push(item.id)\n        } else {\n          store.dispatch(post.patch(item, item))\n        }\n\n        previousState.forEach((item) => {\n          if (rollback.indexOf(item) !== -1) {\n            store.dispatch(post.patch(item, item))\n          }\n        })\n      })\n\n      let posts = {}\n      selection.forEach((item) => {\n        posts[item.id] = item\n      })\n\n      modal.show(<ErrorsList errors={errors} posts={posts} />)\n    }\n  )\n}\n\nexport function merge(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to merge selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.slice(1).map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  ajax\n    .post(props.thread.api.posts.merge, {\n      posts: props.selection.map((post) => post.id),\n    })\n    .then(\n      (data) => {\n        store.dispatch(post.patch(data, post.hydrate(data)))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail)\n        } else {\n          snackbar.apiError(rejection)\n        }\n\n        props.selection.slice(1).map((selection) => {\n          store.dispatch(\n            post.patch(selection, {\n              isDeleted: false,\n            })\n          )\n        })\n      }\n    )\n\n  store.dispatch(posts.deselectAll())\n}\n\nexport function remove(props) {\n  let confirmed = window.confirm(\n    gettext(\n      \"Are you sure you want to delete selected posts? This action is not reversible!\"\n    )\n  )\n  if (!confirmed) {\n    return\n  }\n\n  props.selection.map((selection) => {\n    store.dispatch(\n      post.patch(selection, {\n        isDeleted: true,\n      })\n    )\n  })\n\n  const ids = props.selection.map((post) => {\n    return post.id\n  })\n\n  ajax.delete(props.thread.api.posts.index, ids).then(\n    () => {\n      return\n    },\n    (rejection) => {\n      if (rejection.status === 400) {\n        snackbar.error(rejection.detail)\n      } else {\n        snackbar.apiError(rejection)\n      }\n\n      props.selection.map((selection) => {\n        store.dispatch(\n          post.patch(selection, {\n            isDeleted: false,\n          })\n        )\n      })\n    }\n  )\n\n  store.dispatch(posts.deselectAll())\n}\n","import React from \"react\"\nimport modal from \"misago/services/modal\"\nimport * as moderation from \"./actions\"\nimport MoveModal from \"./move\"\nimport SplitModal from \"./split\"\n\nexport default function (props) {\n  return (\n    <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n      <Approve {...props} />\n      <Merge {...props} />\n      <Move {...props} />\n      <Split {...props} />\n      <Protect {...props} />\n      <Unprotect {...props} />\n      <Unhide {...props} />\n      <Hide {...props} />\n      <Delete {...props} />\n    </ul>\n  )\n}\n\nexport class Approve extends React.Component {\n  onClick = () => {\n    moderation.approve(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_approve && post.is_unapproved\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">done</span>\n          {gettext(\"Approve\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Merge extends React.Component {\n  onClick = () => {\n    moderation.merge(this.props)\n  }\n\n  render() {\n    const isVisible =\n      this.props.selection.length > 1 &&\n      this.props.selection.find((post) => {\n        return post.acl.can_merge\n      })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_merge</span>\n          {gettext(\"Merge\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Move extends React.Component {\n  onClick = () => {\n    modal.show(<MoveModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">arrow_forward</span>\n          {gettext(\"Move\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Split extends React.Component {\n  onClick = () => {\n    modal.show(<SplitModal {...this.props} />)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_move\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">call_split</span>\n          {gettext(\"Split\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Protect extends React.Component {\n  onClick = () => {\n    moderation.protect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return !post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_outline</span>\n          {gettext(\"Protect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unprotect extends React.Component {\n  onClick = () => {\n    moderation.unprotect(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.is_protected && post.acl.can_protect\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">lock_open</span>\n          {gettext(\"Unprotect\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Hide extends React.Component {\n  onClick = () => {\n    moderation.hide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_hide && !post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility_off</span>\n          {gettext(\"Hide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Unhide extends React.Component {\n  onClick = () => {\n    moderation.unhide(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_unhide && post.is_hidden\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">visibility</span>\n          {gettext(\"Unhide\")}\n        </button>\n      </li>\n    )\n  }\n}\n\nexport class Delete extends React.Component {\n  onClick = () => {\n    moderation.remove(this.props)\n  }\n\n  render() {\n    const isVisible = this.props.selection.find((post) => {\n      return post.acl.can_delete\n    })\n\n    if (!isVisible) return null\n\n    return (\n      <li>\n        <button type=\"button\" className=\"btn btn-link\" onClick={this.onClick}>\n          <span className=\"material-icon\">clear</span>\n          {gettext(\"Delete\")}\n        </button>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default function ({ errors, posts }) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">{gettext(\"Moderation\")}</h4>\n        </div>\n        <div className=\"modal-body\">\n          <p className=\"lead\">\n            {gettext(\"One or more posts could not be changed:\")}\n          </p>\n\n          <ul className=\"list-unstyled list-errored-items\">\n            {errors.map((post) => {\n              return (\n                <PostErrors\n                  errors={post.detail}\n                  key={post.id}\n                  post={posts[post.id]}\n                />\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function PostErrors({ errors, post }) {\n  const heading = interpolate(\n    gettext(\"%(username)s on %(posted_on)s\"),\n    {\n      posted_on: post.posted_on.format(\"LL, LT\"),\n      username: post.poster_name,\n    },\n    true\n  )\n\n  return (\n    <li>\n      <h5>{heading}:</h5>\n      {errors.map((error, i) => {\n        return <p key={i}>{error}</p>\n      })}\n    </li>\n  )\n}\n","import ThreadPostsModerationOptions from \"./dropdown\"\n\nexport { ThreadPostsModerationOptions }\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.move, {\n      new_thread: this.state.url,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(success) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were moved to the other thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to move posts to\")}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading}\n              >\n                {gettext(\"Move posts\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move posts\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport Select from \"misago/components/select\"\nimport * as post from \"misago/reducers/post\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\nimport ErrorsModal from \"./errors-list\"\n\nexport default function (props) {\n  return <PostingConfig {...props} Form={ModerationForm} />\n}\n\nexport class PostingConfig extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoaded: false,\n      isError: false,\n\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n            post: item.post,\n          })\n        })\n\n        this.setState({\n          isLoaded: true,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  render() {\n    if (this.state.isError) {\n      return <Error message={this.state.isError} />\n    } else if (this.state.isLoaded) {\n      return (\n        <ModerationForm {...this.props} categories={this.state.categories} />\n      )\n    } else {\n      return <Loader />\n    }\n  }\n}\n\nexport class ModerationForm extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      categories: props.categories,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.acl = {}\n    this.props.categories.forEach((category) => {\n      if (category.post) {\n        if (!this.state.category) {\n          this.state.category = category.id\n        }\n\n        this.acl[category.id] = {\n          can_pin_threads: category.post.pin,\n          can_close_threads: category.post.close,\n          can_hide_threads: category.post.hide,\n        }\n      }\n    })\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(this.props.thread.api.posts.split, {\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n      posts: this.props.selection.map((post) => post.id),\n    })\n  }\n\n  handleSuccess(apiResponse) {\n    this.props.selection.forEach((selection) => {\n      store.dispatch(\n        post.patch(selection, {\n          isDeleted: true,\n        })\n      )\n    })\n\n    modal.hide()\n\n    snackbar.success(gettext(\"Selected posts were split into new thread.\"))\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      this.setState({\n        errors: Object.assign({}, this.state.errors, rejection),\n      })\n      snackbar.error(gettext(\"Form contains errors.\"))\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Thread weight\")}\n          for=\"id_weight\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Hide thread\")}\n          for=\"id_is_hidden\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup\n          label={gettext(\"Close thread\")}\n          for=\"id_is_closed\"\n          labelClass=\"col-sm-4\"\n          controlClass=\"col-sm-8\"\n        >\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  render() {\n    return (\n      <Modal className=\"modal-dialog\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <FormGroup\n              label={gettext(\"Thread title\")}\n              for=\"id_title\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.title}\n            >\n              <input\n                id=\"id_title\"\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.bindInput(\"title\")}\n                value={this.state.title}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            <FormGroup\n              label={gettext(\"Category\")}\n              for=\"id_category\"\n              labelClass=\"col-sm-4\"\n              controlClass=\"col-sm-8\"\n              validation={this.state.errors.category}\n            >\n              <CategorySelect\n                id=\"id_category\"\n                onChange={this.onCategoryChange}\n                value={this.state.category}\n                choices={this.state.categories}\n              />\n            </FormGroup>\n            <div className=\"clearfix\" />\n\n            {this.renderWeightField()}\n            {this.renderHiddenField()}\n            {this.renderClosedField()}\n          </div>\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-default\"\n              data-dismiss=\"modal\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {gettext(\"Cancel\")}\n            </button>\n            <Button className=\"btn-primary\" loading={this.state.isLoading}>\n              {gettext(\"Split posts\")}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n    )\n  }\n}\n\nexport function Loader() {\n  return (\n    <Modal className=\"modal-dialog\">\n      <ModalLoader />\n    </Modal>\n  )\n}\n\nexport function Error(props) {\n  return (\n    <Modal className=\"modal-dialog modal-message\">\n      <div className=\"message-icon\">\n        <span className=\"material-icon\">info_outline</span>\n      </div>\n      <div className=\"message-body\">\n        <p className=\"lead\">\n          {gettext(\"You can't move selected posts at the moment.\")}\n        </p>\n        <p>{props.message}</p>\n        <button className=\"btn btn-default\" data-dismiss=\"modal\" type=\"button\">\n          {gettext(\"Ok\")}\n        </button>\n      </div>\n    </Modal>\n  )\n}\n\nexport function Modal(props) {\n  return (\n    <div className={props.className} role=\"document\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <button\n            aria-label={pgettext(\"modal\", \"Close\")}\n            className=\"close\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n          <h4 className=\"modal-title\">\n            {gettext(\"Split posts into new thread\")}\n          </h4>\n        </div>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport { getTitleValidators } from \"misago/components/posting/utils/validators\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: props.thread.title,\n\n      validators: {\n        title: getTitleValidators(),\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.title.trim().length) {\n      snackbar.error(gettext(\"You have to enter thread title.\"))\n      return false\n    }\n\n    const errors = this.validate()\n\n    if (errors.title) {\n      snackbar.error(errors.title[0])\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"title\", value: this.state.title },\n    ])\n  }\n\n  handleSuccess = (data) => {\n    this.handleSuccessUnmounted(data)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n\n    modal.hide()\n  }\n\n  handleSuccessUnmounted = (data) => {\n    store.dispatch(thread.release())\n    store.dispatch(thread.update(data))\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onChange = (event) => {\n    this.changeValue(\"title\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog modal-lg\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup for=\"id_modal_title\" label={gettext(\"Thread title\")}>\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_modal_title\"\n                  onChange={this.onChange}\n                  value={this.state.title}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {gettext(\"Change title\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Change title\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport ThreadChangeTitleModal from \"./ThreadChangeTitleModal\"\nimport MergeModal from \"./merge\"\nimport MoveModal from \"./move\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage) => {\n    store.dispatch(thread.busy())\n\n    // by the chance update thread acl too\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.thread.api.index, ops).then(\n      (data) => {\n        store.dispatch(thread.update(data))\n        store.dispatch(thread.release())\n        snackbar.success(successMessage)\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        if (rejection.status === 400) {\n          snackbar.error(rejection.detail[0])\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  changeTitle = () => {\n    modal.show(<ThreadChangeTitleModal thread={this.props.thread} />)\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      gettext(\"Thread has been pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      gettext(\"Thread has been pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      gettext(\"Thread has been unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      gettext(\"Thread has been closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      gettext(\"Thread has been made visible.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      gettext(\"Thread has been made hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveModal posts={this.props.posts} thread={this.props.thread} />\n    )\n  }\n\n  merge = () => {\n    modal.show(<MergeModal thread={this.props.thread} />)\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(gettext(\"Are you sure you want to delete this thread?\"))\n    ) {\n      return\n    }\n\n    store.dispatch(thread.busy())\n\n    ajax.delete(this.props.thread.api.index).then(\n      (data) => {\n        snackbar.success(gettext(\"Thread has been deleted.\"))\n        window.location = this.props.thread.category.url.index\n      },\n      (rejection) => {\n        store.dispatch(thread.release())\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    const { moderation } = this.props\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        {!!moderation.edit && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.changeTitle}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">edit</span>\n              {gettext(\"Change title\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinGlobally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinGlobally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {gettext(\"Pin globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.pinLocally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.pinLocally}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {gettext(\"Pin locally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unpin && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.unpin} type=\"button\">\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {gettext(\"Unpin\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.move && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.move} type=\"button\">\n              <span className=\"material-icon\">arrow_forward</span>\n              {gettext(\"Move\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.merge && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.merge} type=\"button\">\n              <span className=\"material-icon\">call_merge</span>\n              {gettext(\"Merge\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.approve}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">done</span>\n              {gettext(\"Approve\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.open && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.open} type=\"button\">\n              <span className=\"material-icon\">lock_open</span>\n              {gettext(\"Open\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.close && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.close} type=\"button\">\n              <span className=\"material-icon\">lock_outline</span>\n              {gettext(\"Close\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.unhide}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">visibility</span>\n              {gettext(\"Unhide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.hide && (\n          <li>\n            <button className=\"btn btn-link\" onClick={this.hide} type=\"button\">\n              <span className=\"material-icon\">visibility_off</span>\n              {gettext(\"Hide\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              onClick={this.delete}\n              type=\"button\"\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import ThreadModerationOptions from \"./controls\"\n\nexport default ThreadModerationOptions\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      url: \"\",\n\n      validators: {\n        url: [],\n      },\n      errors: {},\n    }\n  }\n\n  clean() {\n    if (!this.state.url.trim().length) {\n      snackbar.error(gettext(\"You have to enter link to the other thread.\"))\n      return false\n    }\n\n    return true\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.post(this.props.thread.api.merge, {\n      other_thread: this.state.url,\n    })\n  }\n\n  handleSuccess = (success) => {\n    this.handleSuccessUnmounted(success)\n\n    // keep form loading\n    this.setState({\n      isLoading: true,\n    })\n  }\n\n  handleSuccessUnmounted = (success) => {\n    snackbar.success(gettext(\"Thread has been merged with other one.\"))\n    window.location = success.url\n  }\n\n  handleError = (rejection) => {\n    store.dispatch(thread.release())\n\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={this.props.thread.api.merge}\n            bestAnswers={rejection.best_answers}\n            data={{ other_thread: this.state.url }}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccessUnmounted}\n          />\n        )\n      } else if (rejection.best_answer) {\n        snackbar.error(rejection.best_answer[0])\n      } else if (rejection.poll) {\n        snackbar.error(rejection.poll[0])\n      } else {\n        snackbar.error(rejection.detail)\n      }\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onUrlChange = (event) => {\n    this.changeValue(\"url\", event.target.value)\n  }\n\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-content\">\n            <ModalHeader />\n            <div className=\"modal-body\">\n              <FormGroup\n                for=\"id_url\"\n                label={gettext(\"Link to thread you want to merge with\")}\n                help_text={gettext(\n                  \"Merge will delete current thread and move its contents to the thread specified here.\"\n                )}\n              >\n                <input\n                  className=\"form-control\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                  id=\"id_url\"\n                  onChange={this.onUrlChange}\n                  value={this.state.url}\n                />\n              </FormGroup>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"btn btn-default\"\n                data-dismiss=\"modal\"\n                disabled={this.state.isLoading}\n                type=\"button\"\n              >\n                {gettext(\"Cancel\")}\n              </button>\n              <button\n                className=\"btn btn-primary\"\n                disabled={this.state.isLoading || this.props.thread.isBusy}\n              >\n                {gettext(\"Merge thread\")}\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Merge thread\")}</h4>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport ModalLoader from \"misago/components/modal-loader\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport misago from \"misago\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isReady: false,\n      isLoading: false,\n      isError: false,\n\n      category: null,\n      categories: [],\n    }\n  }\n\n  componentDidMount() {\n    ajax.get(misago.get(\"THREAD_EDITOR_API\")).then(\n      (data) => {\n        let category = null\n\n        // hydrate categories, extract posting options\n        const categories = data.map((item) => {\n          // pick first category that allows posting and if it may, override it with initial one\n          if (item.post !== false && !category) {\n            category = item.id\n          }\n\n          return Object.assign(item, {\n            disabled: item.post === false,\n            label: item.name,\n            value: item.id,\n          })\n        })\n\n        this.setState({\n          isReady: true,\n\n          category,\n          categories,\n        })\n      },\n      (rejection) => {\n        this.setState({\n          isError: rejection.detail,\n        })\n      }\n    )\n  }\n\n  send() {\n    // freeze thread\n    store.dispatch(thread.busy())\n\n    return ajax.patch(this.props.thread.api.index, [\n      { op: \"replace\", path: \"category\", value: this.state.category },\n    ])\n  }\n\n  handleSuccess() {\n    // refresh thread and displayed posts\n    ajax\n      .get(this.props.thread.api.posts.index, { page: this.props.posts.page })\n      .then(\n        (data) => {\n          store.dispatch(thread.replace(data))\n          store.dispatch(posts.load(data.post_set))\n          store.dispatch(thread.release())\n\n          snackbar.success(gettext(\"Thread has been moved.\"))\n          modal.hide()\n        },\n        (rejection) => {\n          store.dispatch(thread.release())\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  handleError(rejection) {\n    if (rejection.status === 400) {\n      snackbar.error(rejection.detail[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (event) => {\n    this.changeValue(\"category\", event.target.value)\n  }\n\n  render() {\n    if (this.state.isReady) {\n      return (\n        <div className=\"modal-dialog\" role=\"document\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"modal-content\">\n              <ModalHeader />\n              <div className=\"modal-body\">\n                <FormGroup for=\"id_category\" label={gettext(\"New category\")}>\n                  <CategorySelect\n                    choices={this.state.categories}\n                    disabled={this.state.isLoading || this.props.thread.isBusy}\n                    id=\"id_category\"\n                    onChange={this.onCategoryChange}\n                    value={this.state.category}\n                  />\n                </FormGroup>\n              </div>\n              <div className=\"modal-footer\">\n                <button\n                  className=\"btn btn-default\"\n                  data-dismiss=\"modal\"\n                  disabled={this.state.isLoading}\n                  type=\"button\"\n                >\n                  {gettext(\"Cancel\")}\n                </button>\n                <button\n                  className=\"btn btn-primary\"\n                  disabled={this.state.isLoading || this.props.thread.isBusy}\n                >\n                  {gettext(\"Move thread\")}\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      )\n    } else if (this.state.isError) {\n      return <ModalMessage message={this.state.isError} />\n    } else {\n      return <ModalLoading />\n    }\n  }\n}\n\nexport function ModalHeader(props) {\n  return (\n    <div className=\"modal-header\">\n      <button\n        aria-label={pgettext(\"modal\", \"Close\")}\n        className=\"close\"\n        data-dismiss=\"modal\"\n        type=\"button\"\n      >\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      <h4 className=\"modal-title\">{gettext(\"Move thread\")}</h4>\n    </div>\n  )\n}\n\nexport function ModalLoading(props) {\n  return (\n    <div className=\"modal-dialog\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <ModalLoader />\n      </div>\n    </div>\n  )\n}\n\nexport function ModalMessage(props) {\n  return (\n    <div className=\"modal-dialog modal-message\" role=\"document\">\n      <div className=\"modal-content\">\n        <ModalHeader />\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\"You can't move this thread at the moment.\")}\n          </p>\n          <p>{props.message}</p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/thread/route\"\nimport misago from \"misago/index\"\n\nexport function select(store) {\n  return {\n    participants: store.participants,\n    poll: store.poll,\n    posts: store.posts,\n    thread: store.thread,\n    tick: store.tick.tick,\n    user: store.auth.user,\n  }\n}\n\nexport function paths() {\n  const thread = misago.get(\"THREAD\")\n  const basePath = thread.url.index.replace(\n    thread.slug + \"-\" + thread.pk,\n    \":slug\"\n  )\n  return [\n    {\n      path: basePath,\n      component: connect(select)(Route),\n    },\n    {\n      path: basePath + \":page/\",\n      component: connect(select)(Route),\n    },\n  ]\n}\n","import React from \"react\"\nimport Participants from \"misago/components/participants\"\nimport { Poll, PollForm } from \"misago/components/poll\"\nimport PostsList from \"misago/components/posts-list\"\nimport * as participants from \"misago/reducers/participants\"\nimport * as poll from \"misago/reducers/poll\"\nimport * as posts from \"misago/reducers/posts\"\nimport * as thread from \"misago/reducers/thread\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport posting from \"misago/services/posting\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport { PostingQuoteSelection } from \"../posting\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadHeader from \"./ThreadHeader\"\nimport ThreadToolbarBottom from \"./ThreadToolbarBottom\"\nimport ThreadToolbarTop from \"./ThreadToolbarTop\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      editPoll: false,\n    }\n  }\n\n  componentDidMount() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.setPageTitle()\n    }\n\n    this.startPollingApi()\n  }\n\n  componentDidUpdate() {\n    if (this.shouldFetchData()) {\n      this.fetchData()\n      this.startPollingApi()\n      this.setPageTitle()\n    }\n  }\n\n  componentWillUnmount() {\n    this.stopPollingApi()\n  }\n\n  shouldFetchData() {\n    if (this.props.posts.isLoaded) {\n      const page = (this.props.params.page || 1) * 1\n      return page != this.props.posts.page\n    } else {\n      return false\n    }\n  }\n\n  fetchData() {\n    store.dispatch(posts.unload())\n\n    ajax\n      .get(\n        this.props.thread.api.posts.index,\n        {\n          page: this.props.params.page || 1,\n        },\n        \"posts\"\n      )\n      .then(\n        (data) => {\n          this.update(data)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPollingApi() {\n    polls.start({\n      poll: \"thread-posts\",\n\n      url: this.props.thread.api.posts.index,\n      data: {\n        page: this.props.params.page || 1,\n      },\n      update: this.update,\n\n      frequency: 120 * 1000,\n      delayed: true,\n    })\n  }\n\n  stopPollingApi() {\n    polls.stop(\"thread-posts\")\n  }\n\n  setPageTitle() {\n    title.set({\n      title: this.props.thread.title,\n      parent: this.props.thread.category.name,\n      page: (this.props.params.page || 1) * 1,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(thread.replace(data))\n    store.dispatch(posts.load(data.post_set))\n\n    if (data.participants) {\n      store.dispatch(participants.replace(data.participants))\n    }\n\n    if (data.poll) {\n      store.dispatch(poll.replace(data.poll))\n    }\n\n    this.setPageTitle()\n  }\n\n  openPollForm = () => {\n    this.setState({ editPoll: true })\n  }\n\n  closePollForm = () => {\n    this.setState({ editPoll: false })\n  }\n\n  openReplyForm = () => {\n    posting.open({\n      mode: \"REPLY\",\n\n      thread: this.props.thread,\n      config: this.props.thread.api.editor,\n      submit: this.props.thread.api.posts.index,\n    })\n  }\n\n  render() {\n    const category = this.props.thread.category\n\n    let className = \"page page-thread\"\n    if (category.css_class) {\n      className += \" page-thread-\" + category.css_class\n    }\n\n    const styleName =\n      category.special_role === \"private_threads\"\n        ? \"private-threads\"\n        : category.css_class || \"category-threads\"\n\n    const threadModeration = getThreadModeration(\n      this.props.thread,\n      this.props.user\n    )\n\n    const postsModeration = getPostsModeration(\n      this.props.posts.results,\n      this.props.user\n    )\n    const selection = this.props.posts.results.filter((post) => post.isSelected)\n\n    return (\n      <div className={className}>\n        <ThreadHeader\n          styleName={styleName}\n          thread={this.props.thread}\n          posts={this.props.posts}\n          user={this.props.user}\n          moderation={threadModeration}\n        />\n        <PageContainer>\n          <Participants\n            participants={this.props.participants}\n            thread={this.props.thread}\n            user={this.props.user}\n          />\n          <ThreadToolbarTop\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            pollDisabled={this.state.editPoll}\n            onPoll={this.openPollForm}\n            onReply={this.openReplyForm}\n          />\n          {this.state.editPoll ? (\n            <PollForm\n              poll={this.props.poll}\n              thread={this.props.thread}\n              close={this.closePollForm}\n            />\n          ) : (\n            <Poll\n              poll={this.props.poll}\n              thread={this.props.thread}\n              user={this.props.user}\n              edit={this.openPollForm}\n            />\n          )}\n          {this.props.thread.acl.can_reply ? (\n            <PostingQuoteSelection\n              posting={{\n                mode: \"REPLY\",\n\n                thread: this.props.thread,\n                config: this.props.thread.api.editor,\n                submit: this.props.thread.api.posts.index,\n              }}\n            >\n              <PostsList {...this.props} />\n            </PostingQuoteSelection>\n          ) : (\n            <PostsList {...this.props} />\n          )}\n          <ThreadToolbarBottom\n            thread={this.props.thread}\n            posts={this.props.posts}\n            user={this.props.user}\n            selection={selection}\n            moderation={postsModeration}\n            onReply={this.openReplyForm}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n\nconst getThreadModeration = (thread, user) => {\n  const moderation = {\n    enabled: false,\n    edit: false,\n    approve: false,\n    close: false,\n    open: false,\n    hide: false,\n    unhide: false,\n    move: false,\n    merge: false,\n    pinGlobally: false,\n    pinLocally: false,\n    unpin: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  moderation.edit = thread.acl.can_edit\n  moderation.approve = thread.acl.can_approve && thread.is_unapproved\n  moderation.close = thread.acl.can_close && !thread.is_closed\n  moderation.open = thread.acl.can_close && thread.is_closed\n  moderation.hide = thread.acl.can_hide && !thread.is_hidden\n  moderation.unhide = thread.acl.can_unhide && thread.is_hidden\n  moderation.move = thread.acl.can_move\n  moderation.merge = thread.acl.can_merge\n  moderation.pinGlobally = thread.acl.can_pin_globally && thread.weight < 2\n  moderation.pinLocally = thread.acl.can_pin && thread.weight !== 1\n  moderation.unpin =\n    (thread.acl.can_pin && thread.weight === 1) ||\n    (thread.acl.can_pin_globally && thread.weight === 2)\n  moderation.delete = thread.acl.can_delete\n\n  moderation.enabled =\n    moderation.edit ||\n    moderation.approve ||\n    moderation.close ||\n    moderation.open ||\n    moderation.hide ||\n    moderation.unhide ||\n    moderation.move ||\n    moderation.merge ||\n    moderation.pinGlobally ||\n    moderation.pinLocally ||\n    moderation.unpin ||\n    moderation.delete\n\n  return moderation\n}\n\nconst getPostsModeration = (posts, user) => {\n  const moderation = {\n    enabled: false,\n    approve: false,\n    move: false,\n    merge: false,\n    protect: false,\n    hide: false,\n    delete: false,\n  }\n\n  if (!user.is_authenticated) return moderation\n\n  posts.forEach((post) => {\n    if (!post.is_event) {\n      if (post.acl.can_approve && post.is_unapproved) {\n        moderation.approve = true\n      }\n      if (post.acl.can_move) moderation.move = true\n      if (post.acl.can_merge) moderation.merge = true\n      if (post.acl.can_protect || post.acl.can_unprotect) {\n        moderation.protect = true\n      }\n      if (post.acl.can_hide || post.acl.can_unhide) {\n        moderation.hide = true\n      }\n      if (post.acl.can_delete) moderation.delete = true\n\n      if (\n        moderation.approve ||\n        moderation.move ||\n        moderation.merge ||\n        moderation.protect ||\n        moderation.hide ||\n        moderation.delete\n      ) {\n        moderation.enabled = true\n      }\n    }\n  })\n\n  return moderation\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadsCategoryPicker = ({\n  allItems,\n  parentUrl,\n  category,\n  categories,\n  list,\n}) => (\n  <div className=\"dropdown threads-category-picker\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block text-ellipsis\"\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      {category && (\n        <span\n          className=\"material-icon\"\n          style={{ color: category.color || \"inherit\" }}\n        >\n          label\n        </span>\n      )}\n      {category && category.short_name && (\n        <span className={category.short_name && \"hidden-md hidden-lg\"}>\n          {category.short_name}\n        </span>\n      )}\n      {category ? (\n        <span className={category.short_name && \"hidden-xs hidden-sm\"}>\n          {category.name}\n        </span>\n      ) : (\n        allItems\n      )}\n    </button>\n    <ul className=\"dropdown-menu\">\n      <li>\n        <Link to={parentUrl + list.path}>{allItems}</Link>\n      </li>\n      <li role=\"separator\" className=\"divider\" />\n      {categories.map((choice) => (\n        <li key={choice.id}>\n          <Link to={choice.url.index + list.path}>\n            <span\n              className=\"material-icon\"\n              style={{ color: choice.color || \"inherit\" }}\n            >\n              label\n            </span>\n            {choice.name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ThreadsCategoryPicker\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst ThreadsListPicker = ({ baseUrl, list, lists }) => (\n  <div className=\"dropdown threads-list-picker\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline dropdown-toggle btn-block\"\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n    >\n      {list.longName}\n    </button>\n    <ul className=\"dropdown-menu stick-to-bottom\">\n      {lists.map((choice) => (\n        <li key={choice.type}>\n          <Link to={baseUrl + choice.path}>{choice.longName}</Link>\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nexport default ThreadsListPicker\n","import React from \"react\"\nimport posting from \"../../services/posting\"\nimport Button from \"../button\"\nimport { Toolbar, ToolbarItem, ToolbarSection, ToolbarSpacer } from \"../Toolbar\"\nimport ThreadsCategoryPicker from \"./ThreadsCategoryPicker\"\nimport ThreadsListPicker from \"./ThreadsListPicker\"\nimport ThreadsToolbarModeration from \"./ThreadsToolbarModeration\"\n\nconst ThreadsToolbar = ({\n  api,\n  baseUrl,\n  category,\n  categories,\n  categoriesMap,\n  topCategory,\n  topCategories,\n  subCategory,\n  subCategories,\n  list,\n  lists,\n  threads,\n  addThreads,\n  startThread,\n  freezeThread,\n  updateThread,\n  deleteThread,\n  selection,\n  moderation,\n  route,\n  user,\n  disabled,\n}) => (\n  <Toolbar>\n    {topCategories.length > 0 && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <ThreadsCategoryPicker\n            allItems={gettext(\"All categories\")}\n            parentUrl={list.path}\n            category={topCategory}\n            categories={topCategories}\n            list={list}\n          />\n        </ToolbarItem>\n        {topCategory && subCategories.length > 0 && (\n          <ToolbarItem>\n            <ThreadsCategoryPicker\n              allItems={gettext(\"All subcategories\")}\n              parentUrl={topCategory.url.index}\n              category={subCategory}\n              categories={subCategories}\n              list={list}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n    {lists.length > 1 && (\n      <ToolbarSection className=\"hidden-xs\">\n        <ToolbarItem>\n          <ThreadsListPicker baseUrl={baseUrl} list={list} lists={lists} />\n        </ToolbarItem>\n      </ToolbarSection>\n    )}\n    <ToolbarSpacer />\n    {!!user.id && (\n      <ToolbarSection>\n        <ToolbarItem>\n          <Button\n            className=\"btn-primary btn-outline btn-block\"\n            disabled={disabled}\n            onClick={() => {\n              posting.open(\n                startThread || {\n                  mode: \"START\",\n\n                  config: misago.get(\"THREAD_EDITOR_API\"),\n                  submit: misago.get(\"THREADS_API\"),\n\n                  category: category.id,\n                }\n              )\n            }}\n          >\n            <span className=\"material-icon\">chat</span>\n            {gettext(\"Start thread\")}\n          </Button>\n        </ToolbarItem>\n        {!!moderation.allow && (\n          <ToolbarItem shrink>\n            <ThreadsToolbarModeration\n              api={api}\n              categories={categories}\n              categoriesMap={categoriesMap}\n              threads={threads.filter(\n                (thread) => selection.indexOf(thread.id) !== -1\n              )}\n              addThreads={addThreads}\n              freezeThread={freezeThread}\n              updateThread={updateThread}\n              deleteThread={deleteThread}\n              selection={selection}\n              moderation={moderation}\n              route={route}\n              user={user}\n              disabled={disabled}\n            />\n          </ToolbarItem>\n        )}\n      </ToolbarSection>\n    )}\n  </Toolbar>\n)\n\nexport default ThreadsToolbar\n","import React from \"react\"\nimport ModerationControls from \"./moderation/controls\"\n\nconst ThreadsToolbarModeration = ({\n  api,\n  categoriesMap,\n  categories,\n  threads,\n  addThreads,\n  freezeThread,\n  updateThread,\n  deleteThread,\n  selection,\n  moderation,\n  route,\n  user,\n  disabled,\n}) => (\n  <div className=\"dropdown threads-moderation\">\n    <button\n      type=\"button\"\n      className=\"btn btn-default btn-outline btn-icon dropdown-toggle\"\n      title={gettext(\"Moderation\")}\n      data-toggle=\"dropdown\"\n      aria-haspopup=\"true\"\n      aria-expanded=\"false\"\n      disabled={disabled}\n    >\n      <span className=\"material-icon\">settings</span>\n    </button>\n    <ModerationControls\n      api={api}\n      categories={categories}\n      categoriesMap={categoriesMap}\n      threads={threads}\n      addThreads={addThreads}\n      freezeThread={freezeThread}\n      updateThread={updateThread}\n      deleteThread={deleteThread}\n      selection={selection}\n      moderation={moderation}\n      route={route}\n      user={user}\n      disabled={disabled}\n    />\n  </div>\n)\n\nexport default ThreadsToolbarModeration\n","export function compareLastPostAge(a, b) {\n  if (a.last_post > b.last_post) {\n    return -1\n  } else if (a.last_post < b.last_post) {\n    return 1\n  } else {\n    return 0\n  }\n}\n\nexport function compareGlobalWeight(a, b) {\n  if (a.weight === 2 && a.weight > b.weight) {\n    return -1\n  } else if (b.weight === 2 && a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n\nexport function compareWeight(a, b) {\n  if (a.weight > b.weight) {\n    return -1\n  } else if (a.weight < b.weight) {\n    return 1\n  } else {\n    return compareLastPostAge(a, b)\n  }\n}\n","import React from \"react\"\nimport PageContainer from \"../PageContainer\"\nimport ThreadsToolbar from \"./ThreadsToolbar\"\n\nexport default class extends React.Component {\n  render() {\n    const { root } = this.props\n    const { category, categories, categoriesMap } = this.props.route\n    const topCategory = getTopCategory(root, category, categoriesMap)\n\n    return (\n      <PageContainer>\n        <ThreadsToolbar\n          api={this.props.api}\n          baseUrl={category.url.index}\n          category={category}\n          categories={categories}\n          categoriesMap={categoriesMap}\n          topCategory={topCategory}\n          topCategories={categories.filter((cat) => cat.parent === root.id)}\n          subCategories={\n            !!topCategory\n              ? categories.filter((cat) => cat.parent === topCategory.id)\n              : []\n          }\n          subCategory={category.level === 2 ? category : null}\n          subcategories={this.props.subcategories}\n          list={this.props.route.list}\n          lists={this.props.route.lists}\n          threads={this.props.threads}\n          addThreads={this.props.addThreads}\n          startThread={this.props.startThread}\n          freezeThread={this.props.freezeThread}\n          deleteThread={this.props.deleteThread}\n          updateThread={this.props.updateThread}\n          selection={this.props.selection}\n          moderation={this.props.moderation}\n          route={this.props.route}\n          user={this.props.user}\n          disabled={\n            !this.props.isLoaded ||\n            this.props.isBusy ||\n            this.props.busyThreads.length\n          }\n        />\n        {this.props.children}\n      </PageContainer>\n    )\n  }\n}\n\nconst getTopCategory = (root, category, categoriesMap) => {\n  if (!category.parent) return null\n  if (category.parent === root.id) return category\n  return categoriesMap[category.parent]\n}\n","import React from \"react\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeThreads from \"misago/components/threads/moderation/merge\"\nimport MoveThreads from \"misago/components/threads/moderation/move\"\nimport * as select from \"misago/reducers/selection\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default class extends React.Component {\n  callApi = (ops, successMessage, onSuccess = null) => {\n    // freeze threads\n    this.props.threads.forEach((thread) => {\n      this.props.freezeThread(thread.id)\n    })\n\n    // list ids\n    const ids = this.props.threads.map((thread) => {\n      return thread.id\n    })\n\n    // always return current acl\n    ops.push({ op: \"add\", path: \"acl\", value: true })\n\n    ajax.patch(this.props.api, { ids, ops }).then(\n      (data) => {\n        // unfreeze\n        this.props.threads.forEach((thread) => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // update threads\n        data.forEach((thread) => {\n          this.props.updateThread(thread)\n        })\n\n        // show success message and call callback\n        snackbar.success(successMessage)\n        if (onSuccess) {\n          onSuccess()\n        }\n      },\n      (rejection) => {\n        // unfreeze\n        this.props.threads.forEach((thread) => {\n          this.props.freezeThread(thread.id)\n        })\n\n        // escape on non-400 error\n        if (rejection.status !== 400) {\n          return snackbar.apiError(rejection)\n        }\n\n        // build errors list\n        let errors = []\n        let threadsMap = {}\n\n        this.props.threads.forEach((thread) => {\n          threadsMap[thread.id] = thread\n        })\n\n        rejection.forEach(({ id, detail }) => {\n          if (typeof threadsMap[id] !== \"undefined\") {\n            errors.push({\n              errors: detail,\n              thread: threadsMap[id],\n            })\n          }\n        })\n\n        modal.show(<ErrorsModal errors={errors} />)\n      }\n    )\n  }\n\n  pinGlobally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 2,\n        },\n      ],\n      gettext(\"Selected threads were pinned globally.\")\n    )\n  }\n\n  pinLocally = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 1,\n        },\n      ],\n      gettext(\"Selected threads were pinned locally.\")\n    )\n  }\n\n  unpin = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"weight\",\n          value: 0,\n        },\n      ],\n      gettext(\"Selected threads were unpinned.\")\n    )\n  }\n\n  approve = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-unapproved\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were approved.\")\n    )\n  }\n\n  open = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were opened.\")\n    )\n  }\n\n  close = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-closed\",\n          value: true,\n        },\n      ],\n      gettext(\"Selected threads were closed.\")\n    )\n  }\n\n  unhide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: false,\n        },\n      ],\n      gettext(\"Selected threads were unhidden.\")\n    )\n  }\n\n  hide = () => {\n    this.callApi(\n      [\n        {\n          op: \"replace\",\n          path: \"is-hidden\",\n          value: true,\n        },\n      ],\n      gettext(\"Selected threads were hidden.\")\n    )\n  }\n\n  move = () => {\n    modal.show(\n      <MoveThreads\n        callApi={this.callApi}\n        categories={this.props.categories}\n        categoriesMap={this.props.categoriesMap}\n        route={this.props.route}\n        user={this.props.user}\n      />\n    )\n  }\n\n  merge = () => {\n    const errors = []\n    this.props.threads.forEach((thread) => {\n      if (!thread.acl.can_merge) {\n        errors.append({\n          id: thread.id,\n          title: thread.title,\n          errors: [\n            gettext(\n              \"You don't have permission to merge this thread with others.\"\n            ),\n          ],\n        })\n      }\n    })\n\n    if (this.props.threads.length < 2) {\n      snackbar.info(\n        gettext(\"You have to select at least two threads to merge.\")\n      )\n    } else if (errors.length) {\n      modal.show(<ErrorsModal errors={errors} />)\n      return\n    } else {\n      modal.show(<MergeThreads {...this.props} />)\n    }\n  }\n\n  delete = () => {\n    if (\n      !window.confirm(\n        gettext(\"Are you sure you want to delete selected threads?\")\n      )\n    ) {\n      return\n    }\n\n    this.props.threads.map((thread) => {\n      this.props.freezeThread(thread.id)\n    })\n\n    const ids = this.props.threads.map((thread) => {\n      return thread.id\n    })\n\n    ajax.delete(this.props.api, ids).then(\n      () => {\n        this.props.threads.map((thread) => {\n          this.props.freezeThread(thread.id)\n          this.props.deleteThread(thread)\n        })\n\n        snackbar.success(gettext(\"Selected threads were deleted.\"))\n      },\n      (rejection) => {\n        if (rejection.status === 400) {\n          const failedThreads = rejection.map((thread) => {\n            return thread.id\n          })\n\n          this.props.threads.map((thread) => {\n            this.props.freezeThread(thread.id)\n            if (failedThreads.indexOf(thread.id) === -1) {\n              this.props.deleteThread(thread)\n            }\n          })\n\n          modal.show(<ErrorsModal errors={rejection} />)\n        } else {\n          snackbar.apiError(rejection)\n        }\n      }\n    )\n  }\n\n  render() {\n    const { moderation, threads } = this.props\n    const noSelection = this.props.selection.length == 0\n\n    return (\n      <ul className=\"dropdown-menu dropdown-menu-right stick-to-bottom\">\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            onClick={() => store.dispatch(select.all(threads.map((t) => t.id)))}\n          >\n            <span className=\"material-icon\">check_box</span>\n            {gettext(\"Select all\")}\n          </button>\n        </li>\n        <li>\n          <button\n            className=\"btn btn-link\"\n            type=\"button\"\n            disabled={noSelection}\n            onClick={() => store.dispatch(select.none())}\n          >\n            <span className=\"material-icon\">check_box_outline_blank</span>\n            {gettext(\"Select none\")}\n          </button>\n        </li>\n        <li role=\"separator\" className=\"divider\" />\n        {!!moderation.can_pin_globally && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinGlobally}\n            >\n              <span className=\"material-icon\">bookmark</span>\n              {gettext(\"Pin threads globally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.pinLocally}\n            >\n              <span className=\"material-icon\">bookmark_border</span>\n              {gettext(\"Pin threads locally\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_pin && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unpin}\n            >\n              <span className=\"material-icon\">panorama_fish_eye</span>\n              {gettext(\"Unpin threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_move && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.move}\n            >\n              <span className=\"material-icon\">arrow_forward</span>\n              {gettext(\"Move threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_merge && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.merge}\n            >\n              <span className=\"material-icon\">call_merge</span>\n              {gettext(\"Merge threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_approve && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.approve}\n            >\n              <span className=\"material-icon\">done</span>\n              {gettext(\"Approve threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.open}\n            >\n              <span className=\"material-icon\">lock_open</span>\n              {gettext(\"Open threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_close && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.close}\n            >\n              <span className=\"material-icon\">lock_outline</span>\n              {gettext(\"Close threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_unhide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.unhide}\n            >\n              <span className=\"material-icon\">visibility</span>\n              {gettext(\"Unhide threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_hide && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.hide}\n            >\n              <span className=\"material-icon\">visibility_off</span>\n              {gettext(\"Hide threads\")}\n            </button>\n          </li>\n        )}\n        {!!moderation.can_delete && (\n          <li>\n            <button\n              className=\"btn btn-link\"\n              type=\"button\"\n              disabled={noSelection}\n              onClick={this.delete}\n            >\n              <span className=\"material-icon\">clear</span>\n              {gettext(\"Delete threads\")}\n            </button>\n          </li>\n        )}\n      </ul>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"modal-dialog\" role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              aria-label={pgettext(\"modal\", \"Close\")}\n              className=\"close\"\n              data-dismiss=\"modal\"\n              type=\"button\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Threads moderation\")}</h4>\n          </div>\n          <div className=\"modal-body\">\n            <p className=\"lead\">\n              {gettext(\"One or more threads could not be deleted:\")}\n            </p>\n\n            <ul className=\"list-unstyled list-errored-items\">\n              {this.props.errors.map((item) => {\n                return (\n                  <ThreadErrors\n                    errors={item.errors}\n                    key={item.thread.id}\n                    thread={item.thread}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport function ThreadErrors({ errors, thread }) {\n  return (\n    <li>\n      <h5>{thread.title}</h5>\n      {errors.map((message, i) => {\n        return <p>{message}</p>\n      })}\n    </li>\n  )\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport Select from \"misago/components/select\"\nimport misago from \"misago/index\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport * as select from \"misago/reducers/selection\"\nimport ErrorsModal from \"misago/components/threads/moderation/errors-list\"\nimport MergeConflict from \"misago/components/merge-conflict\"\nimport ajax from \"misago/services/ajax\"\nimport modal from \"misago/services/modal\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport * as validators from \"misago/utils/validators\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isLoading: false,\n\n      title: \"\",\n      category: null,\n      weight: 0,\n      is_hidden: 0,\n      is_closed: false,\n\n      validators: {\n        title: [validators.required()],\n      },\n\n      errors: {},\n    }\n\n    this.acl = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      this.acl[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach((category) => {\n      if (category.level > 0) {\n        const acl = this.acl[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name,\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n\n    this.isHiddenChoices = [\n      {\n        value: 0,\n        icon: \"visibility\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: 1,\n        icon: \"visibility_off\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n\n    this.isClosedChoices = [\n      {\n        value: false,\n        icon: \"lock_outline\",\n        label: gettext(\"No\"),\n      },\n      {\n        value: true,\n        icon: \"lock\",\n        label: gettext(\"Yes\"),\n      },\n    ]\n  }\n\n  clean() {\n    if (this.isValid()) {\n      return true\n    } else {\n      snackbar.error(gettext(\"Form contains errors.\"))\n      this.setState({\n        errors: this.validate(),\n      })\n      return false\n    }\n  }\n\n  send() {\n    return ajax.post(misago.get(\"MERGE_THREADS_API\"), this.getFormdata())\n  }\n\n  getFormdata = () => {\n    return {\n      threads: this.props.threads.map((thread) => thread.id),\n      title: this.state.title,\n      category: this.state.category,\n      weight: this.state.weight,\n      is_hidden: this.state.is_hidden,\n      is_closed: this.state.is_closed,\n    }\n  }\n\n  handleSuccess = (apiResponse) => {\n    // unfreeze and remove merged threads\n    this.props.threads.forEach((thread) => {\n      this.props.freezeThread(thread.id)\n      this.props.deleteThread(thread)\n    })\n\n    // deselect all threads\n    store.dispatch(select.none())\n\n    // append merged thread, filter threads\n    this.props.addThreads([apiResponse])\n    store.dispatch(\n      filterThreads(this.props.route.category, this.props.categoriesMap)\n    )\n\n    // hide modal\n    modal.hide()\n  }\n\n  handleError = (rejection) => {\n    if (rejection.status === 400) {\n      if (rejection.best_answers || rejection.polls) {\n        modal.show(\n          <MergeConflict\n            api={misago.get(\"MERGE_THREADS_API\")}\n            bestAnswers={rejection.best_answers}\n            data={this.getFormdata()}\n            polls={rejection.polls}\n            onError={this.handleError}\n            onSuccess={this.handleSuccess}\n          />\n        )\n      } else {\n        this.setState({\n          errors: Object.assign({}, this.state.errors, rejection),\n        })\n        snackbar.error(gettext(\"Form contains errors.\"))\n      }\n    } else if (rejection.status === 403 && Array.isArray(rejection)) {\n      modal.show(<ErrorsModal errors={rejection} />)\n    } else if (rejection.best_answer) {\n      snackbar.error(rejection.best_answer[0])\n    } else if (rejection.poll) {\n      snackbar.error(rejection.poll[0])\n    } else {\n      snackbar.apiError(rejection)\n    }\n  }\n\n  onCategoryChange = (ev) => {\n    const categoryId = ev.target.value\n    const newState = {\n      category: categoryId,\n    }\n\n    if (this.acl[categoryId].can_pin_threads < newState.weight) {\n      newState.weight = 0\n    }\n\n    if (!this.acl[categoryId].can_hide_threads) {\n      newState.is_hidden = 0\n    }\n\n    if (!this.acl[categoryId].can_close_threads) {\n      newState.is_closed = false\n    }\n\n    this.setState(newState)\n  }\n\n  getWeightChoices() {\n    const choices = [\n      {\n        value: 0,\n        icon: \"remove\",\n        label: gettext(\"Not pinned\"),\n      },\n      {\n        value: 1,\n        icon: \"bookmark_border\",\n        label: gettext(\"Pinned locally\"),\n      },\n    ]\n\n    if (this.acl[this.state.category].can_pin_threads == 2) {\n      choices.push({\n        value: 2,\n        icon: \"bookmark\",\n        label: gettext(\"Pinned globally\"),\n      })\n    }\n\n    return choices\n  }\n\n  renderWeightField() {\n    if (this.acl[this.state.category].can_pin_threads) {\n      return (\n        <FormGroup label={gettext(\"Thread weight\")} for=\"id_weight\">\n          <Select\n            id=\"id_weight\"\n            onChange={this.bindInput(\"weight\")}\n            value={this.state.weight}\n            choices={this.getWeightChoices()}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderHiddenField() {\n    if (this.acl[this.state.category].can_hide_threads) {\n      return (\n        <FormGroup label={gettext(\"Hide thread\")} for=\"id_is_hidden\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_hidden\")}\n            value={this.state.is_hidden}\n            choices={this.isHiddenChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderClosedField() {\n    if (this.acl[this.state.category].can_close_threads) {\n      return (\n        <FormGroup label={gettext(\"Close thread\")} for=\"id_is_closed\">\n          <Select\n            id=\"id_is_closed\"\n            onChange={this.bindInput(\"is_closed\")}\n            value={this.state.is_closed}\n            choices={this.isClosedChoices}\n          />\n        </FormGroup>\n      )\n    } else {\n      return null\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup\n            label={gettext(\"Thread title\")}\n            for=\"id_title\"\n            validation={this.state.errors.title}\n          >\n            <input\n              id=\"id_title\"\n              className=\"form-control\"\n              type=\"text\"\n              onChange={this.bindInput(\"title\")}\n              value={this.state.title}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          <FormGroup\n            label={gettext(\"Category\")}\n            for=\"id_category\"\n            validation={this.state.errors.category}\n          >\n            <CategorySelect\n              id=\"id_category\"\n              onChange={this.onCategoryChange}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n          <div className=\"clearfix\" />\n\n          {this.renderWeightField()}\n          {this.renderHiddenField()}\n          {this.renderClosedField()}\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <Button className=\"btn-primary\" loading={this.state.isLoading}>\n            {gettext(\"Merge threads\")}\n          </Button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMergeMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to merge threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Merge threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMergeMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Form from \"misago/components/form\"\nimport FormGroup from \"misago/components/form-group\"\nimport CategorySelect from \"misago/components/category-select\"\nimport * as select from \"misago/reducers/selection\"\nimport { filterThreads } from \"misago/reducers/threads\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\n\nexport default class extends Form {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      category: null,\n    }\n\n    const acls = {}\n    for (const i in props.user.acl.categories) {\n      if (!props.user.acl.categories.hasOwnProperty(i)) {\n        continue\n      }\n\n      const acl = props.user.acl.categories[i]\n      acls[acl.id] = acl\n    }\n\n    this.categoryChoices = []\n    props.categories.forEach((category) => {\n      if (category.level > 0) {\n        const acl = acls[category.id]\n        const disabled =\n          !acl.can_start_threads ||\n          (category.is_closed && !acl.can_close_threads)\n\n        this.categoryChoices.push({\n          value: category.id,\n          disabled: disabled,\n          level: category.level - 1,\n          label: category.name,\n        })\n\n        if (!disabled && !this.state.category) {\n          this.state.category = category.id\n        }\n      }\n    })\n  }\n\n  handleSubmit = (event) => {\n    // we don't reload page on submissions\n    event.preventDefault()\n\n    modal.hide()\n\n    const onSuccess = () => {\n      store.dispatch(\n        filterThreads(this.props.route.category, this.props.categoriesMap)\n      )\n\n      // deselect threads moved outside of visible scope\n      const storeState = store.getState()\n      const leftThreads = storeState.threads.map((thread) => thread.id)\n      store.dispatch(\n        select.all(\n          storeState.selection.filter((thread) => {\n            return leftThreads.indexOf(thread) !== -1\n          })\n        )\n      )\n    }\n\n    this.props.callApi(\n      [\n        { op: \"replace\", path: \"category\", value: this.state.category },\n        { op: \"replace\", path: \"flatten-categories\", value: null },\n        { op: \"add\", path: \"acl\", value: true },\n      ],\n      gettext(\"Selected threads were moved.\"),\n      onSuccess\n    )\n  }\n\n  getClassName() {\n    if (!this.state.category) {\n      return \"modal-dialog modal-message\"\n    } else {\n      return \"modal-dialog\"\n    }\n  }\n\n  renderForm() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div className=\"modal-body\">\n          <FormGroup label={gettext(\"New category\")} for=\"id_new_category\">\n            <CategorySelect\n              id=\"id_new_category\"\n              onChange={this.bindInput(\"category\")}\n              value={this.state.category}\n              choices={this.categoryChoices}\n            />\n          </FormGroup>\n        </div>\n        <div className=\"modal-footer\">\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            disabled={this.state.isLoading}\n            type=\"button\"\n          >\n            {gettext(\"Cancel\")}\n          </button>\n          <button className=\"btn btn-primary\">{gettext(\"Move threads\")}</button>\n        </div>\n      </form>\n    )\n  }\n\n  renderCantMoveMessage() {\n    return (\n      <div className=\"modal-body\">\n        <div className=\"message-icon\">\n          <span className=\"material-icon\">info_outline</span>\n        </div>\n        <div className=\"message-body\">\n          <p className=\"lead\">\n            {gettext(\n              \"You can't move threads because there are no categories you are allowed to move them to.\"\n            )}\n          </p>\n          <p>\n            {gettext(\n              \"You need permission to start threads in category to be able to move threads to it.\"\n            )}\n          </p>\n          <button\n            className=\"btn btn-default\"\n            data-dismiss=\"modal\"\n            type=\"button\"\n          >\n            {gettext(\"Ok\")}\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()} role=\"document\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label={pgettext(\"modal\", \"Close\")}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n            <h4 className=\"modal-title\">{gettext(\"Move threads\")}</h4>\n          </div>\n          {this.state.category\n            ? this.renderForm()\n            : this.renderCantMoveMessage()}\n        </div>\n      </div>\n    )\n  }\n}\n","import { connect } from \"react-redux\"\nimport Route from \"misago/components/threads/route\"\nimport misago from \"misago/index\"\n\nexport function getSelect(options) {\n  return function (store) {\n    return {\n      options: options,\n      selection: store.selection,\n      threads: store.threads,\n      tick: store.tick.tick,\n      user: store.auth.user,\n    }\n  }\n}\n\nexport function getLists(user) {\n  let lists = [\n    {\n      type: \"all\",\n      path: \"\",\n      name: gettext(\"All\"),\n      longName: gettext(\"All threads\"),\n    },\n  ]\n\n  if (user.id) {\n    lists.push({\n      type: \"my\",\n      path: \"my/\",\n      name: gettext(\"My\"),\n      longName: gettext(\"My threads\"),\n    })\n    lists.push({\n      type: \"new\",\n      path: \"new/\",\n      name: gettext(\"New\"),\n      longName: gettext(\"New threads\"),\n    })\n    lists.push({\n      type: \"unread\",\n      path: \"unread/\",\n      name: gettext(\"Unread\"),\n      longName: gettext(\"Unread threads\"),\n    })\n    lists.push({\n      type: \"subscribed\",\n      path: \"subscribed/\",\n      name: gettext(\"Subscribed\"),\n      longName: gettext(\"Subscribed threads\"),\n    })\n\n    if (user.acl.can_see_unapproved_content_lists) {\n      lists.push({\n        type: \"unapproved\",\n        path: \"unapproved/\",\n        name: gettext(\"Unapproved\"),\n        longName: gettext(\"Unapproved content\"),\n      })\n    }\n  }\n\n  return lists\n}\n\nexport function paths(user, mode) {\n  let lists = getLists(user)\n  let routes = []\n  let categoriesMap = {}\n\n  misago.get(\"CATEGORIES\").forEach(function (category) {\n    lists.forEach(function (list) {\n      categoriesMap[category.id] = category\n\n      routes.push({\n        path: category.url.index + list.path,\n        component: connect(getSelect(mode))(Route),\n\n        categories: misago.get(\"CATEGORIES\"),\n        categoriesMap,\n        category,\n\n        lists,\n        list,\n      })\n    })\n  })\n\n  return routes\n}\n","import React from \"react\"\nimport Button from \"misago/components/button\"\nimport {\n  compareGlobalWeight,\n  compareWeight,\n} from \"misago/components/threads/compare\"\nimport Container from \"misago/components/threads/container\"\nimport {\n  diffThreads,\n  getModerationActions,\n  getPageTitle,\n  getTitle,\n} from \"misago/components/threads/utils\"\nimport ThreadsList from \"misago/components/ThreadsList\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport * as select from \"misago/reducers/selection\"\nimport { append, deleteThread, hydrate, patch } from \"misago/reducers/threads\"\nimport ajax from \"misago/services/ajax\"\nimport polls from \"misago/services/polls\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport * as sets from \"misago/utils/sets\"\nimport {\n  PageHeaderHTMLMessage,\n  PageHeaderMessage,\n  PageHeaderPlain,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      isMounted: true,\n\n      isLoaded: false,\n      isBusy: false,\n\n      diff: {\n        results: [],\n      },\n\n      moderation: [],\n      busyThreads: [],\n\n      dropdown: false,\n      subcategories: [],\n\n      next: 0,\n    }\n\n    let category = this.getCategory()\n\n    if (misago.has(\"THREADS\")) {\n      this.initWithPreloadedData(category, misago.get(\"THREADS\"))\n    } else {\n      this.initWithoutPreloadedData(category)\n    }\n  }\n\n  getCategory() {\n    if (!this.props.route.category.special_role) {\n      return this.props.route.category.id\n    } else {\n      return null\n    }\n  }\n\n  initWithPreloadedData(category, data) {\n    this.state = Object.assign(this.state, {\n      moderation: getModerationActions(data.results),\n      subcategories: data.subcategories,\n      next: data.next,\n    })\n\n    this.startPolling(category)\n  }\n\n  initWithoutPreloadedData(category) {\n    this.loadThreads(category)\n  }\n\n  loadThreads(category, next = 0) {\n    ajax\n      .get(\n        this.props.options.api,\n        {\n          category: category,\n          list: this.props.route.list.type,\n          start: next || 0,\n        },\n        \"threads\"\n      )\n      .then(\n        (data) => {\n          if (!this.state.isMounted) {\n            // user changed route before loading completion\n            return\n          }\n\n          if (next === 0) {\n            store.dispatch(hydrate(data.results))\n          } else {\n            store.dispatch(append(data.results, this.getSorting()))\n          }\n\n          this.setState({\n            isLoaded: true,\n            isBusy: false,\n\n            moderation: getModerationActions(store.getState().threads),\n\n            subcategories: data.subcategories,\n\n            next: data.next,\n          })\n\n          this.startPolling(category)\n        },\n        (rejection) => {\n          snackbar.apiError(rejection)\n        }\n      )\n  }\n\n  startPolling(category) {\n    polls.start({\n      poll: \"threads\",\n      url: this.props.options.api,\n      data: {\n        category: category,\n        list: this.props.route.list.type,\n      },\n      frequency: 120 * 1000,\n      update: this.pollResponse,\n    })\n  }\n\n  componentDidMount() {\n    this.setPageTitle()\n\n    if (misago.has(\"THREADS\")) {\n      // unlike in other components, routes are root components for threads\n      // so we can't dispatch store action from constructor\n      store.dispatch(hydrate(misago.pop(\"THREADS\").results))\n\n      this.setState({\n        isLoaded: true,\n      })\n    }\n\n    store.dispatch(select.none())\n  }\n\n  componentWillUnmount() {\n    this.state.isMounted = false\n    polls.stop(\"threads\")\n  }\n\n  getTitle() {\n    if (this.props.options.title) {\n      return this.props.options.title\n    }\n\n    return getTitle(this.props.route)\n  }\n\n  setPageTitle() {\n    if (this.props.route.category.level || !misago.get(\"THREADS_ON_INDEX\")) {\n      title.set(getPageTitle(this.props.route))\n    } else if (this.props.options.title) {\n      title.set(this.props.options.title)\n    } else {\n      if (misago.get(\"SETTINGS\").index_title) {\n        document.title = misago.get(\"SETTINGS\").index_title\n      } else {\n        document.title = misago.get(\"SETTINGS\").forum_name\n      }\n    }\n  }\n\n  getSorting() {\n    if (this.props.route.category.level) {\n      return compareWeight\n    } else {\n      return compareGlobalWeight\n    }\n  }\n\n  // AJAX\n\n  loadMore = () => {\n    this.setState({\n      isBusy: true,\n    })\n\n    this.loadThreads(this.getCategory(), this.state.next)\n  }\n\n  pollResponse = (data) => {\n    this.setState({\n      diff: Object.assign({}, data, {\n        results: diffThreads(this.props.threads, data.results),\n      }),\n    })\n  }\n\n  addThreads = (threads) => {\n    store.dispatch(append(threads, this.getSorting()))\n  }\n\n  applyDiff = () => {\n    this.addThreads(this.state.diff.results)\n\n    this.setState(\n      Object.assign({}, this.state.diff, {\n        moderation: getModerationActions(store.getState().threads),\n\n        diff: {\n          results: [],\n        },\n      })\n    )\n  }\n\n  // Thread state utils\n\n  freezeThread = (thread) => {\n    this.setState(function (currentState) {\n      return {\n        busyThreads: sets.toggle(currentState.busyThreads, thread),\n      }\n    })\n  }\n\n  updateThread = (thread) => {\n    store.dispatch(patch(thread, thread, this.getSorting()))\n  }\n\n  deleteThread = (thread) => {\n    store.dispatch(deleteThread(thread))\n  }\n\n  getMoreButton() {\n    if (!this.state.next) return null\n\n    return (\n      <div className=\"pager-more\">\n        <Button\n          className=\"btn btn-default btn-outline\"\n          loading={this.state.isBusy || this.state.busyThreads.length}\n          onClick={this.loadMore}\n        >\n          {gettext(\"Show more\")}\n        </Button>\n      </div>\n    )\n  }\n\n  getClassName() {\n    let className = \"page page-threads\"\n    className += \" page-threads-\" + this.props.route.list.type\n    if (isIndex(this.props)) {\n      className += \" page-threads-index\"\n    }\n    if (this.props.route.category.css_class) {\n      className += \" page-threads-\" + this.props.route.category.css_class\n    }\n    return className\n  }\n\n  render() {\n    const root = this.props.route.categories[0]\n    const { category, list } = this.props.route\n    const specialRole = category.special_role\n\n    return (\n      <div className={this.getClassName()}>\n        {specialRole == \"root_category\" &&\n          misago.get(\"THREADS_ON_INDEX\") &&\n          misago.get(\"SETTINGS\").index_header && (\n            <PageHeaderPlain\n              header={misago.get(\"SETTINGS\").index_header}\n              message={\n                category.description && (\n                  <PageHeaderHTMLMessage message={category.description.html} />\n                )\n              }\n              styleName=\"forum-index\"\n            />\n          )}\n        {specialRole == \"root_category\" && !misago.get(\"THREADS_ON_INDEX\") && (\n          <PageHeaderPlain header={gettext(\"Threads\")} styleName=\"threads\" />\n        )}\n        {specialRole == \"private_threads\" && (\n          <PageHeaderPlain\n            header={this.props.options.title}\n            message={\n              this.props.options.pageLead && (\n                <PageHeaderMessage>\n                  <p>{this.props.options.pageLead}</p>\n                </PageHeaderMessage>\n              )\n            }\n            styleName=\"private-threads\"\n          />\n        )}\n        {!specialRole && (\n          <PageHeaderPlain\n            header={category.name}\n            message={\n              category.description && (\n                <PageHeaderHTMLMessage message={category.description.html} />\n              )\n            }\n            styleName={category.css_class || \"category-threads\"}\n          />\n        )}\n        <Container\n          api={this.props.options.api}\n          root={root}\n          route={this.props.route}\n          user={this.props.user}\n          pageLead={this.props.options.pageLead}\n          threads={this.props.threads}\n          threadsCount={this.state.count}\n          moderation={this.state.moderation}\n          selection={this.props.selection}\n          busyThreads={this.state.busyThreads}\n          addThreads={this.addThreads}\n          startThread={this.props.options.startThread}\n          freezeThread={this.freezeThread}\n          deleteThread={this.deleteThread}\n          updateThread={this.updateThread}\n          isLoaded={this.state.isLoaded}\n          isBusy={this.state.isBusy}\n        >\n          <ThreadsList\n            category={category}\n            categories={this.props.route.categoriesMap}\n            list={list}\n            selection={this.props.selection}\n            threads={this.props.threads}\n            updatedThreads={this.state.diff.results.length}\n            applyUpdate={this.applyDiff}\n            showOptions={!!this.props.user.id}\n            isLoaded={this.state.isLoaded}\n            busyThreads={this.state.busyThreads}\n            emptyMessage={this.props.options.emptyMessage}\n          />\n          {this.getMoreButton()}\n        </Container>\n      </div>\n    )\n  }\n}\n\nfunction isIndex(props) {\n  if (props.route.category.level || !misago.get(\"THREADS_ON_INDEX\"))\n    return false\n  if (props.options.title) return false\n\n  return true\n}\n","import misago from \"misago/index\"\n\nexport function getPageTitle(route) {\n  if (route.category.level) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: route.category.name,\n      }\n    } else {\n      return {\n        title: route.category.name,\n      }\n    }\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n      }\n    } else {\n      return null\n    }\n  } else {\n    if (route.list.path) {\n      return {\n        title: route.list.longName,\n        parent: gettext(\"Threads\"),\n      }\n    } else {\n      return {\n        title: gettext(\"Threads\"),\n      }\n    }\n  }\n}\n\nexport function getTitle(route) {\n  if (route.category.level) {\n    return route.category.name\n  } else if (misago.get(\"THREADS_ON_INDEX\")) {\n    if (misago.get(\"SETTINGS\").index_header) {\n      return misago.get(\"SETTINGS\").index_header\n    } else {\n      return misago.get(\"SETTINGS\").forum_name\n    }\n  } else {\n    return gettext(\"Threads\")\n  }\n}\n\nexport function isThreadChanged(current, fromDb) {\n  return (\n    [\n      current.title === fromDb.title,\n      current.weight === fromDb.weight,\n      current.category === fromDb.category,\n      current.last_post === fromDb.last_post,\n      current.last_poster_name === fromDb.last_poster_name,\n    ].indexOf(false) >= 0\n  )\n}\n\nexport function diffThreads(current, fromDb) {\n  let currentMap = {}\n  current.forEach(function (thread) {\n    currentMap[thread.id] = thread\n  })\n\n  return fromDb.filter(function (thread) {\n    if (currentMap[thread.id]) {\n      return isThreadChanged(currentMap[thread.id], thread)\n    } else {\n      return true\n    }\n  })\n}\n\nexport function getModerationActions(threads) {\n  let moderation = {\n    allow: false,\n\n    can_approve: 0,\n    can_close: 0,\n    can_delete: 0,\n    can_hide: 0,\n    can_merge: 0,\n    can_move: 0,\n    can_pin: 0,\n    can_pin_globally: 0,\n    can_unhide: 0,\n  }\n\n  threads.forEach(function (thread) {\n    if (\n      thread.is_unapproved &&\n      thread.acl.can_approve > moderation.can_approve\n    ) {\n      moderation.can_approve = thread.acl.can_approve\n    }\n\n    if (thread.acl.can_close > moderation.can_close) {\n      moderation.can_close = thread.acl.can_close\n    }\n\n    if (thread.acl.can_delete > moderation.can_delete) {\n      moderation.can_delete = thread.acl.can_delete\n    }\n\n    if (thread.acl.can_hide > moderation.can_hide) {\n      moderation.can_hide = thread.acl.can_hide\n    }\n\n    if (thread.acl.can_merge > moderation.can_merge) {\n      moderation.can_merge = thread.acl.can_merge\n    }\n\n    if (thread.acl.can_move > moderation.can_move) {\n      moderation.can_move = thread.acl.can_move\n    }\n\n    if (thread.acl.can_pin > moderation.can_pin) {\n      moderation.can_pin = thread.acl.can_pin\n    }\n\n    if (thread.acl.can_pin_globally > moderation.can_pin_globally) {\n      moderation.can_pin_globally = thread.acl.can_pin_globally\n    }\n\n    if (thread.is_hidden && thread.acl.can_unhide > moderation.can_unhide) {\n      moderation.can_unhide = thread.acl.can_unhide\n    }\n\n    moderation.allow =\n      moderation.can_approve ||\n      moderation.can_close ||\n      moderation.can_delete ||\n      moderation.can_hide ||\n      moderation.can_merge ||\n      moderation.can_move ||\n      moderation.can_pin ||\n      moderation.can_pin_globally ||\n      moderation.can_unhide\n  })\n\n  return moderation\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport RegisterButton from \"misago/components/register-button\"\nimport SignInModal from \"misago/components/sign-in.js\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class GuestMenu extends React.Component {\n  showSignInModal() {\n    modal.show(SignInModal)\n  }\n\n  render() {\n    const delegateAuth = misago.get(\"SETTINGS\").DELEGATE_AUTH\n\n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"guest-preview\">\n          <h4>{gettext(\"You are browsing as guest.\")}</h4>\n          <p>\n            {gettext(\n              \"Sign in or register to start and participate in discussions.\"\n            )}\n          </p>\n          {delegateAuth ? (\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <a\n                  className=\"btn btn-default btn-sign-in btn-block\"\n                  href={misago.get(\"SETTINGS\").LOGIN_URL}\n                >\n                  {gettext(\"Sign in\")}\n                </a>\n              </div>\n            </div>\n          ) : (\n            <div className=\"row\">\n              <div className=\"col-xs-6\">\n                <button\n                  className=\"btn btn-default btn-sign-in btn-block\"\n                  onClick={this.showSignInModal}\n                  type=\"button\"\n                >\n                  {gettext(\"Sign in\")}\n                </button>\n              </div>\n              <div className=\"col-xs-6\">\n                <RegisterButton className=\"btn-primary btn-register btn-block\">\n                  {gettext(\"Register\")}\n                </RegisterButton>\n              </div>\n            </div>\n          )}\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport class GuestNav extends GuestMenu {\n  render() {\n    if (misago.get(\"SETTINGS\").DELEGATE_AUTH) {\n      return (\n        <div className=\"nav nav-guest\">\n          <a\n            className=\"btn navbar-btn btn-default btn-sign-in\"\n            href={misago.get(\"SETTINGS\").LOGIN_URL}\n          >\n            {gettext(\"Sign in\")}\n          </a>\n          <div className=\"navbar-left\">\n            <NavbarSearch />\n          </div>\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"nav nav-guest\">\n        <button\n          className=\"btn navbar-btn btn-default btn-sign-in\"\n          onClick={this.showSignInModal}\n          type=\"button\"\n        >\n          {gettext(\"Sign in\")}\n        </button>\n        <RegisterButton className=\"navbar-btn btn-primary btn-register\">\n          {gettext(\"Register\")}\n        </RegisterButton>\n        <div className=\"navbar-left\">\n          <NavbarSearch />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class CompactGuestNav extends React.Component {\n  showGuestMenu() {\n    dropdown.show(GuestMenu)\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showGuestMenu}>\n        <Avatar size=\"64\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { GuestNav, CompactGuestNav } from \"./guest-nav\"\nimport { UserNav, CompactUserNav } from \"./user-nav\"\n\nexport class UserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <UserNav user={this.props.user} />\n    } else {\n      return <GuestNav />\n    }\n  }\n}\n\nexport class CompactUserMenu extends React.Component {\n  render() {\n    if (this.props.isAuthenticated) {\n      return <CompactUserNav user={this.props.user} />\n    } else {\n      return <CompactGuestNav />\n    }\n  }\n}\n\nexport function select(state) {\n  return state.auth\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport Avatar from \"misago/components/avatar\"\nimport ChangeAvatarModal, { select } from \"misago/components/change-avatar/root\"\nimport NavbarSearch from \"misago/components/navbar-search\"\nimport misago from \"misago\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\nimport modal from \"misago/services/modal\"\n\nexport class UserMenu extends React.Component {\n  changeAvatar() {\n    modal.show(connect(select)(ChangeAvatarModal))\n  }\n\n  render() {\n    const { user } = this.props\n\n    return (\n      <ul\n        className=\"dropdown-menu user-dropdown dropdown-menu-right\"\n        role=\"menu\"\n      >\n        <li className=\"dropdown-header\">\n          <strong>{user.username}</strong>\n          <div className=\"row user-stats\">\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">message</span>\n              {user.posts}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">forum</span>\n              {user.threads}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite</span>\n              {user.followers}\n            </div>\n            <div className=\"col-sm-3\">\n              <span className=\"material-icon\">favorite_outline</span>\n              {user.following}\n            </div>\n          </div>\n        </li>\n        <li className=\"divider\" />\n        <li>\n          <a href={user.url}>\n            <span className=\"material-icon\">account_circle</span>\n            {gettext(\"See your profile\")}\n          </a>\n        </li>\n        <li>\n          <a href={misago.get(\"USERCP_URL\")}>\n            <span className=\"material-icon\">done_all</span>\n            {gettext(\"Change options\")}\n          </a>\n        </li>\n        <li>\n          <button\n            className=\"btn-link\"\n            onClick={this.changeAvatar}\n            type=\"button\"\n          >\n            <span className=\"material-icon\">portrait</span>\n            {gettext(\"Change avatar\")}\n          </button>\n        </li>\n        {!!user.acl.can_use_private_threads && (\n          <li>\n            <a href={misago.get(\"PRIVATE_THREADS_URL\")}>\n              <span className=\"material-icon\">message</span>\n              {gettext(\"Private threads\")}\n              <PrivateThreadsBadge user={user} />\n            </a>\n          </li>\n        )}\n        <li className=\"divider\" />\n        <li className=\"dropdown-buttons\">\n          <button\n            className=\"btn btn-default btn-block\"\n            onClick={() =>\n              document.getElementById(\"hidden-logout-form\").submit()\n            }\n            type=\"button\"\n          >\n            {gettext(\"Log out\")}\n          </button>\n        </li>\n      </ul>\n    )\n  }\n}\n\nexport function PrivateThreadsBadge({ user }) {\n  if (!user.unread_private_threads) return null\n\n  return <span className=\"badge\">{user.unread_private_threads}</span>\n}\n\nexport function UserNav({ user }) {\n  return (\n    <ul className=\"ul nav navbar-nav nav-user\">\n      <li>\n        <NavbarSearch />\n      </li>\n      <UserPrivateThreadsLink user={user} />\n      <li className=\"dropdown\">\n        <a\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n          className=\"dropdown-toggle\"\n          data-toggle=\"dropdown\"\n          href={user.url}\n          role=\"button\"\n        >\n          <Avatar user={user} size=\"64\" />\n        </a>\n        <UserMenu user={user} />\n      </li>\n    </ul>\n  )\n}\n\nexport function UserPrivateThreadsLink({ user }) {\n  if (!user.acl.can_use_private_threads) return null\n\n  let title = null\n  if (user.unread_private_threads) {\n    title = gettext(\"You have unread private threads!\")\n  } else {\n    title = gettext(\"Private threads\")\n  }\n\n  return (\n    <li>\n      <a\n        className=\"navbar-icon\"\n        href={misago.get(\"PRIVATE_THREADS_URL\")}\n        title={title}\n      >\n        <span className=\"material-icon\">message</span>\n        {user.unread_private_threads > 0 && (\n          <span className=\"badge\">{user.unread_private_threads}</span>\n        )}\n      </a>\n    </li>\n  )\n}\n\nexport function selectUserMenu(state) {\n  return {\n    user: state.auth.user,\n  }\n}\n\nexport class CompactUserNav extends React.Component {\n  showUserMenu() {\n    dropdown.showConnected(\"user-menu\", connect(selectUserMenu)(UserMenu))\n  }\n\n  render() {\n    return (\n      <button type=\"button\" onClick={this.showUserMenu}>\n        <Avatar user={this.props.user} size=\"50\" />\n      </button>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClass() {\n    return getStatusClassName(this.props.status)\n  }\n\n  render() {\n    return <span className={this.getClass()}>{this.props.children}</span>\n  }\n}\n\nexport class StatusIcon extends React.Component {\n  getIcon() {\n    if (this.props.status.is_banned) {\n      return \"remove_circle_outline\"\n    } else if (this.props.status.is_hidden) {\n      return \"help_outline\"\n    } else if (this.props.status.is_online_hidden) {\n      return \"label\"\n    } else if (this.props.status.is_offline_hidden) {\n      return \"label_outline\"\n    } else if (this.props.status.is_online) {\n      return \"lens\"\n    } else if (this.props.status.is_offline) {\n      return \"panorama_fish_eye\"\n    }\n  }\n\n  render() {\n    return <span className=\"material-icon status-icon\">{this.getIcon()}</span>\n  }\n}\n\nexport class StatusLabel extends React.Component {\n  getHelp() {\n    return getStatusDescription(this.props.user, this.props.status)\n  }\n\n  getLabel() {\n    if (this.props.status.is_banned) {\n      return gettext(\"Banned\")\n    } else if (this.props.status.is_hidden) {\n      return gettext(\"Hidden\")\n    } else if (this.props.status.is_online_hidden) {\n      return gettext(\"Online (hidden)\")\n    } else if (this.props.status.is_offline_hidden) {\n      return gettext(\"Offline (hidden)\")\n    } else if (this.props.status.is_online) {\n      return gettext(\"Online\")\n    } else if (this.props.status.is_offline) {\n      return gettext(\"Offline\")\n    }\n  }\n\n  render() {\n    return (\n      <span\n        className={this.props.className || \"status-label\"}\n        title={this.getHelp()}\n      >\n        {this.getLabel()}\n      </span>\n    )\n  }\n}\n\nexport function getStatusClassName(status) {\n  let className = \"\"\n  if (status.is_banned) {\n    className = \"banned\"\n  } else if (status.is_hidden) {\n    className = \"offline\"\n  } else if (status.is_online_hidden) {\n    className = \"online\"\n  } else if (status.is_offline_hidden) {\n    className = \"offline\"\n  } else if (status.is_online) {\n    className = \"online\"\n  } else if (status.is_offline) {\n    className = \"offline\"\n  }\n\n  return \"user-status user-\" + className\n}\n\nexport function getStatusDescription(user, status) {\n  if (status.is_banned) {\n    if (status.banned_until) {\n      return interpolate(\n        gettext(\"%(username)s is banned until %(ban_expires)s\"),\n        {\n          username: user.username,\n          ban_expires: status.banned_until.format(\"LL, LT\"),\n        },\n        true\n      )\n    } else {\n      return interpolate(\n        gettext(\"%(username)s is banned\"),\n        {\n          username: user.username,\n        },\n        true\n      )\n    }\n  } else if (status.is_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is hiding presence\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_online_hidden) {\n    return interpolate(\n      gettext(\"%(username)s is online (hidden)\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline_hidden) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s (hidden)\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  } else if (status.is_online) {\n    return interpolate(\n      gettext(\"%(username)s is online\"),\n      {\n        username: user.username,\n      },\n      true\n    )\n  } else if (status.is_offline) {\n    return interpolate(\n      gettext(\"%(username)s was last seen %(last_click)s\"),\n      {\n        username: user.username,\n        last_click: status.last_click.fromNow(),\n      },\n      true\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"change-avatar\">\n          <span className=\"user-avatar\">\n            <Avatar size=\"100\" />\n          </span>\n        </div>\n        <div className=\"change-author\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 100) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(30, 70) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n        <div className=\"change-date\">\n          <span\n            className=\"ui-preview-text\"\n            style={{ width: random.int(80, 140) + \"px\" }}\n          >\n            &nbsp;\n          </span>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\n\nexport default class extends React.Component {\n  renderUserAvatar() {\n    if (this.props.change.changed_by) {\n      return (\n        <a\n          href={this.props.change.changed_by.url}\n          className=\"user-avatar-wrapper\"\n        >\n          <Avatar user={this.props.change.changed_by} size=\"100\" />\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"user-avatar-wrapper\">\n          <Avatar size=\"100\" />\n        </span>\n      )\n    }\n  }\n\n  renderUsername() {\n    if (this.props.change.changed_by) {\n      return (\n        <a href={this.props.change.changed_by.url} className=\"item-title\">\n          {this.props.change.changed_by.username}\n        </a>\n      )\n    } else {\n      return (\n        <span className=\"item-title\">\n          {this.props.change.changed_by_username}\n        </span>\n      )\n    }\n  }\n\n  render() {\n    return (\n      <li className=\"list-group-item\" key={this.props.change.id}>\n        <div className=\"change-avatar\">{this.renderUserAvatar()}</div>\n        <div className=\"change-author\">{this.renderUsername()}</div>\n        <div className=\"change\">\n          <span className=\"old-username\">{this.props.change.old_username}</span>\n          <span className=\"material-icon\">arrow_forward</span>\n          <span className=\"new-username\">{this.props.change.new_username}</span>\n        </div>\n        <div className=\"change-date\">\n          <abbr title={this.props.change.changed_on.format(\"LLL\")}>\n            {this.props.change.changed_on.fromNow()}\n          </abbr>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    if (this.props.emptyMessage) {\n      return this.props.emptyMessage\n    } else {\n      return gettext(\"No name changes have been recorded for your account.\")\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          <li className=\"list-group-item empty-message\">\n            {this.getEmptyMessage()}\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ChangePreview from \"misago/components/username-history/change-preview\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"username-history ui-preview\">\n        <ul className=\"list-group\">\n          {[0, 1, 2].map((i) => {\n            return <ChangePreview hiddenOnMobile={i > 0} key={i} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Change from \"misago/components/username-history/change\"\n\nexport default class extends React.Component {\n  render() {\n    return (\n      <div className=\"username-history ui-ready\">\n        <ul className=\"list-group\">\n          {this.props.changes.map((change) => {\n            return <Change change={change} key={change.id} />\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/username-history/list-empty\"\nimport ListReady from \"misago/components/username-history/list-ready\"\nimport ListPreview from \"misago/components/username-history/list-preview\"\n\nexport default class extends React.Component {\n  render() {\n    if (this.props.isLoaded) {\n      if (this.props.changes.length) {\n        return <ListReady changes={this.props.changes} />\n      } else {\n        return <ListEmpty emptyMessage={this.props.emptyMessage} />\n      }\n    } else {\n      return <ListPreview />\n    }\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport Stats from \"./stats\"\nimport UserTitle from \"./user-title\"\n\nexport default function ({ showStatus, user }) {\n  const { rank } = user\n\n  let className = \"panel user-card\"\n  if (rank.css_class) {\n    className += \" user-card-\" + rank.css_class\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"panel-body\">\n        <div className=\"row\">\n          <div className=\"col-xs-3 user-card-left\">\n            <div className=\"user-card-small-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"50\" size2x=\"80\" user={user} />\n              </a>\n            </div>\n          </div>\n          <div className=\"col-xs-9 col-sm-12 user-card-body\">\n            <div className=\"user-card-avatar\">\n              <a href={user.url}>\n                <Avatar size=\"150\" size2x=\"200\" user={user} />\n              </a>\n            </div>\n\n            <div className=\"user-card-username\">\n              <a href={user.url}>{user.username}</a>\n            </div>\n            <div className=\"user-card-title\">\n              <UserTitle rank={rank} title={user.title} />\n            </div>\n\n            <div className=\"user-card-stats\">\n              <Stats showStatus={showStatus} user={user} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport UserStatus, { StatusLabel } from \"misago/components/user-status\"\n\nexport default function ({ showStatus, user }) {\n  return (\n    <ul className=\"list-unstyled\">\n      <Status showStatus={showStatus} user={user} />\n      <JoinDate user={user} />\n      <li className=\"user-stat-divider\" />\n      <Posts user={user} />\n      <Threads user={user} />\n      <Followers user={user} />\n    </ul>\n  )\n}\n\nexport function Status({ showStatus, user }) {\n  if (!showStatus) return null\n\n  return (\n    <li className=\"user-stat-status\">\n      <UserStatus status={user.status}>\n        <StatusLabel status={user.status} user={user} />\n      </UserStatus>\n    </li>\n  )\n}\n\nexport function JoinDate({ user }) {\n  const { joined_on } = user\n\n  let title = interpolate(\n    gettext(\"Joined on %(joined_on)s\"),\n    {\n      joined_on: joined_on.format(\"LL, LT\"),\n    },\n    true\n  )\n\n  let message = interpolate(\n    gettext(\"Joined %(joined_on)s\"),\n    {\n      joined_on: joined_on.fromNow(),\n    },\n    true\n  )\n\n  return (\n    <li className=\"user-stat-join-date\">\n      <abbr title={title}>{message}</abbr>\n    </li>\n  )\n}\n\nexport function Posts({ user }) {\n  const className = getStatClassName(\"user-stat-posts\", user.posts)\n  const message = ngettext(\"%(posts)s post\", \"%(posts)s posts\", user.posts)\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          posts: user.posts,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Threads({ user }) {\n  const className = getStatClassName(\"user-stat-threads\", user.threads)\n  const message = ngettext(\n    \"%(threads)s thread\",\n    \"%(threads)s threads\",\n    user.threads\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          threads: user.threads,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function Followers({ user }) {\n  const className = getStatClassName(\"user-stat-followers\", user.followers)\n  const message = ngettext(\n    \"%(followers)s follower\",\n    \"%(followers)s followers\",\n    user.followers\n  )\n\n  return (\n    <li className={className}>\n      {interpolate(\n        message,\n        {\n          followers: user.followers,\n        },\n        true\n      )}\n    </li>\n  )\n}\n\nexport function getStatClassName(className, stat) {\n  if (stat === 0) {\n    return className + \" user-stat-empty\"\n  }\n  return className\n}\n","import React from \"react\"\n\nexport default function ({ rank, title }) {\n  let userTitle = title || rank.title || rank.name\n\n  let className = \"user-title\"\n  if (rank.css_class) {\n    className += \" user-title-\" + rank.css_class\n  }\n\n  if (rank.is_tab) {\n    return (\n      <a className={className} href={rank.url}>\n        {userTitle}\n      </a>\n    )\n  }\n\n  return <span className={className}>{userTitle}</span>\n}\n","import React from \"react\"\nimport Card from \"./card\"\nimport Preview from \"./preview\"\n\nexport default function ({ cols, isReady, showStatus, users }) {\n  let colClassName = \"col-xs-12 col-sm-4\"\n  if (cols === 4) {\n    colClassName += \" col-md-3\"\n  }\n\n  if (!isReady) {\n    return <Preview colClassName={colClassName} cols={cols} />\n  }\n\n  return (\n    <div className=\"users-cards-list ui-ready\">\n      <div className=\"row\">\n        {users.map((user) => {\n          return (\n            <div className={colClassName} key={user.id}>\n              <Card showStatus={showStatus} user={user} />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"panel user-card user-card-preview\">\n        <div className=\"panel-body\">\n          <div className=\"row\">\n            <div className=\"col-xs-3 user-card-left\">\n              <div className=\"user-card-small-avatar\">\n                <span>\n                  <Avatar size=\"50\" size2x=\"80\" />\n                </span>\n              </div>\n            </div>\n            <div className=\"col-xs-9 col-sm-12 user-card-body\">\n              <div className=\"user-card-avatar\">\n                <span>\n                  <Avatar size=\"150\" size2x=\"200\" />\n                </span>\n              </div>\n\n              <div className=\"user-card-username\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n              <div className=\"user-card-title\">\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(60, 150) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </div>\n\n              <div className=\"user-card-stats\">\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li className=\"user-stat-divider\" />\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                  <li>\n                    <span\n                      className=\"ui-preview-text\"\n                      style={{ width: random.int(30, 70) + \"px\" }}\n                    >\n                      &nbsp;\n                    </span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Card from \"./card\"\n\nexport default function ({ colClassName, cols }) {\n  const list = Array.apply(null, { length: cols }).map(Number.call, Number)\n\n  return (\n    <div className=\"users-cards-list ui-preview\">\n      <div className=\"row\">\n        {list.map((i) => {\n          let className = colClassName\n          if (i !== 0) className += \" hidden-xs\"\n          if (i === 3) className += \" hidden-sm\"\n\n          return (\n            <div className={className} key={i}>\n              <Card />\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Li from \"misago/components/li\"\n\nconst UsersNav = ({ baseUrl, page, pages }) => (\n  <div className=\"nav-container\">\n    <div className=\"dropdown hidden-sm hidden-md hidden-lg\">\n      <button\n        className=\"btn btn-default btn-block btn-outline dropdown-toggle\"\n        type=\"button\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <span className=\"material-icon\">menu</span>\n        {page.name}\n      </button>\n      <ul className=\"dropdown-menu stick-to-bottom\">\n        {pages.map((page) => {\n          const url = getPageUrl(baseUrl, page)\n          return (\n            <li key={url}>\n              <Link to={url}>{page.name}</Link>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n    <ul className=\"nav nav-pills hidden-xs\" role=\"menu\">\n      {pages.map((page) => {\n        const url = getPageUrl(baseUrl, page)\n        return (\n          <Li path={url} key={url}>\n            <Link to={url}>{page.name}</Link>\n          </Li>\n        )\n      })}\n    </ul>\n  </div>\n)\n\nconst getPageUrl = (baseUrl, page) => {\n  let url = baseUrl\n  if (page.component === \"rank\") {\n    url += page.slug\n  } else {\n    url += page.component\n  }\n  return url + \"/\"\n}\n\nexport default UsersNav\n","import React from \"react\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getEmptyMessage() {\n    return interpolate(\n      gettext(\n        \"No users have posted any new messages during last %(days)s days.\"\n      ),\n      { days: this.props.trackedPeriod },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getEmptyMessage()}</p>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport Avatar from \"misago/components/avatar\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  getClassName() {\n    if (this.props.hiddenOnMobile) {\n      return \"list-group-item hidden-xs hidden-sm\"\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <span>\n            <Avatar size=\"50\" />\n          </span>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <span className=\"item-title\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 80) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n\n          <div className=\"user-details\">\n            <span className=\"user-status\">\n              <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n              <span\n                className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"rank-name\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n            <span className=\"user-title hidden-xs hidden-sm\">\n              <span\n                className=\"ui-preview-text\"\n                style={{ width: random.int(30, 50) + \"px\" }}\n              >\n                &nbsp;\n              </span>\n            </span>\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n            <span className=\"rank-posts-counted\">\n              <strong>\n                <span\n                  className=\"ui-preview-text\"\n                  style={{ width: random.int(20, 30) + \"px\" }}\n                >\n                  &nbsp;\n                </span>\n              </strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(20, 30) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport { Link } from \"react-router\"\nimport Avatar from \"misago/components/avatar\"\nimport Status, { StatusIcon, StatusLabel } from \"misago/components/user-status\"\nimport misago from \"misago/index\"\nimport * as random from \"misago/utils/random\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.rank.css_class) {\n      return \"list-group-item list-group-rank-\" + this.props.rank.css_class\n    } else {\n      return \"list-group-item\"\n    }\n  }\n\n  getUserStatus() {\n    if (this.props.user.status) {\n      return (\n        <Status user={this.props.user} status={this.props.user.status}>\n          <StatusIcon user={this.props.user} status={this.props.user.status} />\n          <StatusLabel\n            user={this.props.user}\n            status={this.props.user.status}\n            className=\"status-label hidden-xs hidden-sm\"\n          />\n        </Status>\n      )\n    }\n\n    return (\n      <span className=\"user-status\">\n        <span className=\"status-icon ui-preview-text\">&nbsp;</span>\n        <span\n          className=\"status-label ui-preview-text hidden-xs hidden-sm\"\n          style={{ width: random.int(30, 50) + \"px\" }}\n        >\n          &nbsp;\n        </span>\n      </span>\n    )\n  }\n\n  getRankName() {\n    if (!this.props.rank.is_tab) {\n      return (\n        <span className=\"rank-name item-title\">{this.props.rank.name}</span>\n      )\n    }\n\n    let rankUrl = misago.get(\"USERS_LIST_URL\") + this.props.rank.slug + \"/\"\n    return (\n      <Link to={rankUrl} className=\"rank-name item-title\">\n        {this.props.rank.name}\n      </Link>\n    )\n  }\n\n  getUserTitle() {\n    if (!this.props.user.title) return null\n\n    return (\n      <span className=\"user-title hidden-xs hidden-sm\">\n        {this.props.user.title}\n      </span>\n    )\n  }\n\n  render() {\n    return (\n      <li className={this.getClassName()}>\n        <div className=\"rank-user-avatar\">\n          <a href={this.props.user.url}>\n            <Avatar user={this.props.user} size={50} size2x={64} />\n          </a>\n        </div>\n\n        <div className=\"rank-user\">\n          <div className=\"user-name\">\n            <a href={this.props.user.url} className=\"item-title\">\n              {this.props.user.username}\n            </a>\n          </div>\n          <div className=\"user-details\">\n            {this.getUserStatus()}\n            {this.getRankName()}\n            {this.getUserTitle()}\n          </div>\n          <div className=\"user-compact-stats visible-xs-block\">\n            <span className=\"rank-position\">\n              <strong>#{this.props.counter}</strong>\n              <small>{gettext(\"Rank\")}</small>\n            </span>\n\n            <span className=\"rank-posts-counted\">\n              <strong>{this.props.user.meta.score}</strong>\n              <small>{gettext(\"Ranked posts\")}</small>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"rank-position hidden-xs\">\n          <strong>#{this.props.counter}</strong>\n          <small>{gettext(\"Rank\")}</small>\n        </div>\n\n        <div className=\"rank-posts-counted hidden-xs\">\n          <strong>{this.props.user.meta.score}</strong>\n          <small>{gettext(\"Ranked posts\")}</small>\n        </div>\n\n        <div className=\"rank-posts-total hidden-xs\">\n          <strong>{this.props.user.posts}</strong>\n          <small>{gettext(\"Total posts\")}</small>\n        </div>\n      </li>\n    )\n  }\n}\n","import React from \"react\"\nimport ItemPreview from \"misago/components/users/active-posters/list-item-preview\"\nimport * as random from \"misago/utils/random\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead ui-preview\">\n            <span\n              className=\"ui-preview-text\"\n              style={{ width: random.int(50, 220) + \"px\" }}\n            >\n              &nbsp;\n            </span>\n          </p>\n\n          <div className=\"active-posters ui-preview\">\n            <ul className=\"list-group\">\n              {[0, 1, 2].map((i) => {\n                return <ItemPreview hiddenOnMobile={i > 0} key={i} />\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListItem from \"misago/components/users/active-posters/list-item\"\nimport PageContainer from \"../../PageContainer\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  getLeadMessage() {\n    let message = ngettext(\n      \"%(posters)s top poster from last %(days)s days.\",\n      \"%(posters)s top posters from last %(days)s days.\",\n      this.props.count\n    )\n\n    return interpolate(\n      message,\n      {\n        posters: this.props.count,\n        days: this.props.trackedPeriod,\n      },\n      true\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"active-posters-list\">\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={this.props.page}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          <p className=\"lead\">{this.getLeadMessage()}</p>\n\n          <div className=\"active-posters ui-ready\">\n            <ul className=\"list-group\">\n              {this.props.users.map((user, i) => {\n                return (\n                  <ListItem\n                    user={user}\n                    rank={user.rank}\n                    counter={i + 1}\n                    key={user.id}\n                  />\n                )\n              })}\n            </ul>\n          </div>\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport ListEmpty from \"misago/components/users/active-posters/list-empty\"\nimport ListPreview from \"misago/components/users/active-posters/list-preview\"\nimport ListReady from \"misago/components/users/active-posters/list-ready\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling()\n  }\n\n  initWithPreloadedData(data) {\n    this.state = {\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    }\n\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling() {\n    polls.start({\n      poll: \"active-posters\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        list: \"active\",\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    this.setState({\n      isLoaded: true,\n\n      trackedPeriod: data.tracked_period,\n      count: data.count,\n    })\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.extra.name,\n      parent: gettext(\"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"active-posters\")\n  }\n\n  render() {\n    const page = { name: this.props.route.extra.name }\n\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return (\n          <ListReady\n            page={page}\n            users={this.props.users}\n            trackedPeriod={this.state.trackedPeriod}\n            count={this.state.count}\n          />\n        )\n      } else {\n        return (\n          <ListEmpty page={page} trackedPeriod={this.state.trackedPeriod} />\n        )\n      }\n    } else {\n      return <ListPreview page={page} />\n    }\n  }\n}\n","import React from \"react\"\n\nconst RankUsersLeft = ({ users }) => {\n  if (users.more) {\n    return (\n      <p>\n        {interpolate(\n          ngettext(\n            \"There is %(more)s more member with this role.\",\n            \"There are %(more)s more members with this role.\",\n            users.more\n          ),\n          { more: users.more },\n          true\n        )}\n      </p>\n    )\n  }\n\n  return <p>{gettext(\"There are no more members with this role.\")}</p>\n}\n\nexport default RankUsersLeft\n","import React from \"react\"\nimport UsersList from \"../../users-list\"\n\nconst RankUsersList = ({ users }) => (\n  <UsersList cols={4} isReady={true} showStatus={true} users={users} />\n)\n\nexport default RankUsersList\n","import React from \"react\"\nimport UsersList from \"misago/components/users-list\"\n\nclass RankUsersListLoader extends React.Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  render = () => <UsersList cols={4} isReady={false} />\n}\n\nexport default RankUsersListLoader\n","import React from \"react\"\nimport { Link } from \"react-router\"\n\nconst RankUsersPagination = ({ baseUrl, users }) => (\n  <div className=\"misago-pagination\">\n    {users.isLoaded && users.first ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl}\n        title={gettext(\"Go to first page\")}\n      >\n        <span className=\"material-icon\">first_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to first page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">first_page</span>\n      </button>\n    )}\n    {users.isLoaded && users.previous ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + (users.previous > 1 ? users.previous + \"/\" : \"\")}\n        title={gettext(\"Go to previous page\")}\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to previous page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_left</span>\n      </button>\n    )}\n    {users.isLoaded && users.next ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.next + \"/\"}\n        title={gettext(\"Go to next page\")}\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to next page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">chevron_right</span>\n      </button>\n    )}\n    {users.isLoaded && users.last ? (\n      <Link\n        className=\"btn btn-default btn-outline btn-icon\"\n        to={baseUrl + users.last + \"/\"}\n        title={gettext(\"Go to last page\")}\n      >\n        <span className=\"material-icon\">last_page</span>\n      </Link>\n    ) : (\n      <button\n        className=\"btn btn-default btn-outline btn-icon\"\n        title={gettext(\"Go to last page\")}\n        type=\"button\"\n        disabled\n      >\n        <span className=\"material-icon\">last_page</span>\n      </button>\n    )}\n  </div>\n)\n\nexport default RankUsersPagination\n","import React from \"react\"\nimport { Toolbar, ToolbarItem, ToolbarSection } from \"../../Toolbar\"\nimport RankUsersLeft from \"./RankUsersLeft\"\nimport RankUsersPagination from \"./RankUsersPagination\"\n\nconst RankUsersToolbar = ({ baseUrl, users }) => (\n  <Toolbar>\n    <ToolbarSection>\n      <ToolbarItem>\n        <RankUsersPagination baseUrl={baseUrl} users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n    <ToolbarSection auto>\n      <ToolbarItem>\n        <RankUsersLeft users={users} />\n      </ToolbarItem>\n    </ToolbarSection>\n  </Toolbar>\n)\n\nexport default RankUsersToolbar\n","import React from \"react\"\nimport PageLead from \"misago/components/page-lead\"\nimport misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/users\"\nimport polls from \"misago/services/polls\"\nimport store from \"misago/services/store\"\nimport title from \"misago/services/page-title\"\nimport PageContainer from \"../../PageContainer\"\nimport RankUsersList from \"./RankUsersList\"\nimport RankUsersListLoader from \"./RankUsersListLoader\"\nimport RankUsersToolbar from \"./RankUsersToolbar\"\nimport UsersNav from \"../UsersNav\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    if (misago.has(\"USERS\")) {\n      this.initWithPreloadedData(misago.pop(\"USERS\"))\n    } else {\n      this.initWithoutPreloadedData()\n    }\n\n    this.startPolling(props.params.page || 1)\n  }\n\n  initWithPreloadedData(data) {\n    this.state = Object.assign(data, {\n      isLoaded: true,\n    })\n    store.dispatch(hydrate(data.results))\n  }\n\n  initWithoutPreloadedData() {\n    this.state = {\n      isLoaded: false,\n    }\n  }\n\n  startPolling(page) {\n    polls.start({\n      poll: \"rank-users\",\n      url: misago.get(\"USERS_API\"),\n      data: {\n        rank: this.props.route.rank.id,\n        page: page,\n      },\n      frequency: 90 * 1000,\n      update: this.update,\n    })\n  }\n\n  update = (data) => {\n    store.dispatch(hydrate(data.results))\n\n    data.isLoaded = true\n    this.setState(data)\n  }\n\n  componentDidMount() {\n    title.set({\n      title: this.props.route.rank.name,\n      page: this.props.params.page || null,\n      parent: gettext(\"Users\"),\n    })\n  }\n\n  componentWillUnmount() {\n    polls.stop(\"rank-users\")\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.params.page !== nextProps.params.page) {\n      title.set({\n        title: this.props.route.rank.name,\n        page: nextProps.params.page || null,\n        parent: gettext(\"Users\"),\n      })\n\n      this.setState({\n        isLoaded: false,\n      })\n\n      polls.stop(\"rank-users\")\n      this.startPolling(nextProps.params.page)\n    }\n  }\n\n  getClassName() {\n    if (this.props.route.rank.css_class) {\n      return \"rank-users-list rank-users-\" + this.props.route.rank.css_class\n    } else {\n      return \"rank-users-list\"\n    }\n  }\n\n  getRankDescription() {\n    if (this.props.route.rank.description) {\n      return (\n        <div className=\"rank-description\">\n          <PageLead copy={this.props.route.rank.description.html} />\n        </div>\n      )\n    } else {\n      return null\n    }\n  }\n\n  getComponent() {\n    if (this.state.isLoaded) {\n      if (this.state.count > 0) {\n        return <RankUsersList users={this.props.users} />\n      } else {\n        return (\n          <p className=\"lead\">\n            {gettext(\"There are no users with this rank at the moment.\")}\n          </p>\n        )\n      }\n    } else {\n      return <RankUsersListLoader />\n    }\n  }\n\n  render() {\n    return (\n      <div className={this.getClassName()}>\n        <PageContainer>\n          <UsersNav\n            baseUrl={misago.get(\"USERS_LIST_URL\")}\n            page={{ name: this.props.route.rank.name }}\n            pages={misago.get(\"USERS_LISTS\")}\n          />\n          {this.getRankDescription()}\n          {this.getComponent()}\n          <RankUsersToolbar\n            baseUrl={\n              misago.get(\"USERS_LIST_URL\") + this.props.route.rank.slug + \"/\"\n            }\n            users={this.state}\n          />\n        </PageContainer>\n      </div>\n    )\n  }\n}\n","import React from \"react\"\nimport { connect } from \"react-redux\"\nimport ActivePosters from \"misago/components/users/active-posters/root\"\nimport Rank from \"misago/components/users/rank/root\"\nimport WithDropdown from \"misago/components/with-dropdown\"\nimport misago from \"misago/index\"\nimport {\n  PageHeader,\n  PageHeaderBanner,\n  PageHeaderContainer,\n} from \"../PageHeader\"\n\nexport default class extends WithDropdown {\n  render() {\n    return (\n      <div className=\"page page-users-lists\">\n        <PageHeaderContainer>\n          <PageHeader styleName=\"users-lists\">\n            <PageHeaderBanner styleName=\"users-lists\">\n              <h1>{gettext(\"Users\")}</h1>\n            </PageHeaderBanner>\n          </PageHeader>\n        </PageHeaderContainer>\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nexport function select(store) {\n  return {\n    tick: store.tick.tick,\n    user: store.auth.user,\n    users: store.users,\n  }\n}\n\nexport function paths() {\n  let paths = []\n\n  misago.get(\"USERS_LISTS\").forEach(function (item) {\n    if (item.component === \"rank\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/:page/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.slug + \"/\",\n        component: connect(select)(Rank),\n        rank: item,\n      })\n    } else if (item.component === \"active-posters\") {\n      paths.push({\n        path: misago.get(\"USERS_LIST_URL\") + item.component + \"/\",\n        component: connect(select)(ActivePosters),\n        extra: {\n          name: item.name,\n        },\n      })\n    }\n  })\n\n  return paths\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dropdown: false,\n    }\n  }\n\n  toggleNav = () => {\n    this.setState({\n      dropdown: !this.state.dropdown,\n    })\n  }\n\n  hideNav = () => {\n    this.setState({\n      dropdown: false,\n    })\n  }\n\n  getCompactNavClassName() {\n    if (this.state.dropdown) {\n      return \"compact-nav open\"\n    } else {\n      return \"compact-nav\"\n    }\n  }\n}\n","import React from \"react\"\n\nexport default class extends React.Component {\n  getClassName() {\n    if (this.props.value) {\n      return \"btn btn-yes-no btn-yes-no-on\"\n    } else {\n      return \"btn btn-yes-no btn-yes-no-off\"\n    }\n  }\n\n  getIcon() {\n    if (!!this.props.value) {\n      return this.props.iconOn || \"check_box\"\n    } else {\n      return this.props.iconOff || \"check_box_outline_blank\"\n    }\n  }\n\n  getLabel() {\n    if (!!this.props.value) {\n      return this.props.labelOn || gettext(\"yes\")\n    } else {\n      return this.props.labelOff || gettext(\"no\")\n    }\n  }\n\n  toggle = () => {\n    this.props.onChange({\n      target: {\n        value: !this.props.value,\n      },\n    })\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        onClick={this.toggle}\n        className={this.getClassName()}\n        id={this.props.id || null}\n        aria-describedby={this.props[\"aria-describedby\"] || null}\n        disabled={this.props.disabled || false}\n      >\n        <span className=\"material-icon\">{this.getIcon()}</span>\n        <span className=\"btn-text\">{this.getLabel()}</span>\n      </button>\n    )\n  }\n}\n","import React from \"react\"\nimport { load } from \"misago/reducers/profile-details\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default class extends React.Component {\n  componentDidMount() {\n    const { data, dispatch, user } = this.props\n    if (data && data.id === user.id) return\n\n    ajax.get(this.props.user.api.details).then(\n      (data) => {\n        dispatch(load(data))\n      },\n      (rejection) => {\n        snackbar.apiError(rejection)\n      }\n    )\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n","import \"bootstrap/js/transition\"\nimport \"bootstrap/js/affix\"\nimport \"bootstrap/js/modal\"\nimport \"bootstrap/js/dropdown\"\nimport \"at-js\"\nimport \"cropit\"\nimport \"waypoints\"\nimport \"jquery-caret\"\nimport OrderedList from \"misago/utils/ordered-list\"\nimport \"misago/style/index.less\"\n\nexport class Misago {\n  constructor() {\n    this._initializers = []\n    this._context = {}\n  }\n\n  addInitializer(initializer) {\n    this._initializers.push({\n      key: initializer.name,\n\n      item: initializer.initializer,\n\n      after: initializer.after,\n      before: initializer.before,\n    })\n  }\n\n  init(context) {\n    this._context = context\n\n    var initOrder = new OrderedList(this._initializers).orderedValues()\n    initOrder.forEach((initializer) => {\n      initializer(this)\n    })\n  }\n\n  // context accessors\n  has(key) {\n    return !!this._context[key]\n  }\n\n  get(key, fallback) {\n    if (this.has(key)) {\n      return this._context[key]\n    } else {\n      return fallback || undefined\n    }\n  }\n\n  pop(key) {\n    if (this.has(key)) {\n      let value = this._context[key]\n      this._context[key] = null\n      return value\n    } else {\n      return undefined\n    }\n  }\n}\n\n// create  singleton\nvar misago = new Misago()\n\n// expose it globally\nwindow.misago = misago\n\n// and export it for tests and stuff\nexport default misago\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\n\nexport default function initializer() {\n  ajax.init(misago.get(\"CSRF_COOKIE_NAME\"))\n}\n\nmisago.addInitializer({\n  name: \"ajax\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport { patch } from \"misago/reducers/auth\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nconst AUTH_SYNC_RATE = 45 // sync user with backend every 45 seconds\n\nexport default function initializer(context) {\n  if (context.get(\"isAuthenticated\")) {\n    window.setInterval(function () {\n      ajax.get(context.get(\"AUTH_API\")).then(\n        function (data) {\n          store.dispatch(patch(data))\n        },\n        function (rejection) {\n          snackbar.apiError(rejection)\n        }\n      )\n    }, AUTH_SYNC_RATE * 1000)\n  }\n}\n\nmisago.addInitializer({\n  name: \"auth-sync\",\n  initializer: initializer,\n  after: \"auth\",\n})\n","import misago from \"misago/index\"\nimport auth from \"misago/services/auth\"\nimport modal from \"misago/services/modal\"\nimport store from \"misago/services/store\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  auth.init(store, storage, modal)\n}\n\nmisago.addInitializer({\n  name: \"auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport captcha from \"misago/services/captcha\"\nimport include from \"misago/services/include\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer(context) {\n  captcha.init(context, ajax, include, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"captcha\",\n  initializer: initializer,\n})\n","import React from \"react\"\nimport misago from \"misago/index\"\nimport AcceptAgreement from \"misago/components/accept-agreement\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (document.getElementById(\"required-agreement-mount\")) {\n    mount(\n      <AcceptAgreement api={context.get(\"REQUIRED_AGREEMENT_API\")} />,\n      \"required-agreement-mount\",\n      false\n    )\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:accept-agreement\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport AuthMessage, { select } from \"misago/components/auth-message\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(AuthMessage), \"auth-message-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:auth-message\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport showBannedPage from \"misago/utils/banned-page\"\n\nexport default function initializer(context) {\n  if (context.has(\"BAN_MESSAGE\")) {\n    showBannedPage(context.get(\"BAN_MESSAGE\"), false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:banmed-page\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Categories, { select } from \"misago/components/categories\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"categories-mount\")) {\n    mount(connect(select)(Categories), \"categories-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:categories\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Options, { paths } from \"misago/components/options/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USER_OPTIONS\")) {\n    mount({\n      root: misago.get(\"USERCP_URL\"),\n      component: Options,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:options\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport Profile, { paths, select } from \"misago/components/profile/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"PROFILE\") && context.has(\"PROFILE_PAGES\")) {\n    mount({\n      root: misago.get(\"PROFILE\").url,\n      component: connect(select)(Profile),\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:profile\",\n  initializer: initializer,\n  after: \"reducer:profile-hydrate\",\n})\n","import misago from \"misago/index\"\nimport RequestActivationLink from \"misago/components/request-activation-link\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-activation-link-mount\")) {\n    mount(RequestActivationLink, \"request-activation-link-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-activation-link\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport RequestPasswordReset from \"misago/components/request-password-reset\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"request-password-reset-mount\")) {\n    mount(RequestPasswordReset, \"request-password-reset-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:request-password-reset\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago\"\nimport ResetPasswordForm from \"misago/components/reset-password-form\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  if (document.getElementById(\"reset-password-form-mount\")) {\n    mount(ResetPasswordForm, \"reset-password-form-mount\", false)\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:reset-password-form\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import paths from \"misago/components/search\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:search\") {\n    mount({\n      paths: paths(misago.get(\"SEARCH_PROVIDERS\")),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:search\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport { Snackbar, select } from \"misago/components/snackbar\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(Snackbar), \"snackbar-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:snackbar\",\n  initializer: initializer,\n  after: \"snackbar\",\n})\n","import React from \"react\"\nimport SocialAuth from \"misago/components/social-auth\"\nimport misago from \"misago\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer(context) {\n  if (context.get(\"CURRENT_LINK\") === \"misago:social-complete\") {\n    const props = context.get(\"SOCIAL_AUTH_FORM\")\n    mount(<SocialAuth {...props} />, \"page-mount\")\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:social-auth\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/thread/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREAD\") && context.has(\"POSTS\")) {\n    mount({\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:thread\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { paths } from \"misago/components/threads/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nconst PRIVATE_THREADS_LIST = \"misago:private-threads\"\n\nexport default function initializer(context) {\n  if (context.has(\"THREADS\") && context.has(\"CATEGORIES\")) {\n    mount({\n      paths: paths(context.get(\"user\"), getListOptions(context)),\n    })\n  }\n}\n\nexport function getListOptions(context) {\n  const currentLink = context.get(\"CURRENT_LINK\")\n  if (\n    currentLink.substr(0, PRIVATE_THREADS_LIST.length) === PRIVATE_THREADS_LIST\n  ) {\n    return {\n      api: context.get(\"PRIVATE_THREADS_API\"),\n      startThread: {\n        mode: \"START_PRIVATE\",\n        submit: misago.get(\"PRIVATE_THREADS_API\"),\n      },\n      title: gettext(\"Private threads\"),\n      pageLead: gettext(\n        \"Private threads are threads which only those that started them and those they have invited may see and participate in.\"\n      ),\n      emptyMessage: gettext(\"You aren't participating in any private threads.\"),\n    }\n  }\n\n  return {\n    api: context.get(\"THREADS_API\"),\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:threads\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import { connect } from \"react-redux\"\nimport misago from \"misago/index\"\nimport {\n  UserMenu,\n  CompactUserMenu,\n  select,\n} from \"misago/components/user-menu/root\"\nimport mount from \"misago/utils/mount-component\"\n\nexport default function initializer() {\n  mount(connect(select)(UserMenu), \"user-menu-mount\")\n  mount(connect(select)(CompactUserMenu), \"user-menu-compact-mount\")\n}\n\nmisago.addInitializer({\n  name: \"component:user-menu\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import Users, { paths } from \"misago/components/users/root\"\nimport misago from \"misago/index\"\nimport mount from \"misago/utils/routed-component\"\n\nexport default function initializer(context) {\n  if (context.has(\"USERS_LISTS\")) {\n    mount({\n      root: misago.get(\"USERS_LIST_URL\"),\n      component: Users,\n      paths: paths(),\n    })\n  }\n}\n\nmisago.addInitializer({\n  name: \"component:users\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\n\nexport default function initializer(context) {\n  include.init(context.get(\"STATIC_URL\"))\n}\n\nmisago.addInitializer({\n  name: \"include\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport storage from \"misago/services/local-storage\"\n\nexport default function initializer() {\n  storage.init(\"misago_\")\n}\n\nmisago.addInitializer({\n  name: \"local-storage\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport dropdown from \"misago/services/mobile-navbar-dropdown\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"mobile-navbar-dropdown-mount\")\n  if (element) {\n    dropdown.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"dropdown\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport modal from \"misago/services/modal\"\n\nexport default function initializer() {\n  let element = document.getElementById(\"modal-mount\")\n  if (element) {\n    modal.init(element)\n  }\n}\n\nmisago.addInitializer({\n  name: \"modal\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import moment from \"moment\"\nimport misago from \"misago/index\"\n\nexport default function initializer() {\n  moment.locale($(\"html\").attr(\"lang\"))\n}\n\nmisago.addInitializer({\n  name: \"moment\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport title from \"misago/services/page-title\"\n\nexport default function initializer(context) {\n  title.init(\n    context.get(\"SETTINGS\").forum_index_title,\n    context.get(\"SETTINGS\").forum_name\n  )\n}\n\nmisago.addInitializer({\n  name: \"page-title\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport snackbar from \"misago/services/snackbar\"\nimport polls from \"misago/services/polls\"\n\nexport default function initializer() {\n  polls.init(ajax, snackbar)\n}\n\nmisago.addInitializer({\n  name: \"polls\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport ajax from \"misago/services/ajax\"\nimport posting from \"misago/services/posting\"\nimport snackbar from \"misago/services/snackbar\"\n\nexport default function initializer() {\n  posting.init(ajax, snackbar, document.getElementById(\"posting-mount\"))\n}\n\nmisago.addInitializer({\n  name: \"posting\",\n  initializer: initializer,\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/auth\"\nimport store from \"misago/services/store\"\n\nexport default function initializer(context) {\n  store.addReducer(\n    \"auth\",\n    reducer,\n    Object.assign(\n      {\n        isAuthenticated: context.get(\"isAuthenticated\"),\n        isAnonymous: !context.get(\"isAuthenticated\"),\n\n        user: context.get(\"user\"),\n      },\n      initialState\n    )\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:auth\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/participants\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = misago.get(\"THREAD\").participants\n  }\n\n  store.addReducer(\"participants\", reducer, initialState || [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:participants\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/poll\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\") && misago.get(\"THREAD\").poll) {\n    initialState = hydrate(misago.get(\"THREAD\").poll)\n  } else {\n    initialState = {}\n  }\n\n  store.addReducer(\"poll\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:poll\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/posts\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"POSTS\")) {\n    initialState = hydrate(misago.get(\"POSTS\"))\n  } else {\n    initialState = {\n      isLoaded: false,\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"posts\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:posts\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile-details\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"PROFILE_DETAILS\")) {\n    initialState = misago.get(\"PROFILE_DETAILS\")\n  }\n\n  store.addReducer(\"profile-details\", reducer, initialState || {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-details\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport { hydrate } from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  if (misago.has(\"PROFILE\")) {\n    store.dispatch(hydrate(misago.get(\"PROFILE\")))\n  }\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile-hydrate\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/profile\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"profile\", reducer, {})\n}\n\nmisago.addInitializer({\n  name: \"reducer:profile\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago\"\nimport reducer, { initialState } from \"misago/reducers/search\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\n    \"search\",\n    reducer,\n    Object.assign({}, initialState, {\n      providers: misago.get(\"SEARCH_PROVIDERS\") || [],\n      query: misago.get(\"SEARCH_QUERY\") || \"\",\n    })\n  )\n}\n\nmisago.addInitializer({\n  name: \"reducer:search\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/selection\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"selection\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:selection\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"snackbar\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:snackbar\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { hydrate } from \"misago/reducers/thread\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  let initialState = null\n  if (misago.has(\"THREAD\")) {\n    initialState = hydrate(misago.get(\"THREAD\"))\n  } else {\n    initialState = {\n      isBusy: false,\n    }\n  }\n\n  store.addReducer(\"thread\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:thread\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/threads\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"threads\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:threads\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer, { initialState } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"tick\", reducer, initialState)\n}\n\nmisago.addInitializer({\n  name: \"reducer:tick\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/username-history\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"username-history\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:username-history\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport reducer from \"misago/reducers/users\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.addReducer(\"users\", reducer, [])\n}\n\nmisago.addInitializer({\n  name: \"reducer:users\",\n  initializer: initializer,\n  before: \"store\",\n})\n","import misago from \"misago/index\"\nimport snackbar from \"misago/services/snackbar\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  snackbar.init(store)\n}\n\nmisago.addInitializer({\n  name: \"snackbar\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nexport default function initializer() {\n  store.init()\n}\n\nmisago.addInitializer({\n  name: \"store\",\n  initializer: initializer,\n  before: \"_end\",\n})\n","import misago from \"misago/index\"\nimport { doTick } from \"misago/reducers/tick\"\nimport store from \"misago/services/store\"\n\nconst TICK_PERIOD = 50 * 1000 //do the tick every 50s\n\nexport default function initializer() {\n  window.setInterval(function () {\n    store.dispatch(doTick())\n  }, TICK_PERIOD)\n}\n\nmisago.addInitializer({\n  name: \"tick-start\",\n  initializer: initializer,\n  after: \"store\",\n})\n","import misago from \"misago/index\"\nimport include from \"misago/services/include\"\nimport zxcvbn from \"misago/services/zxcvbn\"\n\nexport default function initializer() {\n  zxcvbn.init(include)\n}\n\nmisago.addInitializer({\n  name: \"zxcvbn\",\n  initializer: initializer,\n})\n","import { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\n\nexport var initialState = {\n  signedIn: false,\n  signedOut: false,\n}\n\nexport const PATCH_USER = \"PATCH_USER\"\nexport const SIGN_IN = \"SIGN_IN\"\nexport const SIGN_OUT = \"SIGN_OUT\"\n\nexport function patch(patch) {\n  return {\n    type: PATCH_USER,\n    patch,\n  }\n}\n\nexport function signIn(user) {\n  return {\n    type: SIGN_IN,\n    user,\n  }\n}\n\nexport function signOut(soft = false) {\n  return {\n    type: SIGN_OUT,\n    soft,\n  }\n}\n\nexport default function auth(state = initialState, action = null) {\n  switch (action.type) {\n    case PATCH_USER:\n      let newState = Object.assign({}, state)\n      newState.user = Object.assign({}, state.user, action.patch)\n      return newState\n\n    case SIGN_IN:\n      return Object.assign({}, state, {\n        signedIn: action.user,\n      })\n\n    case SIGN_OUT:\n      return Object.assign({}, state, {\n        isAuthenticated: false,\n        isAnonymous: true,\n        signedOut: !action.soft,\n      })\n\n    case UPDATE_AVATAR:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          avatars: action.avatars,\n        })\n        return newState\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.isAuthenticated && state.user.id === action.userId) {\n        let newState = Object.assign({}, state)\n        newState.user = Object.assign({}, state.user, {\n          username: action.username,\n          slug: action.slug,\n        })\n        return newState\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_PARTICIPANTS = \"REPLACE_PARTICIPANTS\"\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_PARTICIPANTS,\n    state: newState,\n  }\n}\n\nexport default function participants(state = [], action = null) {\n  switch (action.type) {\n    case REPLACE_PARTICIPANTS:\n      return action.state\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\n\nexport const BUSY_POLL = \"BUSY_POLL\"\nexport const RELEASE_POLL = \"RELEASE_POLL\"\nexport const REMOVE_POLL = \"REMOVE_POLL\"\nexport const REPLACE_POLL = \"REPLACE_POLL\"\nexport const UPDATE_POLL = \"UPDATE_POLL\"\n\nexport function hydrate(json) {\n  let hasSelectedChoices = false\n  for (const i in json.choices) {\n    const choice = json.choices[i]\n    if (choice.selected) {\n      hasSelectedChoices = true\n      break\n    }\n  }\n\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n\n    hasSelectedChoices,\n    endsOn: json.length\n      ? moment(json.posted_on).add(json.length, \"days\")\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_POLL,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_POLL,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_POLL,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_POLL,\n    data,\n  }\n}\n\nexport function remove() {\n  return {\n    type: REMOVE_POLL,\n  }\n}\n\nexport default function poll(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_POLL:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_POLL:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return {\n        isBusy: false,\n      }\n\n    case REPLACE_POLL:\n      return action.state\n\n    case UPDATE_POLL:\n      return Object.assign({}, state, action.data)\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport { hydrateUser } from \"./users\"\n\nexport const PATCH_POST = \"PATCH_POST\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    posted_on: moment(json.posted_on),\n    updated_on: moment(json.updated_on),\n    hidden_on: moment(json.hidden_on),\n\n    attachments: json.attachments\n      ? json.attachments.map(hydrateAttachment)\n      : null,\n    poster: json.poster ? hydrateUser(json.poster) : null,\n\n    isSelected: false,\n    isBusy: false,\n    isDeleted: false,\n  })\n}\n\nexport function hydrateAttachment(json) {\n  return Object.assign({}, json, {\n    uploaded_on: moment(json.uploaded_on),\n  })\n}\n\nexport function patch(post, patch) {\n  return {\n    type: PATCH_POST,\n    post,\n    patch,\n  }\n}\n\nexport default function post(state = {}, action = null) {\n  switch (action.type) {\n    case PATCH_POST:\n      if (state.id == action.post.id) {\n        return Object.assign({}, state, action.patch)\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","import postReducer, {\n  PATCH_POST,\n  hydrate as hydratePost,\n} from \"misago/reducers/post\"\n\nexport const APPEND_POSTS = \"APPEND_POSTS\"\nexport const SELECT_POST = \"SELECT_POST\"\nexport const DESELECT_POST = \"DESELECT_POST\"\nexport const DESELECT_POSTS = \"DESELECT_POSTS\"\nexport const LOAD_POSTS = \"LOAD_POSTS\"\nexport const UNLOAD_POSTS = \"UNLOAD_POSTS\"\nexport const UPDATE_POSTS = \"UPDATE_POSTS\"\n\nexport function select(post) {\n  return {\n    type: SELECT_POST,\n    post,\n  }\n}\n\nexport function deselect(post) {\n  return {\n    type: DESELECT_POST,\n    post,\n  }\n}\n\nexport function deselectAll() {\n  return {\n    type: DESELECT_POSTS,\n  }\n}\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    results: json.results.map(hydratePost),\n    isLoaded: true,\n    isBusy: false,\n    isSelected: false,\n  })\n}\n\nexport function load(newState, hydrated = false) {\n  return {\n    type: LOAD_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function append(newState, hydrated = false) {\n  return {\n    type: APPEND_POSTS,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function unload() {\n  return {\n    type: UNLOAD_POSTS,\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_POSTS,\n    update: newState,\n  }\n}\n\nexport default function posts(state = {}, action = null) {\n  switch (action.type) {\n    case SELECT_POST:\n      const selectedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: true,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: selectedPosts,\n      })\n\n    case DESELECT_POST:\n      const deseletedPosts = state.results.map((post) => {\n        if (post.id == action.post.id) {\n          return Object.assign({}, post, {\n            isSelected: false,\n          })\n        } else {\n          return post\n        }\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedPosts,\n      })\n\n    case DESELECT_POSTS:\n      const deseletedAllPosts = state.results.map((post) => {\n        return Object.assign({}, post, {\n          isSelected: false,\n        })\n      })\n\n      return Object.assign({}, state, {\n        results: deseletedAllPosts,\n      })\n\n    case APPEND_POSTS:\n      let results = state.results.slice()\n      const resultsIds = state.results.map((post) => {\n        return post.id\n      })\n\n      action.state.results.map((post) => {\n        if (resultsIds.indexOf(post.id) === -1) {\n          results.push(post)\n        }\n      })\n\n      return Object.assign({}, action.state, {\n        results,\n      })\n\n    case LOAD_POSTS:\n      return action.state\n\n    case UNLOAD_POSTS:\n      return Object.assign({}, state, {\n        isLoaded: false,\n      })\n\n    case UPDATE_POSTS:\n      return Object.assign({}, state, action.update)\n\n    case PATCH_POST:\n      const reducedPosts = state.results.map((post) => {\n        return postReducer(post, action)\n      })\n\n      return Object.assign({}, state, {\n        results: reducedPosts,\n      })\n\n    default:\n      return state\n  }\n}\n","export const LOAD_DETAILS = \"LOAD_DETAILS\"\n\nexport function load(newState) {\n  return {\n    type: LOAD_DETAILS,\n\n    newState,\n  }\n}\n\nexport default function details(state = {}, action = null) {\n  switch (action.type) {\n    case LOAD_DETAILS:\n      return action.newState\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport {\n  UPDATE_AVATAR,\n  UPDATE_USERNAME,\n  hydrateStatus,\n} from \"misago/reducers/users\"\n\nexport const HYDRATE_PROFILE = \"HYDRATE_PROFILE\"\nexport const PATCH_PROFILE = \"PATCH_PROFILE\"\n\nexport function hydrate(profile) {\n  return {\n    type: HYDRATE_PROFILE,\n    profile,\n  }\n}\n\nexport function patch(patch) {\n  return {\n    type: PATCH_PROFILE,\n    patch,\n  }\n}\n\nexport default function auth(state = {}, action = null) {\n  switch (action.type) {\n    case HYDRATE_PROFILE:\n      return Object.assign({}, action.profile, {\n        joined_on: moment(action.profile.joined_on),\n        status: hydrateStatus(action.profile.status),\n      })\n\n    case PATCH_PROFILE:\n      return Object.assign({}, state, action.patch)\n\n    case UPDATE_AVATAR:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          avatars: action.avatars,\n        })\n      }\n      return state\n\n    case UPDATE_USERNAME:\n      if (state.id === action.userId) {\n        return Object.assign({}, state, {\n          username: action.username,\n          slug: action.slug,\n        })\n      }\n      return state\n\n    default:\n      return state\n  }\n}\n","export const REPLACE_SEARCH = \"REPLACE_SEARCH\"\nexport const UPDATE_SEARCH = \"UPDATE_SEARCH\"\nexport const UPDATE_SEARCH_PROVIDER = \"UPDATE_SEARCH_PROVIDER\"\n\nexport const initialState = {\n  isLoading: false,\n  query: \"\",\n  providers: [],\n}\n\nexport function replace(newState) {\n  return {\n    type: REPLACE_SEARCH,\n    state: {\n      isLoading: false,\n      providers: newState,\n    },\n  }\n}\n\nexport function update(newState) {\n  return {\n    type: UPDATE_SEARCH,\n    update: newState,\n  }\n}\n\nexport function updateProvider(provider) {\n  return {\n    type: UPDATE_SEARCH_PROVIDER,\n    provider: provider,\n  }\n}\n\nexport default function participants(state = {}, action = null) {\n  switch (action.type) {\n    case REPLACE_SEARCH:\n      return action.state\n\n    case UPDATE_SEARCH:\n      return Object.assign({}, state, action.update)\n\n    case UPDATE_SEARCH_PROVIDER:\n      return Object.assign({}, state, {\n        providers: state.providers.map((provider) => {\n          if (provider.id === action.provider.id) {\n            return action.provider\n          } else {\n            return provider\n          }\n        }),\n      })\n\n    default:\n      return state\n  }\n}\n","import { toggle } from \"misago/utils/sets\"\n\nexport const SELECT_ALL = \"SELECT_ALL\"\nexport const SELECT_NONE = \"SELECT_NONE\"\nexport const SELECT_ITEM = \"SELECT_ITEM\"\n\nexport function all(itemsIds) {\n  return {\n    type: SELECT_ALL,\n    items: itemsIds,\n  }\n}\n\nexport function none() {\n  return {\n    type: SELECT_NONE,\n  }\n}\n\nexport function item(itemId) {\n  return {\n    type: SELECT_ITEM,\n    item: itemId,\n  }\n}\n\nexport default function selection(state = [], action = null) {\n  switch (action.type) {\n    case SELECT_ALL:\n      return action.items\n\n    case SELECT_NONE:\n      return []\n\n    case SELECT_ITEM:\n      return toggle(state, action.item)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  type: \"info\",\n  message: \"\",\n  isVisible: false,\n}\n\nexport const SHOW_SNACKBAR = \"SHOW_SNACKBAR\"\nexport const HIDE_SNACKBAR = \"HIDE_SNACKBAR\"\n\nexport function showSnackbar(message, type) {\n  return {\n    type: SHOW_SNACKBAR,\n    message,\n    messageType: type,\n  }\n}\n\nexport function hideSnackbar() {\n  return {\n    type: HIDE_SNACKBAR,\n  }\n}\n\nexport default function snackbar(state = initialState, action = null) {\n  if (action.type === SHOW_SNACKBAR) {\n    return {\n      type: action.messageType,\n      message: action.message,\n      isVisible: true,\n    }\n  } else if (action.type === HIDE_SNACKBAR) {\n    return Object.assign({}, state, {\n      isVisible: false,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { REMOVE_POLL, REPLACE_POLL } from \"./poll\"\n\nexport const BUSY_THREAD = \"BUSY_THREAD\"\nexport const RELEASE_THREAD = \"RELEASE_THREAD\"\nexport const REPLACE_THREAD = \"REPLACE_THREAD\"\nexport const UPDATE_THREAD = \"UPDATE_THREAD\"\nexport const UPDATE_THREAD_ACL = \"UPDATE_THREAD_ACL\"\n\nexport function hydrate(json) {\n  return Object.assign({}, json, {\n    started_on: moment(json.started_on),\n    last_post_on: moment(json.last_post_on),\n    best_answer_marked_on: json.best_answer_marked_on\n      ? moment(json.best_answer_marked_on)\n      : null,\n\n    isBusy: false,\n  })\n}\n\nexport function busy() {\n  return {\n    type: BUSY_THREAD,\n  }\n}\n\nexport function release() {\n  return {\n    type: RELEASE_THREAD,\n  }\n}\n\nexport function replace(newState, hydrated = false) {\n  return {\n    type: REPLACE_THREAD,\n    state: hydrated ? newState : hydrate(newState),\n  }\n}\n\nexport function update(data) {\n  return {\n    type: UPDATE_THREAD,\n    data,\n  }\n}\n\nexport function updateAcl(data) {\n  return {\n    type: UPDATE_THREAD_ACL,\n    data,\n  }\n}\n\nexport default function thread(state = {}, action = null) {\n  switch (action.type) {\n    case BUSY_THREAD:\n      return Object.assign({}, state, { isBusy: true })\n\n    case RELEASE_THREAD:\n      return Object.assign({}, state, { isBusy: false })\n\n    case REMOVE_POLL:\n      return Object.assign({}, state, { poll: null })\n\n    case REPLACE_POLL:\n      return Object.assign({}, state, { poll: action.state })\n\n    case REPLACE_THREAD:\n      return action.state\n\n    case UPDATE_THREAD:\n      return Object.assign({}, state, action.data)\n\n    case UPDATE_THREAD_ACL:\n      const acl = Object.assign({}, state.acl, action.data)\n      return Object.assign({}, state, { acl })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_THREADS = \"APPEND_THREADS\"\nexport const DELETE_THREAD = \"DELETE_THREAD\"\nexport const FILTER_THREADS = \"FILTER_THREADS\"\nexport const HYDRATE_THREADS = \"HYDRATE_THREADS\"\nexport const PATCH_THREAD = \"PATCH_THREAD\"\nexport const SORT_THREADS = \"SORT_THREADS\"\n\nexport const MODERATION_PERMISSIONS = [\n  \"can_announce\",\n  \"can_approve\",\n  \"can_close\",\n  \"can_hide\",\n  \"can_move\",\n  \"can_merge\",\n  \"can_pin\",\n  \"can_review\",\n]\n\nexport function append(items, sorting) {\n  return {\n    type: APPEND_THREADS,\n    items,\n    sorting,\n  }\n}\n\nexport function deleteThread(thread) {\n  return {\n    type: DELETE_THREAD,\n    thread,\n  }\n}\n\nexport function filterThreads(category, categoriesMap) {\n  return {\n    type: FILTER_THREADS,\n    category,\n    categoriesMap,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_THREADS,\n    items,\n  }\n}\n\nexport function patch(thread, patch, sorting = null) {\n  return {\n    type: PATCH_THREAD,\n    thread,\n    patch,\n    sorting,\n  }\n}\n\nexport function sort(sorting) {\n  return {\n    type: SORT_THREADS,\n    sorting,\n  }\n}\n\nexport function getThreadModerationOptions(thread_acl) {\n  let options = []\n  MODERATION_PERMISSIONS.forEach(function (perm) {\n    if (thread_acl[perm]) {\n      options.push(perm)\n    }\n  })\n  return options\n}\n\nexport function hydrateThread(thread) {\n  return Object.assign({}, thread, {\n    started_on: moment(thread.started_on),\n    last_post_on: moment(thread.last_post_on),\n    moderation: getThreadModerationOptions(thread.acl),\n  })\n}\n\nexport default function thread(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_THREADS:\n      const mergedState = concatUnique(action.items.map(hydrateThread), state)\n      return mergedState.sort(action.sorting)\n\n    case DELETE_THREAD:\n      return state.filter(function (item) {\n        return item.id !== action.thread.id\n      })\n\n    case FILTER_THREADS:\n      return state.filter(function (item) {\n        const itemCategory = action.categoriesMap[item.category]\n        if (\n          itemCategory.lft >= action.category.lft &&\n          itemCategory.rght <= action.category.rght\n        ) {\n          // same or sub category\n          return true\n        } else if (item.weight == 2) {\n          // globally pinned\n          return true\n        } else {\n          // thread moved outside displayed scope, hide it\n          return false\n        }\n      })\n\n    case HYDRATE_THREADS:\n      return action.items.map(hydrateThread)\n\n    case PATCH_THREAD:\n      const patchedState = state.map(function (item) {\n        if (item.id === action.thread.id) {\n          return Object.assign({}, item, action.patch)\n        } else {\n          return item\n        }\n      })\n\n      if (action.sorting) {\n        return patchedState.sort(action.sorting)\n      }\n      return patchedState\n\n    case SORT_THREADS:\n      return state.sort(action.sorting)\n\n    default:\n      return state\n  }\n}\n","export var initialState = {\n  tick: 0,\n}\n\nexport const TICK = \"TICK\"\n\nexport function doTick() {\n  return {\n    type: TICK,\n  }\n}\n\nexport default function tick(state = initialState, action = null) {\n  if (action.type === TICK) {\n    return Object.assign({}, state, {\n      tick: state.tick + 1,\n    })\n  } else {\n    return state\n  }\n}\n","import moment from \"moment\"\nimport { UPDATE_AVATAR, UPDATE_USERNAME } from \"misago/reducers/users\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const ADD_NAME_CHANGE = \"ADD_NAME_CHANGE\"\nexport const APPEND_HISTORY = \"APPEND_HISTORY\"\nexport const HYDRATE_HISTORY = \"HYDRATE_HISTORY\"\n\nexport function addNameChange(change, user, changedBy) {\n  return {\n    type: ADD_NAME_CHANGE,\n    change,\n    user,\n    changedBy,\n  }\n}\n\nexport function append(items) {\n  return {\n    type: APPEND_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_HISTORY,\n    items: items,\n  }\n}\n\nexport function hydrateNamechange(namechange) {\n  return Object.assign({}, namechange, {\n    changed_on: moment(namechange.changed_on),\n  })\n}\n\nexport default function username(state = [], action = null) {\n  switch (action.type) {\n    case ADD_NAME_CHANGE:\n      let newState = state.slice()\n      newState.unshift({\n        id: Math.floor(Date.now() / 1000), // just small hax for getting id\n        changed_by: action.changedBy,\n        changed_by_username: action.changedBy.username,\n        changed_on: moment(),\n        new_username: action.change.username,\n        old_username: action.user.username,\n      })\n      return newState\n\n    case APPEND_HISTORY:\n      return concatUnique(state, action.items.map(hydrateNamechange))\n\n    case HYDRATE_HISTORY:\n      return action.items.map(hydrateNamechange)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            avatars: action.avatars,\n          })\n        }\n\n        return item\n      })\n\n    case UPDATE_USERNAME:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.changed_by && item.changed_by.id === action.userId) {\n          item.changed_by = Object.assign({}, item.changed_by, {\n            username: action.username,\n            slug: action.slug,\n          })\n        }\n\n        return Object.assign({}, item)\n      })\n\n    default:\n      return state\n  }\n}\n","import moment from \"moment\"\nimport concatUnique from \"misago/utils/concat-unique\"\n\nexport const APPEND_USERS = \"APPEND_USERS\"\nexport const HYDRATE_USERS = \"HYDRATE_USERS\"\nexport const UPDATE_AVATAR = \"UPDATE_AVATAR\"\nexport const UPDATE_USERNAME = \"UPDATE_USERNAME\"\n\nexport function append(items) {\n  return {\n    type: APPEND_USERS,\n    items,\n  }\n}\n\nexport function hydrate(items) {\n  return {\n    type: HYDRATE_USERS,\n    items,\n  }\n}\n\nexport function hydrateStatus(status) {\n  if (status) {\n    return Object.assign({}, status, {\n      last_click: status.last_click ? moment(status.last_click) : null,\n      banned_until: status.banned_until ? moment(status.banned_until) : null,\n    })\n  } else {\n    return null\n  }\n}\n\nexport function hydrateUser(user) {\n  return Object.assign({}, user, {\n    joined_on: moment(user.joined_on),\n    status: hydrateStatus(user.status),\n  })\n}\n\nexport function updateAvatar(user, avatars) {\n  return {\n    type: UPDATE_AVATAR,\n    userId: user.id,\n    avatars,\n  }\n}\n\nexport function updateUsername(user, username, slug) {\n  return {\n    type: UPDATE_USERNAME,\n    userId: user.id,\n    username,\n    slug,\n  }\n}\n\nexport default function user(state = [], action = null) {\n  switch (action.type) {\n    case APPEND_USERS:\n      return concatUnique(state, action.items.map(hydrateUser))\n\n    case HYDRATE_USERS:\n      return action.items.map(hydrateUser)\n\n    case UPDATE_AVATAR:\n      return state.map(function (item) {\n        item = Object.assign({}, item)\n        if (item.id === action.userId) {\n          item.avatars = action.avatars\n        }\n\n        return item\n      })\n\n    default:\n      return state\n  }\n}\n","export class Ajax {\n  constructor() {\n    this._cookieName = null\n    this._csrfToken = null\n    this._locks = {}\n  }\n\n  init(cookieName) {\n    this._cookieName = cookieName\n  }\n\n  getCsrfToken() {\n    if (document.cookie.indexOf(this._cookieName) !== -1) {\n      let cookieRegex = new RegExp(this._cookieName + \"=([^;]*)\")\n      let cookie = document.cookie.match(cookieRegex)[0]\n      return cookie ? cookie.split(\"=\")[1] : null\n    } else {\n      return null\n    }\n  }\n\n  request(method, url, data) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: method,\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data ? JSON.stringify(data) : null,\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"json\",\n\n        success: function (data) {\n          resolve(data)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n\n  get(url, params, lock) {\n    if (params) {\n      url += \"?\" + $.param(params)\n    }\n\n    if (lock) {\n      let self = this\n\n      // update url in existing lock?\n      if (this._locks[lock]) {\n        this._locks[lock].url = url\n      }\n\n      // immediately dereference promise handlers without doing anything\n      // we are already waiting for existing response to resolve\n      if (this._locks[lock] && this._locks[lock].waiter) {\n        return {\n          then: function () {\n            return\n          },\n        }\n\n        // return promise that will begin when original one resolves\n      } else if (this._locks[lock] && this._locks[lock].wait) {\n        this._locks[lock].waiter = true\n\n        return new Promise(function (resolve, reject) {\n          let wait = function (url) {\n            // keep waiting on promise\n            if (self._locks[lock].wait) {\n              window.setTimeout(function () {\n                wait(url)\n              }, 300)\n\n              // poll for new url\n            } else if (self._locks[lock].url !== url) {\n              wait(self._locks[lock].url)\n\n              // ajax backend for response\n            } else {\n              self._locks[lock].waiter = false\n              self.request(\"GET\", self._locks[lock].url).then(\n                function (data) {\n                  if (self._locks[lock].url === url) {\n                    resolve(data)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                },\n                function (rejection) {\n                  if (self._locks[lock].url === url) {\n                    reject(rejection)\n                  } else {\n                    self._locks[lock].waiter = true\n                    wait(self._locks[lock].url)\n                  }\n                }\n              )\n            }\n          }\n\n          window.setTimeout(function () {\n            wait(url)\n          }, 300)\n        })\n\n        // setup new lock without waiter\n      } else {\n        this._locks[lock] = {\n          url,\n          wait: true,\n          waiter: false,\n        }\n\n        return new Promise(function (resolve, reject) {\n          self.request(\"GET\", url).then(\n            function (data) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                resolve(data)\n              }\n            },\n            function (rejection) {\n              self._locks[lock].wait = false\n              if (self._locks[lock].url === url) {\n                reject(rejection)\n              }\n            }\n          )\n        })\n      }\n    } else {\n      return this.request(\"GET\", url)\n    }\n  }\n\n  post(url, data) {\n    return this.request(\"POST\", url, data)\n  }\n\n  patch(url, data) {\n    return this.request(\"PATCH\", url, data)\n  }\n\n  put(url, data) {\n    return this.request(\"PUT\", url, data)\n  }\n\n  delete(url, data) {\n    return this.request(\"DELETE\", url, data)\n  }\n\n  upload(url, data, progress) {\n    let self = this\n    return new Promise(function (resolve, reject) {\n      let xhr = {\n        url: url,\n        method: \"POST\",\n        headers: {\n          \"X-CSRFToken\": self.getCsrfToken(),\n        },\n\n        data: data,\n        contentType: false,\n        processData: false,\n\n        xhr: function () {\n          let xhr = new window.XMLHttpRequest()\n          xhr.upload.addEventListener(\n            \"progress\",\n            function (evt) {\n              if (evt.lengthComputable) {\n                progress(Math.round((evt.loaded / evt.total) * 100))\n              }\n            },\n            false\n          )\n          return xhr\n        },\n\n        success: function (response) {\n          resolve(response)\n        },\n\n        error: function (jqXHR) {\n          let rejection = jqXHR.responseJSON || {}\n\n          rejection.status = jqXHR.status\n\n          if (rejection.status === 0) {\n            rejection.detail = gettext(\"Lost connection with application.\")\n          }\n\n          if (rejection.status === 413 && !rejection.detail) {\n            rejection.detail = gettext(\n              \"Upload was rejected by server as too large.\"\n            )\n          }\n\n          if (rejection.status === 404) {\n            if (!rejection.detail || rejection.detail === \"NOT FOUND\") {\n              rejection.detail = gettext(\"Action link is invalid.\")\n            }\n          }\n\n          if (rejection.status === 500 && !rejection.detail) {\n            rejection.detail = gettext(\"Unknown error has occured.\")\n          }\n\n          rejection.statusText = jqXHR.statusText\n\n          reject(rejection)\n        },\n      }\n\n      $.ajax(xhr)\n    })\n  }\n}\n\nexport default new Ajax()\n","import { signIn, signOut } from \"misago/reducers/auth\"\n\nexport class Auth {\n  init(store, local, modal) {\n    this._store = store\n    this._local = local\n    this._modal = modal\n\n    // tell other tabs what auth state is because we are most current with it\n    this.syncSession()\n\n    // listen for other tabs to tell us that state changed\n    this.watchState()\n  }\n\n  syncSession() {\n    const state = this._store.getState().auth\n    if (state.isAuthenticated) {\n      this._local.set(\"auth\", {\n        isAuthenticated: true,\n        username: state.user.username,\n      })\n    } else {\n      this._local.set(\"auth\", {\n        isAuthenticated: false,\n      })\n    }\n  }\n\n  watchState() {\n    const state = this._store.getState().auth\n    this._local.watch(\"auth\", (newState) => {\n      if (newState.isAuthenticated) {\n        this._store.dispatch(\n          signIn({\n            username: newState.username,\n          })\n        )\n      } else if (state.isAuthenticated) {\n        // check if we are authenticated in this tab\n        // because some browser plugins prune local store\n        // aggressively, forcing erroneous message to display here\n        // tracking bug #955\n        this._store.dispatch(signOut())\n      }\n    })\n    this._modal.hide()\n  }\n\n  signIn(user) {\n    this._store.dispatch(signIn(user))\n    this._local.set(\"auth\", {\n      isAuthenticated: true,\n      username: user.username,\n    })\n    this._modal.hide()\n  }\n\n  signOut() {\n    this._store.dispatch(signOut())\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n\n  softSignOut() {\n    this._store.dispatch(signOut(true))\n    this._local.set(\"auth\", {\n      isAuthenticated: false,\n    })\n    this._modal.hide()\n  }\n}\n\nexport default new Auth()\n","/* global grecaptcha */\nimport React from \"react\"\nimport FormGroup from \"misago/components/form-group\"\n\nexport class BaseCaptcha {\n  init(context, ajax, include, snackbar) {\n    this._context = context\n    this._ajax = ajax\n    this._include = include\n    this._snackbar = snackbar\n  }\n}\n\nexport class NoCaptcha extends BaseCaptcha {\n  load() {\n    return new Promise(function (resolve) {\n      // immediately resolve as we don't have anything to validate\n      resolve()\n    })\n  }\n\n  validator() {\n    return null\n  }\n\n  component() {\n    return null\n  }\n}\n\nexport class QACaptcha extends BaseCaptcha {\n  load() {\n    var self = this\n    return new Promise((resolve, reject) => {\n      self._ajax.get(self._context.get(\"CAPTCHA_API\")).then(\n        function (data) {\n          self.question = data.question\n          self.helpText = data.help_text\n          resolve()\n        },\n        function () {\n          self._snackbar.error(gettext(\"Failed to load CAPTCHA.\"))\n          reject()\n        }\n      )\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={this.question}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={this.helpText || null}\n      >\n        <input\n          aria-describedby=\"id_captcha_status\"\n          className=\"form-control\"\n          disabled={kwargs.form.state.isLoading}\n          id=\"id_captcha\"\n          onChange={kwargs.form.bindInput(\"captcha\")}\n          type=\"text\"\n          value={kwargs.form.state.captcha}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class ReCaptchaComponent extends React.Component {\n  componentDidMount() {\n    grecaptcha.render(\"recaptcha\", {\n      sitekey: this.props.siteKey,\n      callback: (response) => {\n        // fire fakey event to binding\n        this.props.binding({\n          target: {\n            value: response,\n          },\n        })\n      },\n    })\n  }\n\n  render() {\n    return <div id=\"recaptcha\" />\n  }\n}\n\nexport class ReCaptcha extends BaseCaptcha {\n  load() {\n    this._include.include(\"https://www.google.com/recaptcha/api.js\", true)\n\n    return new Promise(function (resolve) {\n      var wait = function () {\n        if (typeof grecaptcha === \"undefined\") {\n          window.setTimeout(function () {\n            wait()\n          }, 200)\n        } else {\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  validator() {\n    return []\n  }\n\n  component(kwargs) {\n    return (\n      <FormGroup\n        label={gettext(\"Please solve the quick test\")}\n        for=\"id_captcha\"\n        labelClass={kwargs.labelClass || \"\"}\n        controlClass={kwargs.controlClass || \"\"}\n        validation={kwargs.form.state.errors.captcha}\n        helpText={gettext(\n          \"This test helps us prevent automated spam registrations on our site.\"\n        )}\n      >\n        <ReCaptchaComponent\n          binding={kwargs.form.bindInput(\"captcha\")}\n          siteKey={this._context.get(\"SETTINGS\").recaptcha_site_key}\n        />\n      </FormGroup>\n    )\n  }\n}\n\nexport class Captcha {\n  init(context, ajax, include, snackbar) {\n    switch (context.get(\"SETTINGS\").captcha_type) {\n      case \"no\":\n        this._captcha = new NoCaptcha()\n        break\n\n      case \"qa\":\n        this._captcha = new QACaptcha()\n        break\n\n      case \"re\":\n        this._captcha = new ReCaptcha()\n        break\n    }\n\n    this._captcha.init(context, ajax, include, snackbar)\n  }\n\n  // accessors for underlying strategy\n\n  load() {\n    return this._captcha.load()\n  }\n\n  validator() {\n    return this._captcha.validator()\n  }\n\n  component(kwargs) {\n    return this._captcha.component(kwargs)\n  }\n}\n\nexport default new Captcha()\n","export class Include {\n  init(staticUrl) {\n    this._staticUrl = staticUrl\n    this._included = []\n  }\n\n  include(script, remote = false) {\n    if (this._included.indexOf(script) === -1) {\n      this._included.push(script)\n      this._include(script, remote)\n    }\n  }\n\n  _include(script, remote) {\n    $.ajax({\n      url: (!remote ? this._staticUrl : \"\") + script,\n      cache: true,\n      dataType: \"script\",\n    })\n  }\n}\n\nexport default new Include()\n","let storage = window.localStorage\n\nexport class LocalStorage {\n  init(prefix) {\n    this._prefix = prefix\n    this._watchers = []\n\n    window.addEventListener(\"storage\", (e) => {\n      let newValueJson = JSON.parse(e.newValue)\n      this._watchers.forEach(function (watcher) {\n        if (watcher.key === e.key && e.oldValue !== e.newValue) {\n          watcher.callback(newValueJson)\n        }\n      })\n    })\n  }\n\n  set(key, value) {\n    storage.setItem(this._prefix + key, JSON.stringify(value))\n  }\n\n  get(key) {\n    let itemString = storage.getItem(this._prefix + key)\n    if (itemString) {\n      return JSON.parse(itemString)\n    } else {\n      return null\n    }\n  }\n\n  watch(key, callback) {\n    this._watchers.push({\n      key: this._prefix + key,\n      callback: callback,\n    })\n  }\n}\n\nexport default new LocalStorage()\n","import mount from \"misago/utils/mount-component\"\n\nexport class MobileNavbarDropdown {\n  init(element) {\n    this._element = element\n    this._component = null\n  }\n\n  show(component) {\n    if (this._component === component) {\n      this.hide()\n    } else {\n      this._component = component\n      mount(component, this._element.id)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  showConnected(name, component) {\n    if (this._component === name) {\n      this.hide()\n    } else {\n      this._component = name\n      mount(component, this._element.id, true)\n      $(this._element).addClass(\"open\")\n    }\n  }\n\n  hide() {\n    $(this._element).removeClass(\"open\")\n    this._component = null\n  }\n}\n\nexport default new MobileNavbarDropdown()\n","import ReactDOM from \"react-dom\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Modal {\n  init(element) {\n    this._element = element\n\n    this._modal = $(element).modal({ show: false })\n\n    this._modal.on(\"hidden.bs.modal\", () => {\n      ReactDOM.unmountComponentAtNode(this._element)\n    })\n  }\n\n  show(component) {\n    mount(component, this._element.id)\n    this._modal.modal(\"show\")\n  }\n\n  hide() {\n    this._modal.modal(\"hide\")\n  }\n}\n\nexport default new Modal()\n","const ytRegExp = new RegExp(\n  \"^.*(?:(?:youtu.be/|v/|vi/|u/w/|embed/)|(?:(?:watch)??v(?:i)?=|&v(?:i)?=))([^#&?]*).*\"\n)\n\nexport class OneBox {\n  constructor() {\n    this._youtube = {}\n  }\n\n  render = (element) => {\n    if (!element) return\n    this.highlightCode(element)\n    this.embedYoutubePlayers(element)\n  }\n\n  highlightCode(element) {\n    import(\"highlight\").then(({ default: hljs }) => {\n      const codeblocks = element.querySelectorAll(\"pre>code\")\n      for (let i = 0; i < codeblocks.length; i++) {\n        hljs.highlightElement(codeblocks[i])\n      }\n    })\n  }\n\n  embedYoutubePlayers(element) {\n    const anchors = element.querySelectorAll(\"p>a\")\n    for (let i = 0; i < anchors.length; i++) {\n      const a = anchors[i]\n      const p = a.parentNode\n      const onlyChild = p.childNodes.length === 1\n\n      if (!this._youtube[a.href]) {\n        this._youtube[a.href] = parseYoutubeUrl(a.href)\n      }\n\n      const youtubeMovie = this._youtube[a.href]\n      if (onlyChild && !!youtubeMovie && youtubeMovie.data !== false) {\n        this.swapYoutubePlayer(a, youtubeMovie)\n      }\n    }\n  }\n\n  swapYoutubePlayer(element, youtube) {\n    let url = \"https://www.youtube.com/embed/\"\n    url += youtube.video\n    url += \"?feature=oembed\"\n    if (youtube.start) {\n      url += \"&start=\" + youtube.start\n    }\n\n    const player = $(\n      '<iframe class=\"embed-responsive-item\" frameborder=\"0\" ' +\n        'src=\"' +\n        url +\n        '\" ' +\n        'allow=\"encrypted-media; gyroscope; picture-in-picture\" ' +\n        \"allowfullscreen></iframe>\"\n    )\n    $(element).replaceWith(player)\n    player.wrap('<div class=\"embed-responsive embed-responsive-16by9\"></div>')\n  }\n}\n\nexport default new OneBox()\n\nexport function parseYoutubeUrl(url) {\n  const cleanedUrl = cleanUrl(url)\n  const video = getVideoIdFromUrl(cleanedUrl)\n\n  if (!video) return null\n\n  let start = 0\n  if (cleanedUrl.indexOf(\"?\") > 0) {\n    const query = cleanedUrl.substr(cleanedUrl.indexOf(\"?\") + 1)\n    const timebit = query.split(\"&\").filter((i) => {\n      return i.substr(0, 2) === \"t=\"\n    })[0]\n\n    if (timebit) {\n      const bits = timebit.substr(2).split(\"m\")\n      if (bits[0].substr(-1) === \"s\") {\n        start += parseInt(bits[0].substr(0, bits[0].length - 1))\n      } else {\n        start += parseInt(bits[0]) * 60\n        if (!!bits[1] && bits[1].substr(-1) === \"s\") {\n          start += parseInt(bits[1].substr(0, bits[1].length - 1))\n        }\n      }\n    }\n  }\n\n  return {\n    start,\n    video,\n  }\n}\n\nexport function cleanUrl(url) {\n  let clean = url\n\n  if (url.substr(0, 8) === \"https://\") {\n    clean = clean.substr(8)\n  } else if (url.substr(0, 7) === \"http://\") {\n    clean = clean.substr(7)\n  }\n\n  if (clean.substr(0, 4) === \"www.\") {\n    clean = clean.substr(4)\n  }\n\n  return clean\n}\n\nexport function getVideoIdFromUrl(url) {\n  if (url.indexOf(\"youtu\") === -1) return null\n\n  const video = url.match(ytRegExp)\n  if (video) {\n    return video[1]\n  }\n  return null\n}\n","export class PageTitle {\n  init(indexTitle, forumName) {\n    this._indexTitle = indexTitle\n    this._forumName = forumName\n  }\n\n  set(title) {\n    if (!title) {\n      document.title = this._indexTitle || this._forumName\n      return\n    }\n\n    if (typeof title === \"string\") {\n      title = { title: title }\n    }\n\n    let finalTitle = title.title\n\n    if (title.page > 1) {\n      const pageLabel = interpolate(\n        gettext(\"page: %(page)s\"),\n        {\n          page: title.page,\n        },\n        true\n      )\n\n      finalTitle += \" (\" + pageLabel + \")\"\n    }\n\n    if (title.parent) {\n      finalTitle += \" | \" + title.parent\n    }\n\n    document.title = finalTitle + \" | \" + this._forumName\n  }\n}\n\nexport default new PageTitle()\n","export class Polls {\n  init(ajax, snackbar) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n\n    this._polls = {}\n  }\n\n  start(kwargs) {\n    this.stop(kwargs.poll)\n\n    const poolServer = () => {\n      this._polls[kwargs.poll] = kwargs\n\n      this._ajax.get(kwargs.url, kwargs.data || null).then(\n        (data) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            kwargs.update(data)\n\n            this._polls[kwargs.poll].timeout = window.setTimeout(\n              poolServer,\n              kwargs.frequency\n            )\n          }\n        },\n        (rejection) => {\n          if (!this._polls[kwargs.poll]._stopped) {\n            if (kwargs.error) {\n              kwargs.error(rejection)\n            } else {\n              this._snackbar.apiError(rejection)\n            }\n          }\n        }\n      )\n    }\n\n    if (kwargs.delayed) {\n      this._polls[kwargs.poll] = {\n        timeout: window.setTimeout(poolServer, kwargs.frequency),\n      }\n    } else {\n      poolServer()\n    }\n  }\n\n  stop(pollId) {\n    if (this._polls[pollId]) {\n      window.clearTimeout(this._polls[pollId].timeout)\n      this._polls[pollId]._stopped = true\n    }\n  }\n}\n\nexport default new Polls()\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport PostingComponent from \"misago/components/posting\"\nimport mount from \"misago/utils/mount-component\"\n\nexport class Posting {\n  init(ajax, snackbar, mount) {\n    this._ajax = ajax\n    this._snackbar = snackbar\n    this._mount = mount\n\n    this._mode = null\n    this._spacer = document.getElementById(\"posting-spacer\")\n    this._observer = new ResizeObserver((entries) => {\n      this._spacer.style.height = entries[0].contentRect.height + \"px\"\n    })\n\n    this._isOpen = false\n    this._isClosing = false\n  }\n\n  isOpen() {\n    return this._isOpen\n  }\n\n  open(props) {\n    if (this._isOpen === false) {\n      this._mode = props.mode\n      this._isOpen = props.submit\n      this._realOpen(props)\n    } else if (this._isOpen !== props.submit) {\n      let message = gettext(\n        \"You are already working on other message. Do you want to discard it?\"\n      )\n\n      const changeForm = window.confirm(message)\n      if (changeForm) {\n        this._mode = props.mode\n        this._isOpen = props.submit\n        this._realOpen(props)\n      }\n    } else if (this._mode == \"REPLY\" && props.mode == \"REPLY\") {\n      this._realOpen(props)\n    }\n  }\n\n  _realOpen(props) {\n    mount(<PostingComponent {...props} />, this._mount.id)\n\n    this._mount.classList.add(\"show\")\n    this._observer.observe(this._mount)\n  }\n\n  close = () => {\n    if (this._isOpen && !this._isClosing) {\n      this._isClosing = true\n      this._mount.classList.remove(\"show\")\n\n      window.setTimeout(() => {\n        ReactDOM.unmountComponentAtNode(this._mount)\n        this._observer.unobserve(this._mount)\n        this._spacer.style.height = \"0px;\"\n        this._isClosing = false\n        this._isOpen = false\n        this._mode = null\n      }, 300)\n    }\n  }\n}\n\nexport default new Posting()\n","import { showSnackbar, hideSnackbar } from \"misago/reducers/snackbar\"\n\nconst HIDE_ANIMATION_LENGTH = 300\nconst MESSAGE_SHOW_LENGTH = 5000\n\nexport class Snackbar {\n  init(store) {\n    this._store = store\n    this._timeout = null\n  }\n\n  alert(message, type) {\n    if (this._timeout) {\n      window.clearTimeout(this._timeout)\n      this._store.dispatch(hideSnackbar())\n\n      this._timeout = window.setTimeout(() => {\n        this._timeout = null\n        this.alert(message, type)\n      }, HIDE_ANIMATION_LENGTH)\n    } else {\n      this._store.dispatch(showSnackbar(message, type))\n      this._timeout = window.setTimeout(() => {\n        this._store.dispatch(hideSnackbar())\n        this._timeout = null\n      }, MESSAGE_SHOW_LENGTH)\n    }\n  }\n\n  // shorthands for message types\n\n  info(message) {\n    this.alert(message, \"info\")\n  }\n\n  success(message) {\n    this.alert(message, \"success\")\n  }\n\n  warning(message) {\n    this.alert(message, \"warning\")\n  }\n\n  error(message) {\n    this.alert(message, \"error\")\n  }\n\n  // shorthand for api errors\n\n  apiError(rejection) {\n    let message = rejection.detail\n\n    if (!message) {\n      if (rejection.status === 404) {\n        message = gettext(\"Action link is invalid.\")\n      } else {\n        message = gettext(\"Unknown error has occured.\")\n      }\n    }\n\n    if (rejection.status === 403 && message === \"Permission denied\") {\n      message = gettext(\"You don't have permission to perform this action.\")\n    }\n\n    this.error(message)\n  }\n}\n\nexport default new Snackbar()\n","import { combineReducers, createStore } from \"redux\"\n\nexport class StoreWrapper {\n  constructor() {\n    this._store = null\n    this._reducers = {}\n    this._initialState = {}\n  }\n\n  addReducer(name, reducer, initialState) {\n    this._reducers[name] = reducer\n    this._initialState[name] = initialState\n  }\n\n  init() {\n    this._store = createStore(\n      combineReducers(this._reducers),\n      this._initialState\n    )\n  }\n\n  getStore() {\n    return this._store\n  }\n\n  // Store API\n\n  getState() {\n    return this._store.getState()\n  }\n\n  dispatch(action) {\n    return this._store.dispatch(action)\n  }\n}\n\nexport default new StoreWrapper()\n","/* global zxcvbn */\nexport class Zxcvbn {\n  init(include) {\n    this._include = include\n    this._isLoaded = false\n  }\n\n  scorePassword(password, inputs) {\n    // 0-4 score, the more the stronger password\n    if (this._isLoaded) {\n      return zxcvbn(password, inputs).score\n    }\n\n    return 0\n  }\n\n  load() {\n    if (!this._isLoaded) {\n      this._include.include(\"misago/js/zxcvbn.js\")\n      return this._loadingPromise()\n    } else {\n      return this._loadedPromise()\n    }\n  }\n\n  _loadingPromise() {\n    const self = this\n\n    return new Promise(function (resolve, reject) {\n      var wait = function (tries = 0) {\n        tries += 1\n        if (tries > 200) {\n          reject()\n        } else if (typeof zxcvbn === \"undefined\") {\n          window.setTimeout(function () {\n            wait(tries)\n          }, 200)\n        } else {\n          self._isLoaded = true\n          resolve()\n        }\n      }\n      wait()\n    })\n  }\n\n  _loadedPromise() {\n    // we have already loaded zxcvbn.js, resolve away!\n    return new Promise(function (resolve) {\n      resolve()\n    })\n  }\n}\n\nexport default new Zxcvbn()\n","import moment from \"moment\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider, connect } from \"react-redux\"\nimport BannedPage from \"misago/components/banned-page\"\nimport misago from \"misago/index\"\nimport store from \"misago/services/store\"\n\nlet select = function (state) {\n  return state.tick\n}\n\nlet RedrawedBannedPage = connect(select)(BannedPage)\n\nexport default function (ban, changeState) {\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <RedrawedBannedPage\n        message={ban.message}\n        expires={ban.expires_on ? moment(ban.expires_on) : null}\n      />\n    </Provider>,\n\n    document.getElementById(\"page-mount\")\n  )\n\n  if (typeof changeState === \"undefined\" || changeState) {\n    let forumName = misago.get(\"SETTINGS\").forum_name\n    document.title = gettext(\"You are banned\") + \" | \" + forumName\n    window.history.pushState({}, \"\", misago.get(\"BANNED_URL\"))\n  }\n}\n","export default function (list, rowWidth, padding = false) {\n  let rows = []\n  let row = []\n\n  list.forEach(function (element) {\n    row.push(element)\n    if (row.length === rowWidth) {\n      rows.push(row)\n      row = []\n    }\n  })\n\n  // pad row to required length?\n  if (padding !== false && row.length > 0 && row.length < rowWidth) {\n    for (let i = row.length; i < rowWidth; i++) {\n      row.push(padding)\n    }\n  }\n\n  if (row.length) {\n    rows.push(row)\n  }\n\n  return rows\n}\n","export default function (a, b) {\n  let ids = []\n  return a.concat(b).filter(function (item) {\n    if (ids.indexOf(item.id) === -1) {\n      ids.push(item.id)\n      return true\n    } else {\n      return false\n    }\n  })\n}\n","const map = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#039;\",\n}\n\nexport default function (text) {\n  return text.replace(/[&<>\"']/g, function (m) {\n    return map[m]\n  })\n}\n","export default function (bytes) {\n  if (bytes > 1024 * 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024 * 1024)) + \" GB\"\n  } else if (bytes > 1024 * 1024) {\n    return roundSize(bytes / (1024 * 1024)) + \" MB\"\n  } else if (bytes > 1024) {\n    return roundSize(bytes / 1024) + \" KB\"\n  } else {\n    return roundSize(bytes) + \" B\"\n  }\n}\n\nexport function roundSize(value) {\n  return value.toFixed(1)\n}\n","const URL_PATTERN = new RegExp(\n  \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n  \"i\"\n)\n\nexport default function (str) {\n  return URL_PATTERN.test($.trim(str))\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport store from \"misago/services/store\"\n\nexport default function (Component, rootElementId, connected = true) {\n  let rootElement = document.getElementById(rootElementId)\n\n  let finalComponent = Component.props ? Component : <Component />\n\n  if (rootElement) {\n    if (connected) {\n      ReactDOM.render(\n        <Provider store={store.getStore()}>{finalComponent}</Provider>,\n\n        rootElement\n      )\n    } else {\n      ReactDOM.render(finalComponent, rootElement)\n    }\n  }\n}\n","class OrderedList {\n  constructor(items) {\n    this.isOrdered = false\n    this._items = items || []\n  }\n\n  add(key, item, order) {\n    this._items.push({\n      key: key,\n      item: item,\n\n      after: order ? order.after || null : null,\n      before: order ? order.before || null : null,\n    })\n  }\n\n  get(key, value) {\n    for (var i = 0; i < this._items.length; i++) {\n      if (this._items[i].key === key) {\n        return this._items[i].item\n      }\n    }\n\n    return value\n  }\n\n  has(key) {\n    return this.get(key) !== undefined\n  }\n\n  values() {\n    var values = []\n    for (var i = 0; i < this._items.length; i++) {\n      values.push(this._items[i].item)\n    }\n    return values\n  }\n\n  order(values_only) {\n    if (!this.isOrdered) {\n      this._items = this._order(this._items)\n      this.isOrdered = true\n    }\n\n    if (values_only || typeof values_only === \"undefined\") {\n      return this.values()\n    } else {\n      return this._items\n    }\n  }\n\n  orderedValues() {\n    return this.order(true)\n  }\n\n  _order(unordered) {\n    // Index of unordered items\n    var index = []\n    unordered.forEach(function (item) {\n      index.push(item.key)\n    })\n\n    // Ordered items\n    var ordered = []\n    var ordering = []\n\n    // First pass: register items that\n    // don't specify their order\n    unordered.forEach(function (item) {\n      if (!item.after && !item.before) {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Second pass: register items that\n    // specify their before to \"_end\"\n    unordered.forEach(function (item) {\n      if (item.before === \"_end\") {\n        ordered.push(item)\n        ordering.push(item.key)\n      }\n    })\n\n    // Third pass: keep iterating items\n    // until we hit iterations limit or finish\n    // ordering list\n    function insertItem(item) {\n      var insertAt = -1\n      if (ordering.indexOf(item.key) === -1) {\n        if (item.after) {\n          insertAt = ordering.indexOf(item.after)\n          if (insertAt !== -1) {\n            insertAt += 1\n          }\n        } else if (item.before) {\n          insertAt = ordering.indexOf(item.before)\n        }\n\n        if (insertAt !== -1) {\n          ordered.splice(insertAt, 0, item)\n          ordering.splice(insertAt, 0, item.key)\n        }\n      }\n    }\n\n    var iterations = 200\n    while (iterations > 0 && index.length !== ordering.length) {\n      iterations -= 1\n      unordered.forEach(insertItem)\n    }\n\n    return ordered\n  }\n}\n\nexport default OrderedList\n","export function int(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\nexport function range(min, max) {\n  let array = new Array(int(min, max))\n  for (let i = 0; i < array.length; i++) {\n    array[i] = i\n  }\n\n  return array\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Provider } from \"react-redux\"\nimport { Router, browserHistory } from \"react-router\"\nimport store from \"misago/services/store\"\n\nconst rootElement = document.getElementById(\"page-mount\")\n\nexport default function (options) {\n  let routes = {\n    component: options.component || null,\n    childRoutes: [],\n  }\n\n  if (options.root) {\n    routes.childRoutes = [\n      {\n        path: options.root,\n        onEnter: function (nextState, replaceState) {\n          replaceState(null, options.paths[0].path)\n        },\n      },\n    ].concat(options.paths)\n  } else {\n    routes.childRoutes = options.paths\n  }\n\n  ReactDOM.render(\n    <Provider store={store.getStore()}>\n      <Router routes={routes} history={browserHistory} />\n    </Provider>,\n    rootElement\n  )\n}\n","export function push(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array\n  }\n}\n\nexport function remove(array, value) {\n  if (array.indexOf(value) >= 0) {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  } else {\n    return array\n  }\n}\n\nexport function toggle(array, value) {\n  if (array.indexOf(value) === -1) {\n    let copy = array.slice()\n    copy.push(value)\n    return copy\n  } else {\n    return array.filter(function (i) {\n      return i !== value\n    })\n  }\n}\n","export default function (string, subString) {\n  string = (string + \"\").toLowerCase()\n  subString = (subString + \"\").toLowerCase()\n\n  if (subString.length <= 0) return 0\n\n  let n = 0\n  let pos = 0\n  let step = subString.length\n\n  while (true) {\n    pos = string.indexOf(subString, pos)\n    if (pos >= 0) {\n      n += 1\n      pos += step\n    } else {\n      break\n    }\n  }\n\n  return n\n}\n","const EMAIL =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\nconst USERNAME = new RegExp(\"^[0-9a-z]+$\", \"i\")\n\nexport function required(message) {\n  return function (value) {\n    if (value === false || value === null || $.trim(value).length === 0) {\n      return message || gettext(\"This field is required.\")\n    }\n  }\n}\n\nexport function requiredTermsOfService(message) {\n  const error = gettext(\"You have to accept the terms of service.\")\n  return required(message || error)\n}\n\nexport function requiredPrivacyPolicy(message) {\n  const error = gettext(\"You have to accept the privacy policy.\")\n  return required(message || error)\n}\n\nexport function email(message) {\n  return function (value) {\n    if (!EMAIL.test(value)) {\n      return message || gettext(\"Enter a valid email address.\")\n    }\n  }\n}\n\nexport function minLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length < limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at least %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at least %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function maxLength(limitValue, message) {\n  return function (value) {\n    var returnMessage = \"\"\n    var length = $.trim(value).length\n\n    if (length > limitValue) {\n      if (message) {\n        returnMessage = message(limitValue, length)\n      } else {\n        returnMessage = ngettext(\n          \"Ensure this value has at most %(limit_value)s character (it has %(show_value)s).\",\n          \"Ensure this value has at most %(limit_value)s characters (it has %(show_value)s).\",\n          limitValue\n        )\n      }\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n\nexport function usernameMinLength(lengthMin) {\n  var message = function (lengthMin) {\n    return ngettext(\n      \"Username must be at least %(limit_value)s character long.\",\n      \"Username must be at least %(limit_value)s characters long.\",\n      lengthMin\n    )\n  }\n  return minLength(lengthMin, message)\n}\n\nexport function usernameMaxLength(lengthMax) {\n  var message = function (lengthMax) {\n    return ngettext(\n      \"Username cannot be longer than %(limit_value)s character.\",\n      \"Username cannot be longer than %(limit_value)s characters.\",\n      lengthMax\n    )\n  }\n  return maxLength(lengthMax, message)\n}\n\nexport function usernameContent() {\n  return function (value) {\n    if (!USERNAME.test($.trim(value))) {\n      return gettext(\n        \"Username can only contain latin alphabet letters and digits.\"\n      )\n    }\n  }\n}\n\nexport function passwordMinLength(limitValue) {\n  return function (value) {\n    const length = value.length\n\n    if (length < limitValue) {\n      const returnMessage = ngettext(\n        \"Valid password must be at least %(limit_value)s character long.\",\n        \"Valid password must be at least %(limit_value)s characters long.\",\n        limitValue\n      )\n\n      return interpolate(\n        returnMessage,\n        {\n          limit_value: limitValue,\n          show_value: length,\n        },\n        true\n      )\n    }\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport {};","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn-bd\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn-bd.js\": \"./node_modules/moment/locale/bn-bd.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-in\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-in.js\": \"./node_modules/moment/locale/en-in.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-sg\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./en-sg.js\": \"./node_modules/moment/locale/en-sg.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-mx\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-mx.js\": \"./node_modules/moment/locale/es-mx.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fil\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fil.js\": \"./node_modules/moment/locale/fil.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-deva\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-deva.js\": \"./node_modules/moment/locale/gom-deva.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./oc-lnc\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./oc-lnc.js\": \"./node_modules/moment/locale/oc-lnc.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tk\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tk.js\": \"./node_modules/moment/locale/tk.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-mo\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-mo.js\": \"./node_modules/moment/locale/zh-mo.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"misago:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"misago\": 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmisago\"] = self[\"webpackChunkmisago\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/index.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/ajax.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth-sync.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/captcha.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/accept-agreement.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/auth-message.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/banned-page.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/categories.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/options.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-activation-link.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/request-password-reset.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/reset-password-form.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/social-auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/user-menu.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/components/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/include.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/local-storage.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/mobile-navbar-dropdown.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/modal.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/moment-locale.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/page-title.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/polls.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/posting.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/auth.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/participants.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/poll.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/posts.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-details.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile-hydrate.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/profile.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/search.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/selection.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/thread.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/threads.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/tick.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/username-history.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/reducers/users.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/snackbar.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/store.js\"); })\n__webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/tick-start.js\"); })\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendor\"], function() { return __webpack_require__(\"./src/initializers/zxcvbn.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["classnames","React","Breadcrumbs","children","className","BreadcrumbsCategory","category","url","index","color","short_name","name","BreadcrumbsRootCategory","special_role","gettext","FlexRow","FlexRowCol","shrink","FlexRowSection","auto","formatFilesize","MarkupAttachmentModal","attachment","pgettext","is_image","filename","filetype","size","uploaded_on","format","fromNow","uploader","uploader_name","modal","FormGroup","replaceSelection","MarkupCodeModal","props","ev","preventDefault","selection","update","syntax","state","trim","text","length","setState","error","prefix","Object","assign","hide","handleSubmit","event","target","value","LANGUAGES","map","undefined","Component","misago","ajax","snackbar","MisagoMarkup","MarkupEditorAttachments","MarkupEditorFooter","MarkupEditorToolbar","uploadFile","MarkupEditor","loading","preview","element","post","get","then","data","parsed","rejection","status","detail","apiError","stopPropagation","dataTransfer","files","onAttachmentsChange","acl","max_attachment_size","i","file","clipboardData","items","item","kind","push","getAsFile","focused","disabled","onChange","width","placeholder","setMentions","onDrop","onPaste","attachments","canProtect","isProtected","post_length_min","enableProtection","disableProtection","showPreview","closePreview","submitText","$","atwho","at","displayTpl","insertTpl","searchKey","callbacks","remoteFilter","query","callback","getJSON","q","on","_storage","source","controller","username","innerText","substr","headPos","suffix","endPos","caret","setSelectionRange","focus","getSelection","MarkupEditorAttachment","id","show","progress","markup","getAttachmentMarkup","confirm","window","filter","key","interpolate","thumb","MarkupEditorButton","icon","title","onClick","Button","empty","MarkupFormattingHelpModal","MarkupImageModal","MarkupLinkModal","MarkupQuoteModal","wrapSelection","updateAttachments","actions","insertSpoiler","uploadFiles","input","document","createElement","type","multiple","addEventListener","click","ExampleFormatting","result","ExampleFormattingSpoiler","reveal","isUrl","textUrl","author","def","newValue","setTimeout","textarea","start","end","range","createRange","moveStart","selectionStart","selectionEnd","substring","scroll","scrollTop","moment","ID_LEN","maxSize","limit","upload","getRandomString","concat","refreshState","FormData","append","ALPHA","ALPHA_LEN","len","chars","Math","floor","random","join","PageContainer","PageHeader","styleName","PageHeaderBanner","PageHeaderContainer","PageHeaderDetails","PageHeaderHTMLMessage","message","__html","PageHeaderMessage","PageHeaderPlain","header","escapeHtml","AGREEMENT_URL","RegisterLegalFootnote","errors","privacyPolicy","termsOfService","onPrivacyPolicyChange","onTermsOfServiceChange","termsOfServiceId","termsOfServiceUrl","privacyPolicyId","privacyPolicyUrl","LegalAgreement","agreement","checked","agreementHtml","label","StartSocialAuth","buttonClassName","buttonLabel","formLabel","labelClassName","socialAuth","button_text","button_color","style","finalButtonLabel","site","FormHeader","ThreadFlags","thread","weight","best_answer","has_poll","is_unapproved","has_unapproved_posts","is_closed","is_hidden","ThreadReplies","ngettext","replies","round","Avatar","ThreadStarterCard","starter","starter_name","timestamp","started_on","ThreadsListEmpty","ThreadsListItem","ThreadsListLoader","ThreadsListUpdatePrompt","ThreadsList","list","categories","threads","busyThreads","isLoaded","showOptions","updatedThreads","applyUpdate","emptyMessage","indexOf","ThreadsListItemActivity","ThreadsListItemCategory","ThreadsListItemCheckbox","ThreadsListItemIcon","ThreadsListItemLastPoster","ThreadsListItemSubscription","activeCategory","showSubscription","isBusy","isSelected","parent","hasFlags","isNew","is_new","new_post","moderation","last_post","last_post_on","getClassName","select","store","dispatch","is_read","last_poster","poster","last_poster_name","ThreadsListItemSubscriptionOptions","getSubscriptionTitle","subscription","getSubscriptionIcon","patch","SUBSCRIPTION","unsubscribe","notify","email","api","op","path","UIPreviewText","Toolbar","ToolbarItem","ToolbarSection","ToolbarSpacer","AcceptAgreement","submiting","confirmation","accept","location","reload","handleDecline","handleAccept","Form","participants","updateAcl","changeValue","isLoading","replace","success","onUsernameChange","ModalHeader","signedIn","signedOut","user","getMessage","refresh","auth","size2x","getSrc","resolveAvatarForSize","avatars","avatar","forEach","av","html","plain","expires","isAfter","expires_on","getReasonMessage","getExpirationMessage","Loader","defaultProps","Category","ListItem","css_class","subcategories","description","getTitle","getIcon","Main","LastThread","Stats","Subcategories","isFirst","can_browse","can_see_all_threads","last_thread_title","last_thread_new","LastPosterAvatar","LastPosterName","Empty","Private","Protected","Message","Description","Icon","posts","Threads","Posts","Blankslate","CategoriesList","polls","hydrate","startPolling","poll","frequency","tick","choices","repeat","level","avatarType","cropit","deviceRatio","cropitOffset","crop","offset","x","y","zoom","onComplete","showError","options","crop_tmp","crop_src","dataUrl","cropperWidth","getAvatarSize","initialWidth","height","exportZoom","imageState","src","getImagePath","onImageLoaded","zoomLevel","imageSize","displayedWidth","offsetX","displayedHeight","offsetY","cropAvatar","showIndex","batch","GalleryItem","Gallery","images","row","image","response","galleries","save","callApi","gravatar","setGravatar","showCrop","showUpload","showGallery","userPeview","getAvatarPreview","getGravatarButton","setGenerated","getCropButton","getUploadButton","getGalleryButton","AvatarIndex","AvatarCrop","AvatarUpload","AvatarGallery","updateAvatar","ChangeAvatarError","reason","getErrorReason","component","completeFlow","getBody","fileSize","getElementById","validationError","validateFile","URL","createObjectURL","uploaded","info","filesize","invalidTypeMsg","allowed_mime_types","extensionFound","loweredFilename","toLowerCase","allowed_extensions","extension","extensions","pickFile","getUploadRequirements","getUploadProgressLabel","getUploadProgress","renderCrop","renderUpload","PanelMessage","display","Select","field","fieldname","FieldInput","fields","help_text","Fieldset","groups","group","f","initial","onSuccess","onCancel","CancelButton","cancel","FormDisplay","validation","isValidated","for","helpText","labelClass","controlClass","getFeedbackDescription","getFeedback","getHelpText","extra","required","validateRequired","newState","formErrors","validateField","clean","promise","send","handleSuccess","handleError","validators","optional","validatedFields","hasOwnProperty","fieldErrors","validate","requiredError","isControlled","isActive","pathname","activeClassName","onError","bestAnswer","bestAnswers","onBestAnswerChange","onPollChange","BestAnswerSelect","choice","PollSelect","onebox","render","documentNode","find","revealSpoiler","prevProps","prevState","nextProps","nextState","node","btn","addClass","MAX_RESULTS","filtered","section","results","count","slice","HEADER","RESULT","FOOTER","Input","flatlist","flattenProviders","arrayLength","provider","flattenProvider","DropdownMenu","Result","flattenResults","flatResults","encodeURI","Footer","Header","Thread","User","footer","content","posted_on","poster_name","rank","joined_on","cleanResults","Dropdown","isOpen","container","querySelector","closeResults","parentNode","loadResults","intervalId","onDocumentMouseDown","onEscape","removeEventListener","delay","clearTimeout","onToggle","PanelLoader","next_on","next_change","usernameContent","usernameMinLength","length_min","usernameMaxLength","length_max","phrases","changes_left","name_changes_expire","complete","slug","bindInput","FormLoading","FormLocked","UsernameHistory","addNameChange","updateUsername","set","Promise","all","getChangeForm","password","delete","href","onPasswordChange","DownloadData","data_downloads","downloads","isSubmiting","request_data_download","handleLoadDownloads","rowStyle","requested_on","handleRequestDataDownload","verticalAlign","STATUS_PENDING","STATUS_PROCESSING","DownloadButton","exportFile","edit_details","YesNoSwitch","is_hiding_presence","limits_private_thread_invites_to","subscribe_to_started_threads","subscribe_to_replied_threads","privateThreadInvitesChoices","subscribeToChoices","Link","Li","SideNav","option","baseUrl","CompactNav","hideNav","connect","DeleteAccount","EditDetails","ChangeForumOptions","ChangeUsername","ChangeSignInCredentials","WithDropdown","page","paths","delegateAuth","DELEGATE_AUTH","UnusablePasswordMessage","new_email","lengths","change_email","new_password","repeat_password","change_password","ChangeEmail","ChangePassword","has_usable_password","stringCount","copy","AddParticipantModal","can_add_participants","leave","participant","remove","changeOwner","MakeOwner","Remove","is_owner","UserStatus","isOwner","Card","userIsOwner","confirmed","isUser","can_change_owner","isModerator","can_moderate_private_threads","AddParticipant","CardsList","utils","getUserIsOwner","getParticipantsCopy","users","zxcvbn","STYLES","LABELS","_score","_password","_inputs","loaded","load","inputs","cacheStale","scorePassword","score","getScore","hash","generateRandomHash","setChoices","onDelete","onAdd","PollChoice","deleteItem","canDelete","randomHash","toString","ChoicesControl","close","question","allowed_choices","allow_revotes","is_public","isEdit","put","non_field_errors","PollPublicSwitch","Poll","PollForm","DATE_ABBR","USER_SPAN","USER_URL","votes","PollCreation","getPoster","getPostedOn","absolute","relative","PollLength","ends_on","getEndsOn","endsOn","PollVotes","npgettext","PollIsPublic","Results","Voting","showResults","hasSelectedChoices","isPollOver","getIsPollOver","can_vote","showVoting","proc","ceil","getVotesLabel","selected","ChoiceVotes","UserChoice","Chart","Options","PollInfo","hydratedData","voters","voter","voted_on","ModalBody","ChoicesList","ChoiceDetails","VotesCount","VotesList","Voter","VoteDate","Modal","posting","isVisible","controls","canVote","canChangeVote","can_see_votes","can_edit","can_delete","edit","control","ChangeVote","SeeVotes","seeVotes","Edit","Delete","deletePoll","busy","newThreadAcl","release","choicesLeft","PollChoicesLeft","PollAllowRevote","ChoicesHelp","ChoicesSelect","getChoicesLeft","getChoiceFromHash","selectChoice","deselectChoice","toggleChoice","ChoiceSelect","diff","DiffItem","getItemClassName","cleanItem","revertEdit","canRevert","Diff","hydrateEdit","edits","isReady","hydratedPost","goToEdit","ModalDialog","next","previous","goBack","goForward","goLast","GoBackBtn","GoForwardBtn","GoLastBtn","RevertBtn","Label","editor","editor_name","date","edited_on","edited_by","json","Post","Preview","Default","Invalid","tooltip","Body","PostSide","GoToButton","Anonymous","Registered","UserTitle","userTitle","is_tab","int","likes","hydrateLike","liked_on","likesCount","LikesList","like","LikeDetails","liker_id","LikeDate","likedOn","CLASS_ACTIVE","CLASS_DEFAULT","CLASS_MINIMIZED","CLASS_FULLSCREEN","PostingDialog","body","classList","add","fullscreen","minimized","PostingDialogBody","PostingDialogError","PostingDialogHeader","minimize","fullscreenEnter","fullscreenExit","open","getGlobalState","getQuoteMarkup","PostingQuoteSelection","getQuoteSelection","rect","getBoundingClientRect","default","focusEditor","globalState","quote","position","left","scrollX","top","bottom","scrollY","reply","rangeCount","getRangeAt","isRangeContained","isPostContained","isAnyTextSelected","cloneContents","commonAncestorContainer","p","nodeName","dataset","noquote","childNodes","child","nodeType","Node","TEXT_NODE","textContent","PostingThreadOptions","isClosed","isHidden","isPinned","unhide","pinGlobally","pinLocally","unpin","icons","getIcons","pin","closed","hidden","pinned","getPostValidators","clearGlobalState","setGlobalState","protect","is_protected","can_protect","newPost","config","loadSuccess","loadError","onQuote","context","newContext","appendData","submit","dialogProps","onPostChange","PostingDialogEditReply","metadata","getQuoteMetadata","convertNodesToMarkup","codeBlock","getQuoteCodeBlock","isNodeInlineCodeBlock","isNodeElementWithQuoteMetadata","getQuoteMetadataFromNode","ELEMENT_NODE","block","isNodeCodeBlock","getNodeCodeBlockMeta","nodes","stack","convertNodeToMarkup","SIMPLE_NODE_MAPPINGS","H1","H2","H3","H4","H5","H6","STRONG","EM","DEL","B","U","I","SUB","SUP","alt","toUpperCase","code","ordered","misagoReply","Start","StartPrivate","Reply","mode","PostingDialogReply","cleanUsernames","getTitleValidators","to","onToChange","onTitleChange","PostingDialogStartPrivate","CategorySelect","categoryOptions","onCategoryChange","onClose","onOpen","onHide","onUnhide","onPinGlobally","onPinLocally","onUnpin","PostingDialogStart","isRemoved","a","usernames","normalisedNames","split","removedBlanks","removedDuplicates","pos","maxLength","minLength","getTitleLengthMin","getTitleLengthMax","post_length_max","validatePostLengthMin","validatePostLengthMax","thread_title_length_min","limitValue","limit_value","show_value","thread_title_length_max","can_hide","Hide","hidden_on","hidden_by_name","hidden_by","Unhide","decision","isDeleted","ICON","changed_title","pinned_globally","pinned_locally","unpinned","moved","merged","approved","opened","unhid","hid","changed_owner","tookover","added_participant","owner_left","participant_left","removed_participant","EventIcon","event_type","Info","UnreadLabel","Waypoint","Controls","DATE_URL","Hidden","event_by","event_on","Poster","MESSAGE","ITEM_LINK","ITEM_SPAN","ChangedTitle","msgstring","oldTitle","event_context","old_title","Moved","fromCategory","from_category","Merged","mergedThread","merged_thread","ChangedOwner","newOwner","AddedParticipant","RemovedParticipant","Event","PostPreview","is_event","AttachmentPreview","AttachmentIcon","AttachmentThumbnail","backgroundImage","AttachmentDetails","Attachment","can_see_hidden","Row","HIDDEN_BY_URL","HIDDEN_BY_SPAN","HIDDEN_ON","approve","ops","previousState","unprotect","lastLikes","last_likes","concatedLikes","finalLikes","is_liked","unlike","markAsBestAnswer","best_answer_is_protected","best_answer_marked_on","best_answer_marked_by","best_answer_marked_by_name","best_answer_marked_by_slug","patchThread","unmarkBestAnswer","MoveModal","PostChangelog","SplitModal","Permalink","permaUrl","protocol","host","prompt","MarkAsBestAnswer","can_mark_best_answer","can_mark_as_best_answer","can_change_best_answer","UnmarkMarkBestAnswer","can_unmark_best_answer","PostEdits","isUnedited","Approve","can_approve","Move","can_move","Split","Protect","Unprotect","can_unhide","move","new_thread","onUrlChange","ModalLoader","ModerationForm","PostingConfig","isError","categoryId","can_pin_threads","can_hide_threads","can_close_threads","isHiddenChoices","isClosedChoices","isValid","apiResponse","getWeightChoices","renderWeightField","renderHiddenField","renderClosedField","Error","FlagBestAnswer","marked_on","marked_by","FlagHidden","FlagUnapproved","FlagProtected","LikesModal","can_reply","can_see_likes","can_like","MarkAsBestAnswerCompact","Like","Likes","hasLikes","getLikesMessage","LikesCompact","u","hiddenLikes","otherUsers","lastUser","usernamesList","last_user","StatusIcon","getStatusClassName","getStatusDescription","UnreadCompact","PostedOn","PostedOnCompact","PostEditsCompacts","ProtectedLabel","postAuthor","hasAcl","Attachments","UserPostcount","UserStatusLabel","hasVisibleTitle","StatusLabel","deselect","can_merge_posts","waypoint","handler","direction","boundingClientRect","offsetBottom","clientHeight","documentElement","read","thread_is_read","Status","ProfileDataList","profile","is_active","FollowButton","MessageButton","ModerationOptions","ProfileHeader","follow","available","ProfileModerationButton","ProfileNav","pages","ban","has","initWithPreloadedData","pop","initWithoutPreloadedData","stop","user_message","staff_message","keys","getUserMessage","getStaffMessage","getPanelBody","isAuthenticated","SafeValue","FieldValue","Field","EmptyMessage","Group","ProfileDetailsHeader","onEdit","showEditButton","GroupsList","ProfileDetailsData","loadDetails","editing","newDetails","profileDetails","Route","PostFeed","loadItems","loadMore","Feed","LoadMoreButton","is_followed","followers","action","getLabel","Search","UsersList","loadUsers","search","more","setSpecialProps","PRELOADED_DATA_KEY","TITLE","API_FILTER","apiUrl","getEmptyMessage","getMoreButton","getListBody","Followers","canMessage","can_start_private_threads","isProfileOwner","ModalMessage","is_avatar_locked","avatar_lock_user_message","avatar_lock_staff_message","moderate_avatar","avatar_hash","getFormBody","getModalBody","moderate_username","countdown","with_content","getButtonLabel","getDeletedBody","getForm","AvatarControls","showAvatarDialog","rename","showRenameDialog","showDeleteDialog","BanDetails","Details","Follows","getModeration","can_follow","is_anonymous","can_rename","can_moderate_avatar","COMPONENTS","follows","details","loadChanges","changes","RegisterForm","captcha","account_activation","criteria","showRegisterForm","PasswordStrength","showBannedPage","handleToggleAgreement","validator","passwordMinLength","min_length","formValidators","max_length","requiredTermsOfService","requiredPrivacyPolicy","terms_of_service","privacy_policy","__all__","form","handlePrivacyPolicyChange","handleTermsOfServiceChange","RegisterComplete","activation","getLead","getSubscript","signIn","completeRegistration","RequestLinkForm","LinkSent","reset","ReactDOM","RequestResetForm","showInactivePage","AccountInactivePage","getActivateButton","SignInModal","ResetPasswordForm","PasswordChangedPage","showSignIn","softSignOut","updatePosts","updateSearch","updateUsers","urlQuery","history","pushState","encodeURIComponent","providers","onQueryChange","SearchThreads","SearchUsers","components","SearchForm","SearchTime","time","Badge","SearchPage","route","appendPosts","updateProvider","LoadMore","getChoice","change","showActivation","val","getCsrfToken","getActivationButton","TYPES_CLASSES","warning","Snackbar","snackbarClass","getSnackbarClass","Complete","backend_name","backendName","pageTitleTpl","pageTitle","backend","Register","SocialAuth","step","handleRegistrationComplete","emailProtected","checkTermsOfService","checkPrivacyPolicy","onRegistrationComplete","stateUpdate","emailHelpText","emailHelpTextTpl","ThreadModeration","ThreadSubscriptionButton","ThreadHeaderBreadcrumbs","ThreadHeader","is_authenticated","enabled","breadcrumbs","ThreadModerationOptions","ThreadPagination","first","last","ThreadPollButton","compact","ThreadPostsLeft","ThreadPostsModerationOptions","ThreadPostsModeration","dropup","ThreadReplyButton","ThreadShortcutsButton","unapproved_post","stickToBottom","alert","oldState","finalState","ThreadToolbarBottom","onReply","ThreadToolbarTop","pollDisabled","onPoll","can_start_poll","ErrorsList","deselectAll","ids","rollback","merge","Merge","can_merge","PostErrors","heading","ErrorsModal","Array","isArray","handleSuccessUnmounted","ThreadChangeTitleModal","MergeModal","successMessage","changeTitle","MergeConflict","best_answers","other_thread","post_set","ModalLoading","basePath","pk","Participants","PostsList","setPageTitle","editPoll","shouldFetchData","fetchData","startPollingApi","stopPollingApi","params","unload","delayed","threadModeration","getThreadModeration","postsModeration","getPostsModeration","openPollForm","openReplyForm","closePollForm","can_close","can_pin_globally","can_pin","can_unprotect","ThreadsCategoryPicker","allItems","parentUrl","ThreadsListPicker","lists","longName","ThreadsToolbarModeration","ThreadsToolbar","categoriesMap","topCategory","topCategories","subCategory","subCategories","addThreads","startThread","freezeThread","updateThread","deleteThread","allow","ModerationControls","compareLastPostAge","b","compareGlobalWeight","compareWeight","root","getTopCategory","cat","MergeThreads","MoveThreads","threadsMap","failedThreads","noSelection","t","none","ThreadErrors","filterThreads","getFormdata","categoryChoices","can_start_threads","renderForm","renderCantMergeMessage","storeState","getState","leftThreads","acls","renderCantMoveMessage","getSelect","getLists","can_see_unapproved_content_lists","routes","Container","diffThreads","getModerationActions","getPageTitle","sets","loadThreads","getCategory","getSorting","currentState","toggle","isMounted","dropdown","pollResponse","index_title","forum_name","isIndex","specialRole","index_header","pageLead","applyDiff","isThreadChanged","current","fromDb","currentMap","NavbarSearch","RegisterButton","GuestMenu","LOGIN_URL","showSignInModal","GuestNav","CompactGuestNav","showGuestMenu","UserNav","CompactUserNav","UserMenu","CompactUserMenu","ChangeAvatarModal","following","changeAvatar","can_use_private_threads","PrivateThreadsBadge","unread_private_threads","UserPrivateThreadsLink","selectUserMenu","showConnected","showUserMenu","getClass","is_banned","is_online_hidden","is_offline_hidden","is_online","is_offline","getHelp","banned_until","ban_expires","last_click","hiddenOnMobile","changed_by","changed_by_username","renderUserAvatar","renderUsername","old_username","new_username","changed_on","ChangePreview","Change","ListEmpty","ListReady","ListPreview","showStatus","JoinDate","getStatClassName","stat","cols","colClassName","apply","Number","call","UsersNav","getPageUrl","days","trackedPeriod","rankUrl","getUserStatus","getRankName","getUserTitle","counter","meta","ItemPreview","posters","getLeadMessage","tracked_period","RankUsersLeft","RankUsersList","RankUsersListLoader","RankUsersPagination","RankUsersToolbar","PageLead","getRankDescription","getComponent","ActivePosters","Rank","iconOn","iconOff","labelOn","labelOff","OrderedList","Misago","_initializers","_context","initializer","after","before","initOrder","orderedValues","fallback","init","addInitializer","AUTH_SYNC_RATE","setInterval","storage","include","mount","AuthMessage","Categories","Profile","RequestActivationLink","RequestPasswordReset","PRIVATE_THREADS_LIST","getListOptions","currentLink","Users","locale","attr","forum_index_title","reducer","initialState","addReducer","isAnonymous","doTick","TICK_PERIOD","UPDATE_AVATAR","UPDATE_USERNAME","PATCH_USER","SIGN_IN","SIGN_OUT","signOut","soft","userId","REPLACE_PARTICIPANTS","BUSY_POLL","RELEASE_POLL","REMOVE_POLL","REPLACE_POLL","UPDATE_POLL","hydrated","hydrateUser","PATCH_POST","updated_on","hydrateAttachment","postReducer","hydratePost","APPEND_POSTS","SELECT_POST","DESELECT_POST","DESELECT_POSTS","LOAD_POSTS","UNLOAD_POSTS","UPDATE_POSTS","selectedPosts","deseletedPosts","deseletedAllPosts","resultsIds","reducedPosts","LOAD_DETAILS","hydrateStatus","HYDRATE_PROFILE","PATCH_PROFILE","REPLACE_SEARCH","UPDATE_SEARCH","UPDATE_SEARCH_PROVIDER","SELECT_ALL","SELECT_NONE","SELECT_ITEM","itemsIds","itemId","SHOW_SNACKBAR","HIDE_SNACKBAR","showSnackbar","messageType","hideSnackbar","BUSY_THREAD","RELEASE_THREAD","REPLACE_THREAD","UPDATE_THREAD","UPDATE_THREAD_ACL","concatUnique","APPEND_THREADS","DELETE_THREAD","FILTER_THREADS","HYDRATE_THREADS","PATCH_THREAD","SORT_THREADS","MODERATION_PERMISSIONS","sorting","sort","getThreadModerationOptions","thread_acl","perm","hydrateThread","mergedState","itemCategory","lft","rght","patchedState","TICK","ADD_NAME_CHANGE","APPEND_HISTORY","HYDRATE_HISTORY","changedBy","hydrateNamechange","namechange","unshift","Date","now","APPEND_USERS","HYDRATE_USERS","Ajax","_cookieName","_csrfToken","_locks","cookieName","cookie","cookieRegex","RegExp","match","method","self","resolve","reject","xhr","headers","JSON","stringify","contentType","dataType","jqXHR","responseJSON","statusText","lock","param","waiter","wait","request","processData","XMLHttpRequest","evt","lengthComputable","total","Auth","local","_store","_local","_modal","syncSession","watchState","watch","BaseCaptcha","_ajax","_include","_snackbar","NoCaptcha","QACaptcha","kwargs","ReCaptchaComponent","grecaptcha","sitekey","siteKey","binding","ReCaptcha","recaptcha_site_key","Captcha","captcha_type","_captcha","Include","staticUrl","_staticUrl","_included","script","remote","cache","localStorage","LocalStorage","_prefix","_watchers","e","newValueJson","parse","watcher","oldValue","setItem","itemString","getItem","MobileNavbarDropdown","_element","_component","removeClass","unmountComponentAtNode","ytRegExp","OneBox","highlightCode","embedYoutubePlayers","_youtube","hljs","codeblocks","querySelectorAll","highlightElement","anchors","onlyChild","parseYoutubeUrl","youtubeMovie","swapYoutubePlayer","youtube","video","player","replaceWith","wrap","cleanedUrl","cleanUrl","getVideoIdFromUrl","timebit","bits","parseInt","PageTitle","indexTitle","forumName","_indexTitle","_forumName","finalTitle","pageLabel","Polls","_polls","poolServer","_stopped","timeout","pollId","PostingComponent","Posting","_isOpen","_isClosing","_mount","_observer","unobserve","_spacer","_mode","ResizeObserver","entries","contentRect","_realOpen","changeForm","observe","HIDE_ANIMATION_LENGTH","MESSAGE_SHOW_LENGTH","_timeout","combineReducers","createStore","StoreWrapper","_reducers","_initialState","Zxcvbn","_isLoaded","_loadingPromise","_loadedPromise","tries","Provider","BannedPage","RedrawedBannedPage","changeState","getStore","rowWidth","padding","rows","m","bytes","roundSize","toFixed","URL_PATTERN","str","test","rootElementId","connected","rootElement","finalComponent","isOrdered","_items","order","values","values_only","_order","unordered","ordering","insertItem","insertAt","splice","iterations","min","max","array","Router","browserHistory","childRoutes","onEnter","replaceState","string","subString","n","EMAIL","USERNAME","returnMessage","lengthMin","lengthMax"],"sourceRoot":""}