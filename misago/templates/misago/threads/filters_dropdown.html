{% load i18n %}
<div class="dropdown threads-filter-picker d-js-block">
  <button
    type="button"
    class="btn btn-default dropdown-toggle btn-block"
    data-toggle="dropdown"
    aria-haspopup="true"
    aria-expanded="false"
  >
    {% if active_filter %}
      {{ active_filter.name }}
    {% else %}
      {% trans "Filter threads" context "threads list filter" %}
    {% endif %}
  </button>
  <ul class="dropdown-menu stick-to-bottom">
    {% if active_filter %}
      <li>
        <a href="{{ threads.clear_filters_url }}">
          {% trans "Clear filters" context "threads list filter" %}
        </a>
      </li>
    {% endif %}
    {% for filter in filters %}
      <li>
        <a href="{{ filter.url }}">
          {{ filter.name }}
        </a>
      </li>
    {% endfor %}
  </ul>
</div>
<noscript>
  <div class="noscript-collapsible threads-filter-collapsible hidden-sm hidden-md hidden-lg">
    <label
      class="btn btn-default dropdown-toggle"
      for="threads-filters-collapsible"
    >
      {% if threads.active_filter %}
        {{ threads.active_filter.name }}
      {% else %}
        {% trans "Filter threads" context "threads list filter" %}
      {% endif %}
    </label>
    <input id="threads-filters-collapsible" type="checkbox" />
    <div class="noscript-collapsible-items">
      {% if threads.active_filter %}
        <a class="btn btn-default" href="{{ threads.clear_filters_url }}">
          {% trans "Clear filters" context "threads list filter" %}
        </a>
      {% endif %}
      {% for filter in threads.filters %}
        <a class="btn btn-default" href="{{ filter.url }}">
          {{ filter.name }}
        </a>
      {% endfor %}
    </div>
  </div>
</noscript>